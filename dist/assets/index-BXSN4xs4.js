(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Th={exports:{}},Ca={},bh={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function pb(){if(Kv)return Ge;Kv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function p(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function _(j,U,K){this.props=j,this.context=U,this.refs=w,this.updater=K||m}_.prototype.isReactComponent={},_.prototype.setState=function(j,U){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,U,"setState")},_.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function E(){}E.prototype=_.prototype;function T(j,U,K){this.props=j,this.context=U,this.refs=w,this.updater=K||m}var O=T.prototype=new E;O.constructor=T,S(O,_.prototype),O.isPureReactComponent=!0;var A=Array.isArray,M=Object.prototype.hasOwnProperty,F={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function x(j,U,K){var ee,Z={},z=null,X=null;if(U!=null)for(ee in U.ref!==void 0&&(X=U.ref),U.key!==void 0&&(z=""+U.key),U)M.call(U,ee)&&!P.hasOwnProperty(ee)&&(Z[ee]=U[ee]);var oe=arguments.length-2;if(oe===1)Z.children=K;else if(1<oe){for(var se=Array(oe),pe=0;pe<oe;pe++)se[pe]=arguments[pe+2];Z.children=se}if(j&&j.defaultProps)for(ee in oe=j.defaultProps,oe)Z[ee]===void 0&&(Z[ee]=oe[ee]);return{$$typeof:n,type:j,key:z,ref:X,props:Z,_owner:F.current}}function D(j,U){return{$$typeof:n,type:j.type,key:U,ref:j.ref,props:j.props,_owner:j._owner}}function C(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function I(j){var U={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(K){return U[K]})}var L=/\/+/g;function N(j,U){return typeof j=="object"&&j!==null&&j.key!=null?I(""+j.key):U.toString(36)}function H(j,U,K,ee,Z){var z=typeof j;(z==="undefined"||z==="boolean")&&(j=null);var X=!1;if(j===null)X=!0;else switch(z){case"string":case"number":X=!0;break;case"object":switch(j.$$typeof){case n:case e:X=!0}}if(X)return X=j,Z=Z(X),j=ee===""?"."+N(X,0):ee,A(Z)?(K="",j!=null&&(K=j.replace(L,"$&/")+"/"),H(Z,U,K,"",function(pe){return pe})):Z!=null&&(C(Z)&&(Z=D(Z,K+(!Z.key||X&&X.key===Z.key?"":(""+Z.key).replace(L,"$&/")+"/")+j)),U.push(Z)),1;if(X=0,ee=ee===""?".":ee+":",A(j))for(var oe=0;oe<j.length;oe++){z=j[oe];var se=ee+N(z,oe);X+=H(z,U,K,se,Z)}else if(se=p(j),typeof se=="function")for(j=se.call(j),oe=0;!(z=j.next()).done;)z=z.value,se=ee+N(z,oe++),X+=H(z,U,K,se,Z);else if(z==="object")throw U=String(j),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return X}function G(j,U,K){if(j==null)return j;var ee=[],Z=0;return H(j,ee,"","",function(z){return U.call(K,z,Z++)}),ee}function re(j){if(j._status===-1){var U=j._result;U=U(),U.then(function(K){(j._status===0||j._status===-1)&&(j._status=1,j._result=K)},function(K){(j._status===0||j._status===-1)&&(j._status=2,j._result=K)}),j._status===-1&&(j._status=0,j._result=U)}if(j._status===1)return j._result.default;throw j._result}var ne={current:null},ie={transition:null},Y={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:ie,ReactCurrentOwner:F};function $(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:G,forEach:function(j,U,K){G(j,function(){U.apply(this,arguments)},K)},count:function(j){var U=0;return G(j,function(){U++}),U},toArray:function(j){return G(j,function(U){return U})||[]},only:function(j){if(!C(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ge.Component=_,Ge.Fragment=t,Ge.Profiler=o,Ge.PureComponent=T,Ge.StrictMode=i,Ge.Suspense=h,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ge.act=$,Ge.cloneElement=function(j,U,K){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ee=S({},j.props),Z=j.key,z=j.ref,X=j._owner;if(U!=null){if(U.ref!==void 0&&(z=U.ref,X=F.current),U.key!==void 0&&(Z=""+U.key),j.type&&j.type.defaultProps)var oe=j.type.defaultProps;for(se in U)M.call(U,se)&&!P.hasOwnProperty(se)&&(ee[se]=U[se]===void 0&&oe!==void 0?oe[se]:U[se])}var se=arguments.length-2;if(se===1)ee.children=K;else if(1<se){oe=Array(se);for(var pe=0;pe<se;pe++)oe[pe]=arguments[pe+2];ee.children=oe}return{$$typeof:n,type:j.type,key:Z,ref:z,props:ee,_owner:X}},Ge.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Ge.createElement=x,Ge.createFactory=function(j){var U=x.bind(null,j);return U.type=j,U},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(j){return{$$typeof:f,render:j}},Ge.isValidElement=C,Ge.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:re}},Ge.memo=function(j,U){return{$$typeof:g,type:j,compare:U===void 0?null:U}},Ge.startTransition=function(j){var U=ie.transition;ie.transition={};try{j()}finally{ie.transition=U}},Ge.unstable_act=$,Ge.useCallback=function(j,U){return ne.current.useCallback(j,U)},Ge.useContext=function(j){return ne.current.useContext(j)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(j){return ne.current.useDeferredValue(j)},Ge.useEffect=function(j,U){return ne.current.useEffect(j,U)},Ge.useId=function(){return ne.current.useId()},Ge.useImperativeHandle=function(j,U,K){return ne.current.useImperativeHandle(j,U,K)},Ge.useInsertionEffect=function(j,U){return ne.current.useInsertionEffect(j,U)},Ge.useLayoutEffect=function(j,U){return ne.current.useLayoutEffect(j,U)},Ge.useMemo=function(j,U){return ne.current.useMemo(j,U)},Ge.useReducer=function(j,U,K){return ne.current.useReducer(j,U,K)},Ge.useRef=function(j){return ne.current.useRef(j)},Ge.useState=function(j){return ne.current.useState(j)},Ge.useSyncExternalStore=function(j,U,K){return ne.current.useSyncExternalStore(j,U,K)},Ge.useTransition=function(){return ne.current.useTransition()},Ge.version="18.3.1",Ge}var Wv;function Tc(){return Wv||(Wv=1,bh.exports=pb()),bh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function mb(){if(Gv)return Ca;Gv=1;var n=Tc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,g){var y,v={},p=null,m=null;g!==void 0&&(p=""+g),h.key!==void 0&&(p=""+h.key),h.ref!==void 0&&(m=h.ref);for(y in h)i.call(h,y)&&!a.hasOwnProperty(y)&&(v[y]=h[y]);if(f&&f.defaultProps)for(y in h=f.defaultProps,h)v[y]===void 0&&(v[y]=h[y]);return{$$typeof:e,type:f,key:p,ref:m,props:v,_owner:o.current}}return Ca.Fragment=t,Ca.jsx=u,Ca.jsxs=u,Ca}var Qv;function gb(){return Qv||(Qv=1,Th.exports=mb()),Th.exports}var W=gb(),Cu={},Sh={exports:{}},gn={},Ah={exports:{}},Ih={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function vb(){return Yv||(Yv=1,function(n){function e(ie,Y){var $=ie.length;ie.push(Y);e:for(;0<$;){var j=$-1>>>1,U=ie[j];if(0<o(U,Y))ie[j]=Y,ie[$]=U,$=j;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var Y=ie[0],$=ie.pop();if($!==Y){ie[0]=$;e:for(var j=0,U=ie.length,K=U>>>1;j<K;){var ee=2*(j+1)-1,Z=ie[ee],z=ee+1,X=ie[z];if(0>o(Z,$))z<U&&0>o(X,Z)?(ie[j]=X,ie[z]=$,j=z):(ie[j]=Z,ie[ee]=$,j=ee);else if(z<U&&0>o(X,$))ie[j]=X,ie[z]=$,j=z;else break e}}return Y}function o(ie,Y){var $=ie.sortIndex-Y.sortIndex;return $!==0?$:ie.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var h=[],g=[],y=1,v=null,p=3,m=!1,S=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(ie){for(var Y=t(g);Y!==null;){if(Y.callback===null)i(g);else if(Y.startTime<=ie)i(g),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=t(g)}}function A(ie){if(w=!1,O(ie),!S)if(t(h)!==null)S=!0,re(M);else{var Y=t(g);Y!==null&&ne(A,Y.startTime-ie)}}function M(ie,Y){S=!1,w&&(w=!1,E(x),x=-1),m=!0;var $=p;try{for(O(Y),v=t(h);v!==null&&(!(v.expirationTime>Y)||ie&&!I());){var j=v.callback;if(typeof j=="function"){v.callback=null,p=v.priorityLevel;var U=j(v.expirationTime<=Y);Y=n.unstable_now(),typeof U=="function"?v.callback=U:v===t(h)&&i(h),O(Y)}else i(h);v=t(h)}if(v!==null)var K=!0;else{var ee=t(g);ee!==null&&ne(A,ee.startTime-Y),K=!1}return K}finally{v=null,p=$,m=!1}}var F=!1,P=null,x=-1,D=5,C=-1;function I(){return!(n.unstable_now()-C<D)}function L(){if(P!==null){var ie=n.unstable_now();C=ie;var Y=!0;try{Y=P(!0,ie)}finally{Y?N():(F=!1,P=null)}}else F=!1}var N;if(typeof T=="function")N=function(){T(L)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,G=H.port2;H.port1.onmessage=L,N=function(){G.postMessage(null)}}else N=function(){_(L,0)};function re(ie){P=ie,F||(F=!0,N())}function ne(ie,Y){x=_(function(){ie(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){S||m||(S=!0,re(M))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(ie){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var $=p;p=Y;try{return ie()}finally{p=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,Y){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var $=p;p=ie;try{return Y()}finally{p=$}},n.unstable_scheduleCallback=function(ie,Y,$){var j=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?j+$:j):$=j,ie){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=$+U,ie={id:y++,callback:Y,priorityLevel:ie,startTime:$,expirationTime:U,sortIndex:-1},$>j?(ie.sortIndex=$,e(g,ie),t(h)===null&&ie===t(g)&&(w?(E(x),x=-1):w=!0,ne(A,$-j))):(ie.sortIndex=U,e(h,ie),S||m||(S=!0,re(M))),ie},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(ie){var Y=p;return function(){var $=p;p=Y;try{return ie.apply(this,arguments)}finally{p=$}}}}(Ih)),Ih}var Xv;function yb(){return Xv||(Xv=1,Ah.exports=vb()),Ah.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function _b(){if(Jv)return gn;Jv=1;var n=Tc(),e=yb();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function p(r){return h.call(v,r)?!0:h.call(y,r)?!1:g.test(r)?v[r]=!0:(y[r]=!0,!1)}function m(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function S(r,s,l,d){if(s===null||typeof s>"u"||m(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function w(r,s,l,d,b,R,q){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=b,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=R,this.removeEmptyString=q}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){_[r]=new w(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];_[s]=new w(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){_[r]=new w(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){_[r]=new w(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){_[r]=new w(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){_[r]=new w(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){_[r]=new w(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){_[r]=new w(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){_[r]=new w(r,5,!1,r.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function T(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(E,T);_[s]=new w(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(E,T);_[s]=new w(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(E,T);_[s]=new w(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){_[r]=new w(r,1,!1,r.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){_[r]=new w(r,1,!1,r.toLowerCase(),null,!0,!0)});function O(r,s,l,d){var b=_.hasOwnProperty(s)?_[s]:null;(b!==null?b.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,l,b,d)&&(l=null),d||b===null?p(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):b.mustUseProperty?r[b.propertyName]=l===null?b.type===3?!1:"":l:(s=b.attributeName,d=b.attributeNamespace,l===null?r.removeAttribute(s):(b=b.type,l=b===3||b===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var A=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),F=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),ie=Symbol.iterator;function Y(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var $=Object.assign,j;function U(r){if(j===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+r}var K=!1;function ee(r,s){if(!r||K)return"";K=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ce){var d=ce}Reflect.construct(r,[],s)}else{try{s.call()}catch(ce){d=ce}r.call(s.prototype)}else{try{throw Error()}catch(ce){d=ce}r()}}catch(ce){if(ce&&d&&typeof ce.stack=="string"){for(var b=ce.stack.split(`
`),R=d.stack.split(`
`),q=b.length-1,Q=R.length-1;1<=q&&0<=Q&&b[q]!==R[Q];)Q--;for(;1<=q&&0<=Q;q--,Q--)if(b[q]!==R[Q]){if(q!==1||Q!==1)do if(q--,Q--,0>Q||b[q]!==R[Q]){var J=`
`+b[q].replace(" at new "," at ");return r.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",r.displayName)),J}while(1<=q&&0<=Q);break}}}finally{K=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?U(r):""}function Z(r){switch(r.tag){case 5:return U(r.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return r=ee(r.type,!1),r;case 11:return r=ee(r.type.render,!1),r;case 1:return r=ee(r.type,!0),r;default:return""}}function z(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case F:return"Portal";case D:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case H:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case I:return(r.displayName||"Context")+".Consumer";case C:return(r._context.displayName||"Context")+".Provider";case L:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case G:return s=r.displayName||null,s!==null?s:z(r.type)||"Memo";case re:s=r._payload,r=r._init;try{return z(r(s))}catch{}}return null}function X(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(s);case 8:return s===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function oe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function se(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pe(r){var s=se(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var b=l.get,R=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return b.call(this)},set:function(q){d=""+q,R.call(this,q)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(q){d=""+q},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ie(r){r._valueTracker||(r._valueTracker=pe(r))}function Le(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=se(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function Ve(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ke(r,s){var l=s.checked;return $({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Qe(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=oe(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function xt(r,s){s=s.checked,s!=null&&O(r,"checked",s,!1)}function dt(r,s){xt(r,s);var l=oe(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?me(r,s.type,l):s.hasOwnProperty("defaultValue")&&me(r,s.type,oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function de(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function me(r,s,l){(s!=="number"||Ve(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var be=Array.isArray;function Ae(r,s,l,d){if(r=r.options,s){s={};for(var b=0;b<l.length;b++)s["$"+l[b]]=!0;for(l=0;l<r.length;l++)b=s.hasOwnProperty("$"+r[l].value),r[l].selected!==b&&(r[l].selected=b),b&&d&&(r[l].defaultSelected=!0)}else{for(l=""+oe(l),s=null,b=0;b<r.length;b++){if(r[b].value===l){r[b].selected=!0,d&&(r[b].defaultSelected=!0);return}s!==null||r[b].disabled||(s=r[b])}s!==null&&(s.selected=!0)}}function ve(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return $({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Be(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(be(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:oe(l)}}function ze(r,s){var l=oe(s.value),d=oe(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function We(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function it(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?it(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var nt,Fi=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,b){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,b)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(nt=nt||document.createElement("div"),nt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=nt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function lt(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Qt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qi=["Webkit","ms","Moz","O"];Object.keys(Qt).forEach(function(r){qi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Qt[s]=Qt[r]})});function Bs(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Qt.hasOwnProperty(r)&&Qt[r]?(""+s).trim():s+"px"}function zs(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,b=Bs(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,b):r[l]=b}}var Hs=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $s(r,s){if(s){if(Hs[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ks(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function Ro(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Po=null,In=null,rr=null;function Co(r){if(r=ga(r)){if(typeof Po!="function")throw Error(t(280));var s=r.stateNode;s&&(s=$l(s),Po(r.stateNode,r.type,s))}}function ir(r){In?rr?rr.push(r):rr=[r]:In=r}function Ws(){if(In){var r=In,s=rr;if(rr=In=null,Co(r),s)for(r=0;r<s.length;r++)Co(s[r])}}function Bi(r,s){return r(s)}function Gs(){}var Sr=!1;function Qs(r,s,l){if(Sr)return r(s,l);Sr=!0;try{return Bi(r,s,l)}finally{Sr=!1,(In!==null||rr!==null)&&(Gs(),Ws())}}function St(r,s){var l=r.stateNode;if(l===null)return null;var d=$l(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Oo=!1;if(f)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Oo=!1}function zi(r,s,l,d,b,R,q,Q,J){var ce=Array.prototype.slice.call(arguments,3);try{s.apply(l,ce)}catch(_e){this.onError(_e)}}var Hi=!1,No=null,Fn=!1,Ys=null,Qc={onError:function(r){Hi=!0,No=r}};function Lo(r,s,l,d,b,R,q,Q,J){Hi=!1,No=null,zi.apply(Qc,arguments)}function gl(r,s,l,d,b,R,q,Q,J){if(Lo.apply(this,arguments),Hi){if(Hi){var ce=No;Hi=!1,No=null}else throw Error(t(198));Fn||(Fn=!0,Ys=ce)}}function qn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function $i(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Un(r){if(qn(r)!==r)throw Error(t(188))}function vl(r){var s=r.alternate;if(!s){if(s=qn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var b=l.return;if(b===null)break;var R=b.alternate;if(R===null){if(d=b.return,d!==null){l=d;continue}break}if(b.child===R.child){for(R=b.child;R;){if(R===l)return Un(b),r;if(R===d)return Un(b),s;R=R.sibling}throw Error(t(188))}if(l.return!==d.return)l=b,d=R;else{for(var q=!1,Q=b.child;Q;){if(Q===l){q=!0,l=b,d=R;break}if(Q===d){q=!0,d=b,l=R;break}Q=Q.sibling}if(!q){for(Q=R.child;Q;){if(Q===l){q=!0,l=R,d=b;break}if(Q===d){q=!0,d=R,l=b;break}Q=Q.sibling}if(!q)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Xs(r){return r=vl(r),r!==null?Do(r):null}function Do(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Do(r);if(s!==null)return s;r=r.sibling}return null}var Mo=e.unstable_scheduleCallback,Js=e.unstable_cancelCallback,yl=e.unstable_shouldYield,Yc=e.unstable_requestPaint,ft=e.unstable_now,_l=e.unstable_getCurrentPriorityLevel,Ki=e.unstable_ImmediatePriority,Yr=e.unstable_UserBlockingPriority,xn=e.unstable_NormalPriority,Zs=e.unstable_LowPriority,El=e.unstable_IdlePriority,Wi=null,_n=null;function wl(r){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Wi,r,void 0,(r.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:bl,ea=Math.log,Tl=Math.LN2;function bl(r){return r>>>=0,r===0?32:31-(ea(r)/Tl|0)|0}var jo=64,Vo=4194304;function Xr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Gi(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,b=r.suspendedLanes,R=r.pingedLanes,q=l&268435455;if(q!==0){var Q=q&~b;Q!==0?d=Xr(Q):(R&=q,R!==0&&(d=Xr(R)))}else q=l&~b,q!==0?d=Xr(q):R!==0&&(d=Xr(R));if(d===0)return 0;if(s!==0&&s!==d&&!(s&b)&&(b=d&-d,R=s&-s,b>=R||b===16&&(R&4194240)!==0))return s;if(d&4&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-on(s),b=1<<l,d|=r[l],s&=~b;return d}function Xc(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ar(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,b=r.expirationTimes,R=r.pendingLanes;0<R;){var q=31-on(R),Q=1<<q,J=b[q];J===-1?(!(Q&l)||Q&d)&&(b[q]=Xc(Q,s)):J<=s&&(r.expiredLanes|=Q),R&=~Q}}function En(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Qi(){var r=jo;return jo<<=1,!(jo&4194240)&&(jo=64),r}function Jr(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Zr(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-on(s),r[s]=l}function ct(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var b=31-on(l),R=1<<b;s[b]=0,d[b]=-1,r[b]=-1,l&=~R}}function ei(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-on(l),b=1<<d;b&s|r[d]&s&&(r[d]|=s),l&=~b}}var Je=0;function ti(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Sl,Fo,Al,Il,xl,ta=!1,or=[],Bt=null,Bn=null,zn=null,ni=new Map,kn=new Map,sr=[],Jc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kl(r,s){switch(r){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":ni.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":kn.delete(s.pointerId)}}function un(r,s,l,d,b,R){return r===null||r.nativeEvent!==R?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:R,targetContainers:[b]},s!==null&&(s=ga(s),s!==null&&Fo(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),r)}function Zc(r,s,l,d,b){switch(s){case"focusin":return Bt=un(Bt,r,s,l,d,b),!0;case"dragenter":return Bn=un(Bn,r,s,l,d,b),!0;case"mouseover":return zn=un(zn,r,s,l,d,b),!0;case"pointerover":var R=b.pointerId;return ni.set(R,un(ni.get(R)||null,r,s,l,d,b)),!0;case"gotpointercapture":return R=b.pointerId,kn.set(R,un(kn.get(R)||null,r,s,l,d,b)),!0}return!1}function Rl(r){var s=eo(r.target);if(s!==null){var l=qn(s);if(l!==null){if(s=l.tag,s===13){if(s=$i(l),s!==null){r.blockedOn=s,xl(r.priority,function(){Al(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ir(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=qo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Ui=d,l.target.dispatchEvent(d),Ui=null}else return s=ga(l),s!==null&&Fo(s),r.blockedOn=l,!1;s.shift()}return!0}function Yi(r,s,l){Ir(r)&&l.delete(s)}function Pl(){ta=!1,Bt!==null&&Ir(Bt)&&(Bt=null),Bn!==null&&Ir(Bn)&&(Bn=null),zn!==null&&Ir(zn)&&(zn=null),ni.forEach(Yi),kn.forEach(Yi)}function Hn(r,s){r.blockedOn===s&&(r.blockedOn=null,ta||(ta=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pl)))}function $n(r){function s(b){return Hn(b,r)}if(0<or.length){Hn(or[0],r);for(var l=1;l<or.length;l++){var d=or[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Bt!==null&&Hn(Bt,r),Bn!==null&&Hn(Bn,r),zn!==null&&Hn(zn,r),ni.forEach(s),kn.forEach(s),l=0;l<sr.length;l++)d=sr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<sr.length&&(l=sr[0],l.blockedOn===null);)Rl(l),l.blockedOn===null&&sr.shift()}var xr=A.ReactCurrentBatchConfig,ri=!0;function gt(r,s,l,d){var b=Je,R=xr.transition;xr.transition=null;try{Je=1,na(r,s,l,d)}finally{Je=b,xr.transition=R}}function ef(r,s,l,d){var b=Je,R=xr.transition;xr.transition=null;try{Je=4,na(r,s,l,d)}finally{Je=b,xr.transition=R}}function na(r,s,l,d){if(ri){var b=qo(r,s,l,d);if(b===null)hf(r,s,d,Xi,l),kl(r,d);else if(Zc(b,r,s,l,d))d.stopPropagation();else if(kl(r,d),s&4&&-1<Jc.indexOf(r)){for(;b!==null;){var R=ga(b);if(R!==null&&Sl(R),R=qo(r,s,l,d),R===null&&hf(r,s,d,Xi,l),R===b)break;b=R}b!==null&&d.stopPropagation()}else hf(r,s,d,null,l)}}var Xi=null;function qo(r,s,l,d){if(Xi=null,r=Ro(d),r=eo(r),r!==null)if(s=qn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=$i(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Xi=r,null}function ra(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_l()){case Ki:return 1;case Yr:return 4;case xn:case Zs:return 16;case El:return 536870912;default:return 16}default:return 16}}var wn=null,Uo=null,cn=null;function ia(){if(cn)return cn;var r,s=Uo,l=s.length,d,b="value"in wn?wn.value:wn.textContent,R=b.length;for(r=0;r<l&&s[r]===b[r];r++);var q=l-r;for(d=1;d<=q&&s[l-d]===b[R-d];d++);return cn=b.slice(r,1<d?1-d:void 0)}function Bo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ar(){return!0}function oa(){return!1}function zt(r){function s(l,d,b,R,q){this._reactName=l,this._targetInst=b,this.type=d,this.nativeEvent=R,this.target=q,this.currentTarget=null;for(var Q in r)r.hasOwnProperty(Q)&&(l=r[Q],this[Q]=l?l(R):R[Q]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?ar:oa,this.isPropagationStopped=oa,this}return $(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),s}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zo=zt(Kn),lr=$({},Kn,{view:0,detail:0}),tf=zt(lr),Ho,kr,ii,Ji=$({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ur,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ii&&(ii&&r.type==="mousemove"?(Ho=r.screenX-ii.screenX,kr=r.screenY-ii.screenY):kr=Ho=0,ii=r),Ho)},movementY:function(r){return"movementY"in r?r.movementY:kr}}),$o=zt(Ji),sa=$({},Ji,{dataTransfer:0}),Cl=zt(sa),Ko=$({},lr,{relatedTarget:0}),Wo=zt(Ko),Ol=$({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),Rr=zt(Ol),Nl=$({},Kn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ll=zt(Nl),Dl=$({},Kn,{data:0}),aa=zt(Dl),Go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Ml[r])?!!s[r]:!1}function ur(){return jl}var c=$({},lr,{key:function(r){if(r.key){var s=Go[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Bo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?sn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ur,charCode:function(r){return r.type==="keypress"?Bo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Bo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),k=zt(c),V=$({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=zt(V),ae=$({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ur}),fe=zt(ae),Se=$({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ut=zt(Se),Ct=$({},Ji,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),et=zt(Ct),jt=[9,13,27,32],kt=f&&"CompositionEvent"in window,Rn=null;f&&"documentMode"in document&&(Rn=document.documentMode);var Tn=f&&"TextEvent"in window&&!Rn,Zi=f&&(!kt||Rn&&8<Rn&&11>=Rn),Qo=" ",qm=!1;function Um(r,s){switch(r){case"keyup":return jt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Yo=!1;function fT(r,s){switch(r){case"compositionend":return Bm(s);case"keypress":return s.which!==32?null:(qm=!0,Qo);case"textInput":return r=s.data,r===Qo&&qm?null:r;default:return null}}function hT(r,s){if(Yo)return r==="compositionend"||!kt&&Um(r,s)?(r=ia(),cn=Uo=wn=null,Yo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zi&&s.locale!=="ko"?null:s.data;default:return null}}var dT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!dT[r.type]:s==="textarea"}function Hm(r,s,l,d){ir(d),s=Bl(s,"onChange"),0<s.length&&(l=new zo("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var la=null,ua=null;function pT(r){lg(r,0)}function Vl(r){var s=ts(r);if(Le(s))return r}function mT(r,s){if(r==="change")return s}var $m=!1;if(f){var nf;if(f){var rf="oninput"in document;if(!rf){var Km=document.createElement("div");Km.setAttribute("oninput","return;"),rf=typeof Km.oninput=="function"}nf=rf}else nf=!1;$m=nf&&(!document.documentMode||9<document.documentMode)}function Wm(){la&&(la.detachEvent("onpropertychange",Gm),ua=la=null)}function Gm(r){if(r.propertyName==="value"&&Vl(ua)){var s=[];Hm(s,ua,r,Ro(r)),Qs(pT,s)}}function gT(r,s,l){r==="focusin"?(Wm(),la=s,ua=l,la.attachEvent("onpropertychange",Gm)):r==="focusout"&&Wm()}function vT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Vl(ua)}function yT(r,s){if(r==="click")return Vl(s)}function _T(r,s){if(r==="input"||r==="change")return Vl(s)}function ET(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Wn=typeof Object.is=="function"?Object.is:ET;function ca(r,s){if(Wn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var b=l[d];if(!h.call(s,b)||!Wn(r[b],s[b]))return!1}return!0}function Qm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ym(r,s){var l=Qm(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Qm(l)}}function Xm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Xm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Jm(){for(var r=window,s=Ve();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Ve(r.document)}return s}function of(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function wT(r){var s=Jm(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Xm(l.ownerDocument.documentElement,l)){if(d!==null&&of(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var b=l.textContent.length,R=Math.min(d.start,b);d=d.end===void 0?R:Math.min(d.end,b),!r.extend&&R>d&&(b=d,d=R,R=b),b=Ym(l,R);var q=Ym(l,d);b&&q&&(r.rangeCount!==1||r.anchorNode!==b.node||r.anchorOffset!==b.offset||r.focusNode!==q.node||r.focusOffset!==q.offset)&&(s=s.createRange(),s.setStart(b.node,b.offset),r.removeAllRanges(),R>d?(r.addRange(s),r.extend(q.node,q.offset)):(s.setEnd(q.node,q.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var TT=f&&"documentMode"in document&&11>=document.documentMode,Xo=null,sf=null,fa=null,af=!1;function Zm(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;af||Xo==null||Xo!==Ve(d)||(d=Xo,"selectionStart"in d&&of(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),fa&&ca(fa,d)||(fa=d,d=Bl(sf,"onSelect"),0<d.length&&(s=new zo("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=Xo)))}function Fl(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Jo={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},lf={},eg={};f&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function ql(r){if(lf[r])return lf[r];if(!Jo[r])return r;var s=Jo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in eg)return lf[r]=s[l];return r}var tg=ql("animationend"),ng=ql("animationiteration"),rg=ql("animationstart"),ig=ql("transitionend"),og=new Map,sg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(r,s){og.set(r,s),a(s,[r])}for(var uf=0;uf<sg.length;uf++){var cf=sg[uf],bT=cf.toLowerCase(),ST=cf[0].toUpperCase()+cf.slice(1);oi(bT,"on"+ST)}oi(tg,"onAnimationEnd"),oi(ng,"onAnimationIteration"),oi(rg,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(ig,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ha));function ag(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,gl(d,s,void 0,r),r.currentTarget=null}function lg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],b=d.event;d=d.listeners;e:{var R=void 0;if(s)for(var q=d.length-1;0<=q;q--){var Q=d[q],J=Q.instance,ce=Q.currentTarget;if(Q=Q.listener,J!==R&&b.isPropagationStopped())break e;ag(b,Q,ce),R=J}else for(q=0;q<d.length;q++){if(Q=d[q],J=Q.instance,ce=Q.currentTarget,Q=Q.listener,J!==R&&b.isPropagationStopped())break e;ag(b,Q,ce),R=J}}}if(Fn)throw r=Ys,Fn=!1,Ys=null,r}function pt(r,s){var l=s[yf];l===void 0&&(l=s[yf]=new Set);var d=r+"__bubble";l.has(d)||(ug(s,r,2,!1),l.add(d))}function ff(r,s,l){var d=0;s&&(d|=4),ug(l,r,d,s)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function da(r){if(!r[Ul]){r[Ul]=!0,i.forEach(function(l){l!=="selectionchange"&&(AT.has(l)||ff(l,!1,r),ff(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ul]||(s[Ul]=!0,ff("selectionchange",!1,s))}}function ug(r,s,l,d){switch(ra(s)){case 1:var b=gt;break;case 4:b=ef;break;default:b=na}l=b.bind(null,s,l,r),b=void 0,!Oo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),d?b!==void 0?r.addEventListener(s,l,{capture:!0,passive:b}):r.addEventListener(s,l,!0):b!==void 0?r.addEventListener(s,l,{passive:b}):r.addEventListener(s,l,!1)}function hf(r,s,l,d,b){var R=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var q=d.tag;if(q===3||q===4){var Q=d.stateNode.containerInfo;if(Q===b||Q.nodeType===8&&Q.parentNode===b)break;if(q===4)for(q=d.return;q!==null;){var J=q.tag;if((J===3||J===4)&&(J=q.stateNode.containerInfo,J===b||J.nodeType===8&&J.parentNode===b))return;q=q.return}for(;Q!==null;){if(q=eo(Q),q===null)return;if(J=q.tag,J===5||J===6){d=R=q;continue e}Q=Q.parentNode}}d=d.return}Qs(function(){var ce=R,_e=Ro(l),we=[];e:{var ye=og.get(r);if(ye!==void 0){var xe=zo,Pe=r;switch(r){case"keypress":if(Bo(l)===0)break e;case"keydown":case"keyup":xe=k;break;case"focusin":Pe="focus",xe=Wo;break;case"focusout":Pe="blur",xe=Wo;break;case"beforeblur":case"afterblur":xe=Wo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=fe;break;case tg:case ng:case rg:xe=Rr;break;case ig:xe=ut;break;case"scroll":xe=tf;break;case"wheel":xe=et;break;case"copy":case"cut":case"paste":xe=Ll;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=B}var Ce=(s&4)!==0,At=!Ce&&r==="scroll",le=Ce?ye!==null?ye+"Capture":null:ye;Ce=[];for(var te=ce,ue;te!==null;){ue=te;var Te=ue.stateNode;if(ue.tag===5&&Te!==null&&(ue=Te,le!==null&&(Te=St(te,le),Te!=null&&Ce.push(pa(te,Te,ue)))),At)break;te=te.return}0<Ce.length&&(ye=new xe(ye,Pe,null,l,_e),we.push({event:ye,listeners:Ce}))}}if(!(s&7)){e:{if(ye=r==="mouseover"||r==="pointerover",xe=r==="mouseout"||r==="pointerout",ye&&l!==Ui&&(Pe=l.relatedTarget||l.fromElement)&&(eo(Pe)||Pe[Pr]))break e;if((xe||ye)&&(ye=_e.window===_e?_e:(ye=_e.ownerDocument)?ye.defaultView||ye.parentWindow:window,xe?(Pe=l.relatedTarget||l.toElement,xe=ce,Pe=Pe?eo(Pe):null,Pe!==null&&(At=qn(Pe),Pe!==At||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(xe=null,Pe=ce),xe!==Pe)){if(Ce=$o,Te="onMouseLeave",le="onMouseEnter",te="mouse",(r==="pointerout"||r==="pointerover")&&(Ce=B,Te="onPointerLeave",le="onPointerEnter",te="pointer"),At=xe==null?ye:ts(xe),ue=Pe==null?ye:ts(Pe),ye=new Ce(Te,te+"leave",xe,l,_e),ye.target=At,ye.relatedTarget=ue,Te=null,eo(_e)===ce&&(Ce=new Ce(le,te+"enter",Pe,l,_e),Ce.target=ue,Ce.relatedTarget=At,Te=Ce),At=Te,xe&&Pe)t:{for(Ce=xe,le=Pe,te=0,ue=Ce;ue;ue=Zo(ue))te++;for(ue=0,Te=le;Te;Te=Zo(Te))ue++;for(;0<te-ue;)Ce=Zo(Ce),te--;for(;0<ue-te;)le=Zo(le),ue--;for(;te--;){if(Ce===le||le!==null&&Ce===le.alternate)break t;Ce=Zo(Ce),le=Zo(le)}Ce=null}else Ce=null;xe!==null&&cg(we,ye,xe,Ce,!1),Pe!==null&&At!==null&&cg(we,At,Pe,Ce,!0)}}e:{if(ye=ce?ts(ce):window,xe=ye.nodeName&&ye.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ye.type==="file")var Oe=mT;else if(zm(ye))if($m)Oe=_T;else{Oe=vT;var De=gT}else(xe=ye.nodeName)&&xe.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(Oe=yT);if(Oe&&(Oe=Oe(r,ce))){Hm(we,Oe,l,_e);break e}De&&De(r,ye,ce),r==="focusout"&&(De=ye._wrapperState)&&De.controlled&&ye.type==="number"&&me(ye,"number",ye.value)}switch(De=ce?ts(ce):window,r){case"focusin":(zm(De)||De.contentEditable==="true")&&(Xo=De,sf=ce,fa=null);break;case"focusout":fa=sf=Xo=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,Zm(we,l,_e);break;case"selectionchange":if(TT)break;case"keydown":case"keyup":Zm(we,l,_e)}var Me;if(kt)e:{switch(r){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Yo?Um(r,l)&&(qe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(Zi&&l.locale!=="ko"&&(Yo||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Yo&&(Me=ia()):(wn=_e,Uo="value"in wn?wn.value:wn.textContent,Yo=!0)),De=Bl(ce,qe),0<De.length&&(qe=new aa(qe,r,null,l,_e),we.push({event:qe,listeners:De}),Me?qe.data=Me:(Me=Bm(l),Me!==null&&(qe.data=Me)))),(Me=Tn?fT(r,l):hT(r,l))&&(ce=Bl(ce,"onBeforeInput"),0<ce.length&&(_e=new aa("onBeforeInput","beforeinput",null,l,_e),we.push({event:_e,listeners:ce}),_e.data=Me))}lg(we,s)})}function pa(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Bl(r,s){for(var l=s+"Capture",d=[];r!==null;){var b=r,R=b.stateNode;b.tag===5&&R!==null&&(b=R,R=St(r,l),R!=null&&d.unshift(pa(r,R,b)),R=St(r,s),R!=null&&d.push(pa(r,R,b))),r=r.return}return d}function Zo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function cg(r,s,l,d,b){for(var R=s._reactName,q=[];l!==null&&l!==d;){var Q=l,J=Q.alternate,ce=Q.stateNode;if(J!==null&&J===d)break;Q.tag===5&&ce!==null&&(Q=ce,b?(J=St(l,R),J!=null&&q.unshift(pa(l,J,Q))):b||(J=St(l,R),J!=null&&q.push(pa(l,J,Q)))),l=l.return}q.length!==0&&r.push({event:s,listeners:q})}var IT=/\r\n?/g,xT=/\u0000|\uFFFD/g;function fg(r){return(typeof r=="string"?r:""+r).replace(IT,`
`).replace(xT,"")}function zl(r,s,l){if(s=fg(s),fg(r)!==s&&l)throw Error(t(425))}function Hl(){}var df=null,pf=null;function mf(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gf=typeof setTimeout=="function"?setTimeout:void 0,kT=typeof clearTimeout=="function"?clearTimeout:void 0,hg=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof hg<"u"?function(r){return hg.resolve(null).then(r).catch(PT)}:gf;function PT(r){setTimeout(function(){throw r})}function vf(r,s){var l=s,d=0;do{var b=l.nextSibling;if(r.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(d===0){r.removeChild(b),$n(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=b}while(l);$n(s)}function si(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function dg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var es=Math.random().toString(36).slice(2),cr="__reactFiber$"+es,ma="__reactProps$"+es,Pr="__reactContainer$"+es,yf="__reactEvents$"+es,CT="__reactListeners$"+es,OT="__reactHandles$"+es;function eo(r){var s=r[cr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Pr]||l[cr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=dg(r);r!==null;){if(l=r[cr])return l;r=dg(r)}return s}r=l,l=r.parentNode}return null}function ga(r){return r=r[cr]||r[Pr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ts(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function $l(r){return r[ma]||null}var _f=[],ns=-1;function ai(r){return{current:r}}function mt(r){0>ns||(r.current=_f[ns],_f[ns]=null,ns--)}function ht(r,s){ns++,_f[ns]=r.current,r.current=s}var li={},Yt=ai(li),fn=ai(!1),to=li;function rs(r,s){var l=r.type.contextTypes;if(!l)return li;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var b={},R;for(R in l)b[R]=s[R];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=b),b}function hn(r){return r=r.childContextTypes,r!=null}function Kl(){mt(fn),mt(Yt)}function pg(r,s,l){if(Yt.current!==li)throw Error(t(168));ht(Yt,s),ht(fn,l)}function mg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var b in d)if(!(b in s))throw Error(t(108,X(r)||"Unknown",b));return $({},l,d)}function Wl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||li,to=Yt.current,ht(Yt,r),ht(fn,fn.current),!0}function gg(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=mg(r,s,to),d.__reactInternalMemoizedMergedChildContext=r,mt(fn),mt(Yt),ht(Yt,r)):mt(fn),ht(fn,l)}var Cr=null,Gl=!1,Ef=!1;function vg(r){Cr===null?Cr=[r]:Cr.push(r)}function NT(r){Gl=!0,vg(r)}function ui(){if(!Ef&&Cr!==null){Ef=!0;var r=0,s=Je;try{var l=Cr;for(Je=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Cr=null,Gl=!1}catch(b){throw Cr!==null&&(Cr=Cr.slice(r+1)),Mo(Ki,ui),b}finally{Je=s,Ef=!1}}return null}var is=[],os=0,Ql=null,Yl=0,Pn=[],Cn=0,no=null,Or=1,Nr="";function ro(r,s){is[os++]=Yl,is[os++]=Ql,Ql=r,Yl=s}function yg(r,s,l){Pn[Cn++]=Or,Pn[Cn++]=Nr,Pn[Cn++]=no,no=r;var d=Or;r=Nr;var b=32-on(d)-1;d&=~(1<<b),l+=1;var R=32-on(s)+b;if(30<R){var q=b-b%5;R=(d&(1<<q)-1).toString(32),d>>=q,b-=q,Or=1<<32-on(s)+b|l<<b|d,Nr=R+r}else Or=1<<R|l<<b|d,Nr=r}function wf(r){r.return!==null&&(ro(r,1),yg(r,1,0))}function Tf(r){for(;r===Ql;)Ql=is[--os],is[os]=null,Yl=is[--os],is[os]=null;for(;r===no;)no=Pn[--Cn],Pn[Cn]=null,Nr=Pn[--Cn],Pn[Cn]=null,Or=Pn[--Cn],Pn[Cn]=null}var bn=null,Sn=null,vt=!1,Gn=null;function _g(r,s){var l=Dn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Eg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,bn=r,Sn=si(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,bn=r,Sn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=no!==null?{id:Or,overflow:Nr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Dn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,bn=r,Sn=null,!0):!1;default:return!1}}function bf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Sf(r){if(vt){var s=Sn;if(s){var l=s;if(!Eg(r,s)){if(bf(r))throw Error(t(418));s=si(l.nextSibling);var d=bn;s&&Eg(r,s)?_g(d,l):(r.flags=r.flags&-4097|2,vt=!1,bn=r)}}else{if(bf(r))throw Error(t(418));r.flags=r.flags&-4097|2,vt=!1,bn=r}}}function wg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;bn=r}function Xl(r){if(r!==bn)return!1;if(!vt)return wg(r),vt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!mf(r.type,r.memoizedProps)),s&&(s=Sn)){if(bf(r))throw Tg(),Error(t(418));for(;s;)_g(r,s),s=si(s.nextSibling)}if(wg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Sn=si(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Sn=null}}else Sn=bn?si(r.stateNode.nextSibling):null;return!0}function Tg(){for(var r=Sn;r;)r=si(r.nextSibling)}function ss(){Sn=bn=null,vt=!1}function Af(r){Gn===null?Gn=[r]:Gn.push(r)}var LT=A.ReactCurrentBatchConfig;function va(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var b=d,R=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===R?s.ref:(s=function(q){var Q=b.refs;q===null?delete Q[R]:Q[R]=q},s._stringRef=R,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Jl(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function bg(r){var s=r._init;return s(r._payload)}function Sg(r){function s(le,te){if(r){var ue=le.deletions;ue===null?(le.deletions=[te],le.flags|=16):ue.push(te)}}function l(le,te){if(!r)return null;for(;te!==null;)s(le,te),te=te.sibling;return null}function d(le,te){for(le=new Map;te!==null;)te.key!==null?le.set(te.key,te):le.set(te.index,te),te=te.sibling;return le}function b(le,te){return le=vi(le,te),le.index=0,le.sibling=null,le}function R(le,te,ue){return le.index=ue,r?(ue=le.alternate,ue!==null?(ue=ue.index,ue<te?(le.flags|=2,te):ue):(le.flags|=2,te)):(le.flags|=1048576,te)}function q(le){return r&&le.alternate===null&&(le.flags|=2),le}function Q(le,te,ue,Te){return te===null||te.tag!==6?(te=gh(ue,le.mode,Te),te.return=le,te):(te=b(te,ue),te.return=le,te)}function J(le,te,ue,Te){var Oe=ue.type;return Oe===P?_e(le,te,ue.props.children,Te,ue.key):te!==null&&(te.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===re&&bg(Oe)===te.type)?(Te=b(te,ue.props),Te.ref=va(le,te,ue),Te.return=le,Te):(Te=Tu(ue.type,ue.key,ue.props,null,le.mode,Te),Te.ref=va(le,te,ue),Te.return=le,Te)}function ce(le,te,ue,Te){return te===null||te.tag!==4||te.stateNode.containerInfo!==ue.containerInfo||te.stateNode.implementation!==ue.implementation?(te=vh(ue,le.mode,Te),te.return=le,te):(te=b(te,ue.children||[]),te.return=le,te)}function _e(le,te,ue,Te,Oe){return te===null||te.tag!==7?(te=fo(ue,le.mode,Te,Oe),te.return=le,te):(te=b(te,ue),te.return=le,te)}function we(le,te,ue){if(typeof te=="string"&&te!==""||typeof te=="number")return te=gh(""+te,le.mode,ue),te.return=le,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case M:return ue=Tu(te.type,te.key,te.props,null,le.mode,ue),ue.ref=va(le,null,te),ue.return=le,ue;case F:return te=vh(te,le.mode,ue),te.return=le,te;case re:var Te=te._init;return we(le,Te(te._payload),ue)}if(be(te)||Y(te))return te=fo(te,le.mode,ue,null),te.return=le,te;Jl(le,te)}return null}function ye(le,te,ue,Te){var Oe=te!==null?te.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Oe!==null?null:Q(le,te,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case M:return ue.key===Oe?J(le,te,ue,Te):null;case F:return ue.key===Oe?ce(le,te,ue,Te):null;case re:return Oe=ue._init,ye(le,te,Oe(ue._payload),Te)}if(be(ue)||Y(ue))return Oe!==null?null:_e(le,te,ue,Te,null);Jl(le,ue)}return null}function xe(le,te,ue,Te,Oe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return le=le.get(ue)||null,Q(te,le,""+Te,Oe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case M:return le=le.get(Te.key===null?ue:Te.key)||null,J(te,le,Te,Oe);case F:return le=le.get(Te.key===null?ue:Te.key)||null,ce(te,le,Te,Oe);case re:var De=Te._init;return xe(le,te,ue,De(Te._payload),Oe)}if(be(Te)||Y(Te))return le=le.get(ue)||null,_e(te,le,Te,Oe,null);Jl(te,Te)}return null}function Pe(le,te,ue,Te){for(var Oe=null,De=null,Me=te,qe=te=0,qt=null;Me!==null&&qe<ue.length;qe++){Me.index>qe?(qt=Me,Me=null):qt=Me.sibling;var ot=ye(le,Me,ue[qe],Te);if(ot===null){Me===null&&(Me=qt);break}r&&Me&&ot.alternate===null&&s(le,Me),te=R(ot,te,qe),De===null?Oe=ot:De.sibling=ot,De=ot,Me=qt}if(qe===ue.length)return l(le,Me),vt&&ro(le,qe),Oe;if(Me===null){for(;qe<ue.length;qe++)Me=we(le,ue[qe],Te),Me!==null&&(te=R(Me,te,qe),De===null?Oe=Me:De.sibling=Me,De=Me);return vt&&ro(le,qe),Oe}for(Me=d(le,Me);qe<ue.length;qe++)qt=xe(Me,le,qe,ue[qe],Te),qt!==null&&(r&&qt.alternate!==null&&Me.delete(qt.key===null?qe:qt.key),te=R(qt,te,qe),De===null?Oe=qt:De.sibling=qt,De=qt);return r&&Me.forEach(function(yi){return s(le,yi)}),vt&&ro(le,qe),Oe}function Ce(le,te,ue,Te){var Oe=Y(ue);if(typeof Oe!="function")throw Error(t(150));if(ue=Oe.call(ue),ue==null)throw Error(t(151));for(var De=Oe=null,Me=te,qe=te=0,qt=null,ot=ue.next();Me!==null&&!ot.done;qe++,ot=ue.next()){Me.index>qe?(qt=Me,Me=null):qt=Me.sibling;var yi=ye(le,Me,ot.value,Te);if(yi===null){Me===null&&(Me=qt);break}r&&Me&&yi.alternate===null&&s(le,Me),te=R(yi,te,qe),De===null?Oe=yi:De.sibling=yi,De=yi,Me=qt}if(ot.done)return l(le,Me),vt&&ro(le,qe),Oe;if(Me===null){for(;!ot.done;qe++,ot=ue.next())ot=we(le,ot.value,Te),ot!==null&&(te=R(ot,te,qe),De===null?Oe=ot:De.sibling=ot,De=ot);return vt&&ro(le,qe),Oe}for(Me=d(le,Me);!ot.done;qe++,ot=ue.next())ot=xe(Me,le,qe,ot.value,Te),ot!==null&&(r&&ot.alternate!==null&&Me.delete(ot.key===null?qe:ot.key),te=R(ot,te,qe),De===null?Oe=ot:De.sibling=ot,De=ot);return r&&Me.forEach(function(db){return s(le,db)}),vt&&ro(le,qe),Oe}function At(le,te,ue,Te){if(typeof ue=="object"&&ue!==null&&ue.type===P&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case M:e:{for(var Oe=ue.key,De=te;De!==null;){if(De.key===Oe){if(Oe=ue.type,Oe===P){if(De.tag===7){l(le,De.sibling),te=b(De,ue.props.children),te.return=le,le=te;break e}}else if(De.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===re&&bg(Oe)===De.type){l(le,De.sibling),te=b(De,ue.props),te.ref=va(le,De,ue),te.return=le,le=te;break e}l(le,De);break}else s(le,De);De=De.sibling}ue.type===P?(te=fo(ue.props.children,le.mode,Te,ue.key),te.return=le,le=te):(Te=Tu(ue.type,ue.key,ue.props,null,le.mode,Te),Te.ref=va(le,te,ue),Te.return=le,le=Te)}return q(le);case F:e:{for(De=ue.key;te!==null;){if(te.key===De)if(te.tag===4&&te.stateNode.containerInfo===ue.containerInfo&&te.stateNode.implementation===ue.implementation){l(le,te.sibling),te=b(te,ue.children||[]),te.return=le,le=te;break e}else{l(le,te);break}else s(le,te);te=te.sibling}te=vh(ue,le.mode,Te),te.return=le,le=te}return q(le);case re:return De=ue._init,At(le,te,De(ue._payload),Te)}if(be(ue))return Pe(le,te,ue,Te);if(Y(ue))return Ce(le,te,ue,Te);Jl(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,te!==null&&te.tag===6?(l(le,te.sibling),te=b(te,ue),te.return=le,le=te):(l(le,te),te=gh(ue,le.mode,Te),te.return=le,le=te),q(le)):l(le,te)}return At}var as=Sg(!0),Ag=Sg(!1),Zl=ai(null),eu=null,ls=null,If=null;function xf(){If=ls=eu=null}function kf(r){var s=Zl.current;mt(Zl),r._currentValue=s}function Rf(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function us(r,s){eu=r,If=ls=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(dn=!0),r.firstContext=null)}function On(r){var s=r._currentValue;if(If!==r)if(r={context:r,memoizedValue:s,next:null},ls===null){if(eu===null)throw Error(t(308));ls=r,eu.dependencies={lanes:0,firstContext:r}}else ls=ls.next=r;return s}var io=null;function Pf(r){io===null?io=[r]:io.push(r)}function Ig(r,s,l,d){var b=s.interleaved;return b===null?(l.next=l,Pf(s)):(l.next=b.next,b.next=l),s.interleaved=l,Lr(r,d)}function Lr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var ci=!1;function Cf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Dr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function fi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,rt&2){var b=d.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),d.pending=s,Lr(r,l)}return b=d.interleaved,b===null?(s.next=s,Pf(d)):(s.next=b.next,b.next=s),d.interleaved=s,Lr(r,l)}function tu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,ei(r,l)}}function kg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var b=null,R=null;if(l=l.firstBaseUpdate,l!==null){do{var q={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};R===null?b=R=q:R=R.next=q,l=l.next}while(l!==null);R===null?b=R=s:R=R.next=s}else b=R=s;l={baseState:d.baseState,firstBaseUpdate:b,lastBaseUpdate:R,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function nu(r,s,l,d){var b=r.updateQueue;ci=!1;var R=b.firstBaseUpdate,q=b.lastBaseUpdate,Q=b.shared.pending;if(Q!==null){b.shared.pending=null;var J=Q,ce=J.next;J.next=null,q===null?R=ce:q.next=ce,q=J;var _e=r.alternate;_e!==null&&(_e=_e.updateQueue,Q=_e.lastBaseUpdate,Q!==q&&(Q===null?_e.firstBaseUpdate=ce:Q.next=ce,_e.lastBaseUpdate=J))}if(R!==null){var we=b.baseState;q=0,_e=ce=J=null,Q=R;do{var ye=Q.lane,xe=Q.eventTime;if((d&ye)===ye){_e!==null&&(_e=_e.next={eventTime:xe,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Pe=r,Ce=Q;switch(ye=s,xe=l,Ce.tag){case 1:if(Pe=Ce.payload,typeof Pe=="function"){we=Pe.call(xe,we,ye);break e}we=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ce.payload,ye=typeof Pe=="function"?Pe.call(xe,we,ye):Pe,ye==null)break e;we=$({},we,ye);break e;case 2:ci=!0}}Q.callback!==null&&Q.lane!==0&&(r.flags|=64,ye=b.effects,ye===null?b.effects=[Q]:ye.push(Q))}else xe={eventTime:xe,lane:ye,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},_e===null?(ce=_e=xe,J=we):_e=_e.next=xe,q|=ye;if(Q=Q.next,Q===null){if(Q=b.shared.pending,Q===null)break;ye=Q,Q=ye.next,ye.next=null,b.lastBaseUpdate=ye,b.shared.pending=null}}while(!0);if(_e===null&&(J=we),b.baseState=J,b.firstBaseUpdate=ce,b.lastBaseUpdate=_e,s=b.shared.interleaved,s!==null){b=s;do q|=b.lane,b=b.next;while(b!==s)}else R===null&&(b.shared.lanes=0);ao|=q,r.lanes=q,r.memoizedState=we}}function Rg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],b=d.callback;if(b!==null){if(d.callback=null,d=l,typeof b!="function")throw Error(t(191,b));b.call(d)}}}var ya={},fr=ai(ya),_a=ai(ya),Ea=ai(ya);function oo(r){if(r===ya)throw Error(t(174));return r}function Of(r,s){switch(ht(Ea,s),ht(_a,r),ht(fr,ya),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:at(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=at(s,r)}mt(fr),ht(fr,s)}function cs(){mt(fr),mt(_a),mt(Ea)}function Pg(r){oo(Ea.current);var s=oo(fr.current),l=at(s,r.type);s!==l&&(ht(_a,r),ht(fr,l))}function Nf(r){_a.current===r&&(mt(fr),mt(_a))}var _t=ai(0);function ru(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Lf=[];function Df(){for(var r=0;r<Lf.length;r++)Lf[r]._workInProgressVersionPrimary=null;Lf.length=0}var iu=A.ReactCurrentDispatcher,Mf=A.ReactCurrentBatchConfig,so=0,Et=null,Ot=null,Vt=null,ou=!1,wa=!1,Ta=0,DT=0;function Xt(){throw Error(t(321))}function jf(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Wn(r[l],s[l]))return!1;return!0}function Vf(r,s,l,d,b,R){if(so=R,Et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,iu.current=r===null||r.memoizedState===null?FT:qT,r=l(d,b),wa){R=0;do{if(wa=!1,Ta=0,25<=R)throw Error(t(301));R+=1,Vt=Ot=null,s.updateQueue=null,iu.current=UT,r=l(d,b)}while(wa)}if(iu.current=lu,s=Ot!==null&&Ot.next!==null,so=0,Vt=Ot=Et=null,ou=!1,s)throw Error(t(300));return r}function Ff(){var r=Ta!==0;return Ta=0,r}function hr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Et.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function Nn(){if(Ot===null){var r=Et.alternate;r=r!==null?r.memoizedState:null}else r=Ot.next;var s=Vt===null?Et.memoizedState:Vt.next;if(s!==null)Vt=s,Ot=r;else{if(r===null)throw Error(t(310));Ot=r,r={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Vt===null?Et.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}function ba(r,s){return typeof s=="function"?s(r):s}function qf(r){var s=Nn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=Ot,b=d.baseQueue,R=l.pending;if(R!==null){if(b!==null){var q=b.next;b.next=R.next,R.next=q}d.baseQueue=b=R,l.pending=null}if(b!==null){R=b.next,d=d.baseState;var Q=q=null,J=null,ce=R;do{var _e=ce.lane;if((so&_e)===_e)J!==null&&(J=J.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),d=ce.hasEagerState?ce.eagerState:r(d,ce.action);else{var we={lane:_e,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};J===null?(Q=J=we,q=d):J=J.next=we,Et.lanes|=_e,ao|=_e}ce=ce.next}while(ce!==null&&ce!==R);J===null?q=d:J.next=Q,Wn(d,s.memoizedState)||(dn=!0),s.memoizedState=d,s.baseState=q,s.baseQueue=J,l.lastRenderedState=d}if(r=l.interleaved,r!==null){b=r;do R=b.lane,Et.lanes|=R,ao|=R,b=b.next;while(b!==r)}else b===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Uf(r){var s=Nn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,b=l.pending,R=s.memoizedState;if(b!==null){l.pending=null;var q=b=b.next;do R=r(R,q.action),q=q.next;while(q!==b);Wn(R,s.memoizedState)||(dn=!0),s.memoizedState=R,s.baseQueue===null&&(s.baseState=R),l.lastRenderedState=R}return[R,d]}function Cg(){}function Og(r,s){var l=Et,d=Nn(),b=s(),R=!Wn(d.memoizedState,b);if(R&&(d.memoizedState=b,dn=!0),d=d.queue,Bf(Dg.bind(null,l,d,r),[r]),d.getSnapshot!==s||R||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,Sa(9,Lg.bind(null,l,d,b,s),void 0,null),Ft===null)throw Error(t(349));so&30||Ng(l,s,b)}return b}function Ng(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Et.updateQueue,s===null?(s={lastEffect:null,stores:null},Et.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Lg(r,s,l,d){s.value=l,s.getSnapshot=d,Mg(s)&&jg(r)}function Dg(r,s,l){return l(function(){Mg(s)&&jg(r)})}function Mg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Wn(r,l)}catch{return!0}}function jg(r){var s=Lr(r,1);s!==null&&Jn(s,r,1,-1)}function Vg(r){var s=hr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:r},s.queue=r,r=r.dispatch=VT.bind(null,Et,r),[s.memoizedState,r]}function Sa(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=Et.updateQueue,s===null?(s={lastEffect:null,stores:null},Et.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function Fg(){return Nn().memoizedState}function su(r,s,l,d){var b=hr();Et.flags|=r,b.memoizedState=Sa(1|s,l,void 0,d===void 0?null:d)}function au(r,s,l,d){var b=Nn();d=d===void 0?null:d;var R=void 0;if(Ot!==null){var q=Ot.memoizedState;if(R=q.destroy,d!==null&&jf(d,q.deps)){b.memoizedState=Sa(s,l,R,d);return}}Et.flags|=r,b.memoizedState=Sa(1|s,l,R,d)}function qg(r,s){return su(8390656,8,r,s)}function Bf(r,s){return au(2048,8,r,s)}function Ug(r,s){return au(4,2,r,s)}function Bg(r,s){return au(4,4,r,s)}function zg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Hg(r,s,l){return l=l!=null?l.concat([r]):null,au(4,4,zg.bind(null,s,r),l)}function zf(){}function $g(r,s){var l=Nn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&jf(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Kg(r,s){var l=Nn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&jf(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function Wg(r,s,l){return so&21?(Wn(l,s)||(l=Qi(),Et.lanes|=l,ao|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,dn=!0),r.memoizedState=l)}function MT(r,s){var l=Je;Je=l!==0&&4>l?l:4,r(!0);var d=Mf.transition;Mf.transition={};try{r(!1),s()}finally{Je=l,Mf.transition=d}}function Gg(){return Nn().memoizedState}function jT(r,s,l){var d=mi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Qg(r))Yg(s,l);else if(l=Ig(r,s,l,d),l!==null){var b=ln();Jn(l,r,d,b),Xg(l,s,d)}}function VT(r,s,l){var d=mi(r),b={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Qg(r))Yg(s,b);else{var R=r.alternate;if(r.lanes===0&&(R===null||R.lanes===0)&&(R=s.lastRenderedReducer,R!==null))try{var q=s.lastRenderedState,Q=R(q,l);if(b.hasEagerState=!0,b.eagerState=Q,Wn(Q,q)){var J=s.interleaved;J===null?(b.next=b,Pf(s)):(b.next=J.next,J.next=b),s.interleaved=b;return}}catch{}finally{}l=Ig(r,s,b,d),l!==null&&(b=ln(),Jn(l,r,d,b),Xg(l,s,d))}}function Qg(r){var s=r.alternate;return r===Et||s!==null&&s===Et}function Yg(r,s){wa=ou=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Xg(r,s,l){if(l&4194240){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,ei(r,l)}}var lu={readContext:On,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},FT={readContext:On,useCallback:function(r,s){return hr().memoizedState=[r,s===void 0?null:s],r},useContext:On,useEffect:qg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,su(4194308,4,zg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return su(4194308,4,r,s)},useInsertionEffect:function(r,s){return su(4,2,r,s)},useMemo:function(r,s){var l=hr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=hr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=jT.bind(null,Et,r),[d.memoizedState,r]},useRef:function(r){var s=hr();return r={current:r},s.memoizedState=r},useState:Vg,useDebugValue:zf,useDeferredValue:function(r){return hr().memoizedState=r},useTransition:function(){var r=Vg(!1),s=r[0];return r=MT.bind(null,r[1]),hr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=Et,b=hr();if(vt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ft===null)throw Error(t(349));so&30||Ng(d,s,l)}b.memoizedState=l;var R={value:l,getSnapshot:s};return b.queue=R,qg(Dg.bind(null,d,R,r),[r]),d.flags|=2048,Sa(9,Lg.bind(null,d,R,l,s),void 0,null),l},useId:function(){var r=hr(),s=Ft.identifierPrefix;if(vt){var l=Nr,d=Or;l=(d&~(1<<32-on(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ta++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=DT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},qT={readContext:On,useCallback:$g,useContext:On,useEffect:Bf,useImperativeHandle:Hg,useInsertionEffect:Ug,useLayoutEffect:Bg,useMemo:Kg,useReducer:qf,useRef:Fg,useState:function(){return qf(ba)},useDebugValue:zf,useDeferredValue:function(r){var s=Nn();return Wg(s,Ot.memoizedState,r)},useTransition:function(){var r=qf(ba)[0],s=Nn().memoizedState;return[r,s]},useMutableSource:Cg,useSyncExternalStore:Og,useId:Gg,unstable_isNewReconciler:!1},UT={readContext:On,useCallback:$g,useContext:On,useEffect:Bf,useImperativeHandle:Hg,useInsertionEffect:Ug,useLayoutEffect:Bg,useMemo:Kg,useReducer:Uf,useRef:Fg,useState:function(){return Uf(ba)},useDebugValue:zf,useDeferredValue:function(r){var s=Nn();return Ot===null?s.memoizedState=r:Wg(s,Ot.memoizedState,r)},useTransition:function(){var r=Uf(ba)[0],s=Nn().memoizedState;return[r,s]},useMutableSource:Cg,useSyncExternalStore:Og,useId:Gg,unstable_isNewReconciler:!1};function Qn(r,s){if(r&&r.defaultProps){s=$({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Hf(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:$({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var uu={isMounted:function(r){return(r=r._reactInternals)?qn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=ln(),b=mi(r),R=Dr(d,b);R.payload=s,l!=null&&(R.callback=l),s=fi(r,R,b),s!==null&&(Jn(s,r,b,d),tu(s,r,b))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=ln(),b=mi(r),R=Dr(d,b);R.tag=1,R.payload=s,l!=null&&(R.callback=l),s=fi(r,R,b),s!==null&&(Jn(s,r,b,d),tu(s,r,b))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=ln(),d=mi(r),b=Dr(l,d);b.tag=2,s!=null&&(b.callback=s),s=fi(r,b,d),s!==null&&(Jn(s,r,d,l),tu(s,r,d))}};function Jg(r,s,l,d,b,R,q){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,R,q):s.prototype&&s.prototype.isPureReactComponent?!ca(l,d)||!ca(b,R):!0}function Zg(r,s,l){var d=!1,b=li,R=s.contextType;return typeof R=="object"&&R!==null?R=On(R):(b=hn(s)?to:Yt.current,d=s.contextTypes,R=(d=d!=null)?rs(r,b):li),s=new s(l,R),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=uu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=b,r.__reactInternalMemoizedMaskedChildContext=R),s}function ev(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&uu.enqueueReplaceState(s,s.state,null)}function $f(r,s,l,d){var b=r.stateNode;b.props=l,b.state=r.memoizedState,b.refs={},Cf(r);var R=s.contextType;typeof R=="object"&&R!==null?b.context=On(R):(R=hn(s)?to:Yt.current,b.context=rs(r,R)),b.state=r.memoizedState,R=s.getDerivedStateFromProps,typeof R=="function"&&(Hf(r,s,R,l),b.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(s=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),s!==b.state&&uu.enqueueReplaceState(b,b.state,null),nu(r,l,b,d),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308)}function fs(r,s){try{var l="",d=s;do l+=Z(d),d=d.return;while(d);var b=l}catch(R){b=`
Error generating stack: `+R.message+`
`+R.stack}return{value:r,source:s,stack:b,digest:null}}function Kf(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Wf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var BT=typeof WeakMap=="function"?WeakMap:Map;function tv(r,s,l){l=Dr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){gu||(gu=!0,lh=d),Wf(r,s)},l}function nv(r,s,l){l=Dr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var b=s.value;l.payload=function(){return d(b)},l.callback=function(){Wf(r,s)}}var R=r.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(l.callback=function(){Wf(r,s),typeof d!="function"&&(di===null?di=new Set([this]):di.add(this));var q=s.stack;this.componentDidCatch(s.value,{componentStack:q!==null?q:""})}),l}function rv(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new BT;var b=new Set;d.set(s,b)}else b=d.get(s),b===void 0&&(b=new Set,d.set(s,b));b.has(l)||(b.add(l),r=nb.bind(null,r,s,l),s.then(r,r))}function iv(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ov(r,s,l,d,b){return r.mode&1?(r.flags|=65536,r.lanes=b,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Dr(-1,1),s.tag=2,fi(l,s,1))),l.lanes|=1),r)}var zT=A.ReactCurrentOwner,dn=!1;function an(r,s,l,d){s.child=r===null?Ag(s,null,l,d):as(s,r.child,l,d)}function sv(r,s,l,d,b){l=l.render;var R=s.ref;return us(s,b),d=Vf(r,s,l,d,R,b),l=Ff(),r!==null&&!dn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~b,Mr(r,s,b)):(vt&&l&&wf(s),s.flags|=1,an(r,s,d,b),s.child)}function av(r,s,l,d,b){if(r===null){var R=l.type;return typeof R=="function"&&!mh(R)&&R.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=R,lv(r,s,R,d,b)):(r=Tu(l.type,null,d,s,s.mode,b),r.ref=s.ref,r.return=s,s.child=r)}if(R=r.child,!(r.lanes&b)){var q=R.memoizedProps;if(l=l.compare,l=l!==null?l:ca,l(q,d)&&r.ref===s.ref)return Mr(r,s,b)}return s.flags|=1,r=vi(R,d),r.ref=s.ref,r.return=s,s.child=r}function lv(r,s,l,d,b){if(r!==null){var R=r.memoizedProps;if(ca(R,d)&&r.ref===s.ref)if(dn=!1,s.pendingProps=d=R,(r.lanes&b)!==0)r.flags&131072&&(dn=!0);else return s.lanes=r.lanes,Mr(r,s,b)}return Gf(r,s,l,d,b)}function uv(r,s,l){var d=s.pendingProps,b=d.children,R=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(ds,An),An|=l;else{if(!(l&1073741824))return r=R!==null?R.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,ht(ds,An),An|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=R!==null?R.baseLanes:l,ht(ds,An),An|=d}else R!==null?(d=R.baseLanes|l,s.memoizedState=null):d=l,ht(ds,An),An|=d;return an(r,s,b,l),s.child}function cv(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Gf(r,s,l,d,b){var R=hn(l)?to:Yt.current;return R=rs(s,R),us(s,b),l=Vf(r,s,l,d,R,b),d=Ff(),r!==null&&!dn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~b,Mr(r,s,b)):(vt&&d&&wf(s),s.flags|=1,an(r,s,l,b),s.child)}function fv(r,s,l,d,b){if(hn(l)){var R=!0;Wl(s)}else R=!1;if(us(s,b),s.stateNode===null)fu(r,s),Zg(s,l,d),$f(s,l,d,b),d=!0;else if(r===null){var q=s.stateNode,Q=s.memoizedProps;q.props=Q;var J=q.context,ce=l.contextType;typeof ce=="object"&&ce!==null?ce=On(ce):(ce=hn(l)?to:Yt.current,ce=rs(s,ce));var _e=l.getDerivedStateFromProps,we=typeof _e=="function"||typeof q.getSnapshotBeforeUpdate=="function";we||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Q!==d||J!==ce)&&ev(s,q,d,ce),ci=!1;var ye=s.memoizedState;q.state=ye,nu(s,d,q,b),J=s.memoizedState,Q!==d||ye!==J||fn.current||ci?(typeof _e=="function"&&(Hf(s,l,_e,d),J=s.memoizedState),(Q=ci||Jg(s,l,Q,d,ye,J,ce))?(we||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(s.flags|=4194308)):(typeof q.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=J),q.props=d,q.state=J,q.context=ce,d=Q):(typeof q.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{q=s.stateNode,xg(r,s),Q=s.memoizedProps,ce=s.type===s.elementType?Q:Qn(s.type,Q),q.props=ce,we=s.pendingProps,ye=q.context,J=l.contextType,typeof J=="object"&&J!==null?J=On(J):(J=hn(l)?to:Yt.current,J=rs(s,J));var xe=l.getDerivedStateFromProps;(_e=typeof xe=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Q!==we||ye!==J)&&ev(s,q,d,J),ci=!1,ye=s.memoizedState,q.state=ye,nu(s,d,q,b);var Pe=s.memoizedState;Q!==we||ye!==Pe||fn.current||ci?(typeof xe=="function"&&(Hf(s,l,xe,d),Pe=s.memoizedState),(ce=ci||Jg(s,l,ce,d,ye,Pe,J)||!1)?(_e||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(d,Pe,J),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(d,Pe,J)),typeof q.componentDidUpdate=="function"&&(s.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof q.componentDidUpdate!="function"||Q===r.memoizedProps&&ye===r.memoizedState||(s.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Q===r.memoizedProps&&ye===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Pe),q.props=d,q.state=Pe,q.context=J,d=ce):(typeof q.componentDidUpdate!="function"||Q===r.memoizedProps&&ye===r.memoizedState||(s.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Q===r.memoizedProps&&ye===r.memoizedState||(s.flags|=1024),d=!1)}return Qf(r,s,l,d,R,b)}function Qf(r,s,l,d,b,R){cv(r,s);var q=(s.flags&128)!==0;if(!d&&!q)return b&&gg(s,l,!1),Mr(r,s,R);d=s.stateNode,zT.current=s;var Q=q&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&q?(s.child=as(s,r.child,null,R),s.child=as(s,null,Q,R)):an(r,s,Q,R),s.memoizedState=d.state,b&&gg(s,l,!0),s.child}function hv(r){var s=r.stateNode;s.pendingContext?pg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&pg(r,s.context,!1),Of(r,s.containerInfo)}function dv(r,s,l,d,b){return ss(),Af(b),s.flags|=256,an(r,s,l,d),s.child}var Yf={dehydrated:null,treeContext:null,retryLane:0};function Xf(r){return{baseLanes:r,cachePool:null,transitions:null}}function pv(r,s,l){var d=s.pendingProps,b=_t.current,R=!1,q=(s.flags&128)!==0,Q;if((Q=q)||(Q=r!==null&&r.memoizedState===null?!1:(b&2)!==0),Q?(R=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(b|=1),ht(_t,b&1),r===null)return Sf(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(q=d.children,r=d.fallback,R?(d=s.mode,R=s.child,q={mode:"hidden",children:q},!(d&1)&&R!==null?(R.childLanes=0,R.pendingProps=q):R=bu(q,d,0,null),r=fo(r,d,l,null),R.return=s,r.return=s,R.sibling=r,s.child=R,s.child.memoizedState=Xf(l),s.memoizedState=Yf,r):Jf(s,q));if(b=r.memoizedState,b!==null&&(Q=b.dehydrated,Q!==null))return HT(r,s,q,d,Q,b,l);if(R){R=d.fallback,q=s.mode,b=r.child,Q=b.sibling;var J={mode:"hidden",children:d.children};return!(q&1)&&s.child!==b?(d=s.child,d.childLanes=0,d.pendingProps=J,s.deletions=null):(d=vi(b,J),d.subtreeFlags=b.subtreeFlags&14680064),Q!==null?R=vi(Q,R):(R=fo(R,q,l,null),R.flags|=2),R.return=s,d.return=s,d.sibling=R,s.child=d,d=R,R=s.child,q=r.child.memoizedState,q=q===null?Xf(l):{baseLanes:q.baseLanes|l,cachePool:null,transitions:q.transitions},R.memoizedState=q,R.childLanes=r.childLanes&~l,s.memoizedState=Yf,d}return R=r.child,r=R.sibling,d=vi(R,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function Jf(r,s){return s=bu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function cu(r,s,l,d){return d!==null&&Af(d),as(s,r.child,null,l),r=Jf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function HT(r,s,l,d,b,R,q){if(l)return s.flags&256?(s.flags&=-257,d=Kf(Error(t(422))),cu(r,s,q,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(R=d.fallback,b=s.mode,d=bu({mode:"visible",children:d.children},b,0,null),R=fo(R,b,q,null),R.flags|=2,d.return=s,R.return=s,d.sibling=R,s.child=d,s.mode&1&&as(s,r.child,null,q),s.child.memoizedState=Xf(q),s.memoizedState=Yf,R);if(!(s.mode&1))return cu(r,s,q,null);if(b.data==="$!"){if(d=b.nextSibling&&b.nextSibling.dataset,d)var Q=d.dgst;return d=Q,R=Error(t(419)),d=Kf(R,d,void 0),cu(r,s,q,d)}if(Q=(q&r.childLanes)!==0,dn||Q){if(d=Ft,d!==null){switch(q&-q){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=b&(d.suspendedLanes|q)?0:b,b!==0&&b!==R.retryLane&&(R.retryLane=b,Lr(r,b),Jn(d,r,b,-1))}return ph(),d=Kf(Error(t(421))),cu(r,s,q,d)}return b.data==="$?"?(s.flags|=128,s.child=r.child,s=rb.bind(null,r),b._reactRetry=s,null):(r=R.treeContext,Sn=si(b.nextSibling),bn=s,vt=!0,Gn=null,r!==null&&(Pn[Cn++]=Or,Pn[Cn++]=Nr,Pn[Cn++]=no,Or=r.id,Nr=r.overflow,no=s),s=Jf(s,d.children),s.flags|=4096,s)}function mv(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Rf(r.return,s,l)}function Zf(r,s,l,d,b){var R=r.memoizedState;R===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:b}:(R.isBackwards=s,R.rendering=null,R.renderingStartTime=0,R.last=d,R.tail=l,R.tailMode=b)}function gv(r,s,l){var d=s.pendingProps,b=d.revealOrder,R=d.tail;if(an(r,s,d.children,l),d=_t.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&mv(r,l,s);else if(r.tag===19)mv(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(ht(_t,d),!(s.mode&1))s.memoizedState=null;else switch(b){case"forwards":for(l=s.child,b=null;l!==null;)r=l.alternate,r!==null&&ru(r)===null&&(b=l),l=l.sibling;l=b,l===null?(b=s.child,s.child=null):(b=l.sibling,l.sibling=null),Zf(s,!1,b,l,R);break;case"backwards":for(l=null,b=s.child,s.child=null;b!==null;){if(r=b.alternate,r!==null&&ru(r)===null){s.child=b;break}r=b.sibling,b.sibling=l,l=b,b=r}Zf(s,!0,l,null,R);break;case"together":Zf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function fu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Mr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ao|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=vi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=vi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function $T(r,s,l){switch(s.tag){case 3:hv(s),ss();break;case 5:Pg(s);break;case 1:hn(s.type)&&Wl(s);break;case 4:Of(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,b=s.memoizedProps.value;ht(Zl,d._currentValue),d._currentValue=b;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(ht(_t,_t.current&1),s.flags|=128,null):l&s.child.childLanes?pv(r,s,l):(ht(_t,_t.current&1),r=Mr(r,s,l),r!==null?r.sibling:null);ht(_t,_t.current&1);break;case 19:if(d=(l&s.childLanes)!==0,r.flags&128){if(d)return gv(r,s,l);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ht(_t,_t.current),d)break;return null;case 22:case 23:return s.lanes=0,uv(r,s,l)}return Mr(r,s,l)}var vv,eh,yv,_v;vv=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},eh=function(){},yv=function(r,s,l,d){var b=r.memoizedProps;if(b!==d){r=s.stateNode,oo(fr.current);var R=null;switch(l){case"input":b=Ke(r,b),d=Ke(r,d),R=[];break;case"select":b=$({},b,{value:void 0}),d=$({},d,{value:void 0}),R=[];break;case"textarea":b=ve(r,b),d=ve(r,d),R=[];break;default:typeof b.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Hl)}$s(l,d);var q;l=null;for(ce in b)if(!d.hasOwnProperty(ce)&&b.hasOwnProperty(ce)&&b[ce]!=null)if(ce==="style"){var Q=b[ce];for(q in Q)Q.hasOwnProperty(q)&&(l||(l={}),l[q]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?R||(R=[]):(R=R||[]).push(ce,null));for(ce in d){var J=d[ce];if(Q=b!=null?b[ce]:void 0,d.hasOwnProperty(ce)&&J!==Q&&(J!=null||Q!=null))if(ce==="style")if(Q){for(q in Q)!Q.hasOwnProperty(q)||J&&J.hasOwnProperty(q)||(l||(l={}),l[q]="");for(q in J)J.hasOwnProperty(q)&&Q[q]!==J[q]&&(l||(l={}),l[q]=J[q])}else l||(R||(R=[]),R.push(ce,l)),l=J;else ce==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,Q=Q?Q.__html:void 0,J!=null&&Q!==J&&(R=R||[]).push(ce,J)):ce==="children"?typeof J!="string"&&typeof J!="number"||(R=R||[]).push(ce,""+J):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(J!=null&&ce==="onScroll"&&pt("scroll",r),R||Q===J||(R=[])):(R=R||[]).push(ce,J))}l&&(R=R||[]).push("style",l);var ce=R;(s.updateQueue=ce)&&(s.flags|=4)}},_v=function(r,s,l,d){l!==d&&(s.flags|=4)};function Aa(r,s){if(!vt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Jt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var b=r.child;b!==null;)l|=b.lanes|b.childLanes,d|=b.subtreeFlags&14680064,d|=b.flags&14680064,b.return=r,b=b.sibling;else for(b=r.child;b!==null;)l|=b.lanes|b.childLanes,d|=b.subtreeFlags,d|=b.flags,b.return=r,b=b.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function KT(r,s,l){var d=s.pendingProps;switch(Tf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return hn(s.type)&&Kl(),Jt(s),null;case 3:return d=s.stateNode,cs(),mt(fn),mt(Yt),Df(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Xl(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Gn!==null&&(fh(Gn),Gn=null))),eh(r,s),Jt(s),null;case 5:Nf(s);var b=oo(Ea.current);if(l=s.type,r!==null&&s.stateNode!=null)yv(r,s,l,d,b),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Jt(s),null}if(r=oo(fr.current),Xl(s)){d=s.stateNode,l=s.type;var R=s.memoizedProps;switch(d[cr]=s,d[ma]=R,r=(s.mode&1)!==0,l){case"dialog":pt("cancel",d),pt("close",d);break;case"iframe":case"object":case"embed":pt("load",d);break;case"video":case"audio":for(b=0;b<ha.length;b++)pt(ha[b],d);break;case"source":pt("error",d);break;case"img":case"image":case"link":pt("error",d),pt("load",d);break;case"details":pt("toggle",d);break;case"input":Qe(d,R),pt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!R.multiple},pt("invalid",d);break;case"textarea":Be(d,R),pt("invalid",d)}$s(l,R),b=null;for(var q in R)if(R.hasOwnProperty(q)){var Q=R[q];q==="children"?typeof Q=="string"?d.textContent!==Q&&(R.suppressHydrationWarning!==!0&&zl(d.textContent,Q,r),b=["children",Q]):typeof Q=="number"&&d.textContent!==""+Q&&(R.suppressHydrationWarning!==!0&&zl(d.textContent,Q,r),b=["children",""+Q]):o.hasOwnProperty(q)&&Q!=null&&q==="onScroll"&&pt("scroll",d)}switch(l){case"input":Ie(d),de(d,R,!0);break;case"textarea":Ie(d),We(d);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(d.onclick=Hl)}d=b,s.updateQueue=d,d!==null&&(s.flags|=4)}else{q=b.nodeType===9?b:b.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=it(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=q.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=q.createElement(l,{is:d.is}):(r=q.createElement(l),l==="select"&&(q=r,d.multiple?q.multiple=!0:d.size&&(q.size=d.size))):r=q.createElementNS(r,l),r[cr]=s,r[ma]=d,vv(r,s,!1,!1),s.stateNode=r;e:{switch(q=Ks(l,d),l){case"dialog":pt("cancel",r),pt("close",r),b=d;break;case"iframe":case"object":case"embed":pt("load",r),b=d;break;case"video":case"audio":for(b=0;b<ha.length;b++)pt(ha[b],r);b=d;break;case"source":pt("error",r),b=d;break;case"img":case"image":case"link":pt("error",r),pt("load",r),b=d;break;case"details":pt("toggle",r),b=d;break;case"input":Qe(r,d),b=Ke(r,d),pt("invalid",r);break;case"option":b=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},b=$({},d,{value:void 0}),pt("invalid",r);break;case"textarea":Be(r,d),b=ve(r,d),pt("invalid",r);break;default:b=d}$s(l,b),Q=b;for(R in Q)if(Q.hasOwnProperty(R)){var J=Q[R];R==="style"?zs(r,J):R==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&Fi(r,J)):R==="children"?typeof J=="string"?(l!=="textarea"||J!=="")&&lt(r,J):typeof J=="number"&&lt(r,""+J):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(o.hasOwnProperty(R)?J!=null&&R==="onScroll"&&pt("scroll",r):J!=null&&O(r,R,J,q))}switch(l){case"input":Ie(r),de(r,d,!1);break;case"textarea":Ie(r),We(r);break;case"option":d.value!=null&&r.setAttribute("value",""+oe(d.value));break;case"select":r.multiple=!!d.multiple,R=d.value,R!=null?Ae(r,!!d.multiple,R,!1):d.defaultValue!=null&&Ae(r,!!d.multiple,d.defaultValue,!0);break;default:typeof b.onClick=="function"&&(r.onclick=Hl)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Jt(s),null;case 6:if(r&&s.stateNode!=null)_v(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=oo(Ea.current),oo(fr.current),Xl(s)){if(d=s.stateNode,l=s.memoizedProps,d[cr]=s,(R=d.nodeValue!==l)&&(r=bn,r!==null))switch(r.tag){case 3:zl(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&zl(d.nodeValue,l,(r.mode&1)!==0)}R&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[cr]=s,s.stateNode=d}return Jt(s),null;case 13:if(mt(_t),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(vt&&Sn!==null&&s.mode&1&&!(s.flags&128))Tg(),ss(),s.flags|=98560,R=!1;else if(R=Xl(s),d!==null&&d.dehydrated!==null){if(r===null){if(!R)throw Error(t(318));if(R=s.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(t(317));R[cr]=s}else ss(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Jt(s),R=!1}else Gn!==null&&(fh(Gn),Gn=null),R=!0;if(!R)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||_t.current&1?Nt===0&&(Nt=3):ph())),s.updateQueue!==null&&(s.flags|=4),Jt(s),null);case 4:return cs(),eh(r,s),r===null&&da(s.stateNode.containerInfo),Jt(s),null;case 10:return kf(s.type._context),Jt(s),null;case 17:return hn(s.type)&&Kl(),Jt(s),null;case 19:if(mt(_t),R=s.memoizedState,R===null)return Jt(s),null;if(d=(s.flags&128)!==0,q=R.rendering,q===null)if(d)Aa(R,!1);else{if(Nt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(q=ru(r),q!==null){for(s.flags|=128,Aa(R,!1),d=q.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)R=l,r=d,R.flags&=14680066,q=R.alternate,q===null?(R.childLanes=0,R.lanes=r,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=q.childLanes,R.lanes=q.lanes,R.child=q.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=q.memoizedProps,R.memoizedState=q.memoizedState,R.updateQueue=q.updateQueue,R.type=q.type,r=q.dependencies,R.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return ht(_t,_t.current&1|2),s.child}r=r.sibling}R.tail!==null&&ft()>ps&&(s.flags|=128,d=!0,Aa(R,!1),s.lanes=4194304)}else{if(!d)if(r=ru(q),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Aa(R,!0),R.tail===null&&R.tailMode==="hidden"&&!q.alternate&&!vt)return Jt(s),null}else 2*ft()-R.renderingStartTime>ps&&l!==1073741824&&(s.flags|=128,d=!0,Aa(R,!1),s.lanes=4194304);R.isBackwards?(q.sibling=s.child,s.child=q):(l=R.last,l!==null?l.sibling=q:s.child=q,R.last=q)}return R.tail!==null?(s=R.tail,R.rendering=s,R.tail=s.sibling,R.renderingStartTime=ft(),s.sibling=null,l=_t.current,ht(_t,d?l&1|2:l&1),s):(Jt(s),null);case 22:case 23:return dh(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?An&1073741824&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function WT(r,s){switch(Tf(s),s.tag){case 1:return hn(s.type)&&Kl(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return cs(),mt(fn),mt(Yt),Df(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Nf(s),null;case 13:if(mt(_t),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ss()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return mt(_t),null;case 4:return cs(),null;case 10:return kf(s.type._context),null;case 22:case 23:return dh(),null;case 24:return null;default:return null}}var hu=!1,Zt=!1,GT=typeof WeakSet=="function"?WeakSet:Set,Re=null;function hs(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){bt(r,s,d)}else l.current=null}function th(r,s,l){try{l()}catch(d){bt(r,s,d)}}var Ev=!1;function QT(r,s){if(df=ri,r=Jm(),of(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var b=d.anchorOffset,R=d.focusNode;d=d.focusOffset;try{l.nodeType,R.nodeType}catch{l=null;break e}var q=0,Q=-1,J=-1,ce=0,_e=0,we=r,ye=null;t:for(;;){for(var xe;we!==l||b!==0&&we.nodeType!==3||(Q=q+b),we!==R||d!==0&&we.nodeType!==3||(J=q+d),we.nodeType===3&&(q+=we.nodeValue.length),(xe=we.firstChild)!==null;)ye=we,we=xe;for(;;){if(we===r)break t;if(ye===l&&++ce===b&&(Q=q),ye===R&&++_e===d&&(J=q),(xe=we.nextSibling)!==null)break;we=ye,ye=we.parentNode}we=xe}l=Q===-1||J===-1?null:{start:Q,end:J}}else l=null}l=l||{start:0,end:0}}else l=null;for(pf={focusedElem:r,selectionRange:l},ri=!1,Re=s;Re!==null;)if(s=Re,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Re=r;else for(;Re!==null;){s=Re;try{var Pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ce=Pe.memoizedProps,At=Pe.memoizedState,le=s.stateNode,te=le.getSnapshotBeforeUpdate(s.elementType===s.type?Ce:Qn(s.type,Ce),At);le.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ue=s.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Te){bt(s,s.return,Te)}if(r=s.sibling,r!==null){r.return=s.return,Re=r;break}Re=s.return}return Pe=Ev,Ev=!1,Pe}function Ia(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var b=d=d.next;do{if((b.tag&r)===r){var R=b.destroy;b.destroy=void 0,R!==void 0&&th(s,l,R)}b=b.next}while(b!==d)}}function du(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function nh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function wv(r){var s=r.alternate;s!==null&&(r.alternate=null,wv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[cr],delete s[ma],delete s[yf],delete s[CT],delete s[OT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Tv(r){return r.tag===5||r.tag===3||r.tag===4}function bv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Tv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function rh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Hl));else if(d!==4&&(r=r.child,r!==null))for(rh(r,s,l),r=r.sibling;r!==null;)rh(r,s,l),r=r.sibling}function ih(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(ih(r,s,l),r=r.sibling;r!==null;)ih(r,s,l),r=r.sibling}var Ht=null,Yn=!1;function hi(r,s,l){for(l=l.child;l!==null;)Sv(r,s,l),l=l.sibling}function Sv(r,s,l){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Wi,l)}catch{}switch(l.tag){case 5:Zt||hs(l,s);case 6:var d=Ht,b=Yn;Ht=null,hi(r,s,l),Ht=d,Yn=b,Ht!==null&&(Yn?(r=Ht,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ht.removeChild(l.stateNode));break;case 18:Ht!==null&&(Yn?(r=Ht,l=l.stateNode,r.nodeType===8?vf(r.parentNode,l):r.nodeType===1&&vf(r,l),$n(r)):vf(Ht,l.stateNode));break;case 4:d=Ht,b=Yn,Ht=l.stateNode.containerInfo,Yn=!0,hi(r,s,l),Ht=d,Yn=b;break;case 0:case 11:case 14:case 15:if(!Zt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){b=d=d.next;do{var R=b,q=R.destroy;R=R.tag,q!==void 0&&(R&2||R&4)&&th(l,s,q),b=b.next}while(b!==d)}hi(r,s,l);break;case 1:if(!Zt&&(hs(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(Q){bt(l,s,Q)}hi(r,s,l);break;case 21:hi(r,s,l);break;case 22:l.mode&1?(Zt=(d=Zt)||l.memoizedState!==null,hi(r,s,l),Zt=d):hi(r,s,l);break;default:hi(r,s,l)}}function Av(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new GT),s.forEach(function(d){var b=ib.bind(null,r,d);l.has(d)||(l.add(d),d.then(b,b))})}}function Xn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var b=l[d];try{var R=r,q=s,Q=q;e:for(;Q!==null;){switch(Q.tag){case 5:Ht=Q.stateNode,Yn=!1;break e;case 3:Ht=Q.stateNode.containerInfo,Yn=!0;break e;case 4:Ht=Q.stateNode.containerInfo,Yn=!0;break e}Q=Q.return}if(Ht===null)throw Error(t(160));Sv(R,q,b),Ht=null,Yn=!1;var J=b.alternate;J!==null&&(J.return=null),b.return=null}catch(ce){bt(b,s,ce)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Iv(s,r),s=s.sibling}function Iv(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Xn(s,r),dr(r),d&4){try{Ia(3,r,r.return),du(3,r)}catch(Ce){bt(r,r.return,Ce)}try{Ia(5,r,r.return)}catch(Ce){bt(r,r.return,Ce)}}break;case 1:Xn(s,r),dr(r),d&512&&l!==null&&hs(l,l.return);break;case 5:if(Xn(s,r),dr(r),d&512&&l!==null&&hs(l,l.return),r.flags&32){var b=r.stateNode;try{lt(b,"")}catch(Ce){bt(r,r.return,Ce)}}if(d&4&&(b=r.stateNode,b!=null)){var R=r.memoizedProps,q=l!==null?l.memoizedProps:R,Q=r.type,J=r.updateQueue;if(r.updateQueue=null,J!==null)try{Q==="input"&&R.type==="radio"&&R.name!=null&&xt(b,R),Ks(Q,q);var ce=Ks(Q,R);for(q=0;q<J.length;q+=2){var _e=J[q],we=J[q+1];_e==="style"?zs(b,we):_e==="dangerouslySetInnerHTML"?Fi(b,we):_e==="children"?lt(b,we):O(b,_e,we,ce)}switch(Q){case"input":dt(b,R);break;case"textarea":ze(b,R);break;case"select":var ye=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!R.multiple;var xe=R.value;xe!=null?Ae(b,!!R.multiple,xe,!1):ye!==!!R.multiple&&(R.defaultValue!=null?Ae(b,!!R.multiple,R.defaultValue,!0):Ae(b,!!R.multiple,R.multiple?[]:"",!1))}b[ma]=R}catch(Ce){bt(r,r.return,Ce)}}break;case 6:if(Xn(s,r),dr(r),d&4){if(r.stateNode===null)throw Error(t(162));b=r.stateNode,R=r.memoizedProps;try{b.nodeValue=R}catch(Ce){bt(r,r.return,Ce)}}break;case 3:if(Xn(s,r),dr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{$n(s.containerInfo)}catch(Ce){bt(r,r.return,Ce)}break;case 4:Xn(s,r),dr(r);break;case 13:Xn(s,r),dr(r),b=r.child,b.flags&8192&&(R=b.memoizedState!==null,b.stateNode.isHidden=R,!R||b.alternate!==null&&b.alternate.memoizedState!==null||(ah=ft())),d&4&&Av(r);break;case 22:if(_e=l!==null&&l.memoizedState!==null,r.mode&1?(Zt=(ce=Zt)||_e,Xn(s,r),Zt=ce):Xn(s,r),dr(r),d&8192){if(ce=r.memoizedState!==null,(r.stateNode.isHidden=ce)&&!_e&&r.mode&1)for(Re=r,_e=r.child;_e!==null;){for(we=Re=_e;Re!==null;){switch(ye=Re,xe=ye.child,ye.tag){case 0:case 11:case 14:case 15:Ia(4,ye,ye.return);break;case 1:hs(ye,ye.return);var Pe=ye.stateNode;if(typeof Pe.componentWillUnmount=="function"){d=ye,l=ye.return;try{s=d,Pe.props=s.memoizedProps,Pe.state=s.memoizedState,Pe.componentWillUnmount()}catch(Ce){bt(d,l,Ce)}}break;case 5:hs(ye,ye.return);break;case 22:if(ye.memoizedState!==null){Rv(we);continue}}xe!==null?(xe.return=ye,Re=xe):Rv(we)}_e=_e.sibling}e:for(_e=null,we=r;;){if(we.tag===5){if(_e===null){_e=we;try{b=we.stateNode,ce?(R=b.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(Q=we.stateNode,J=we.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null,Q.style.display=Bs("display",q))}catch(Ce){bt(r,r.return,Ce)}}}else if(we.tag===6){if(_e===null)try{we.stateNode.nodeValue=ce?"":we.memoizedProps}catch(Ce){bt(r,r.return,Ce)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===r)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===r)break e;for(;we.sibling===null;){if(we.return===null||we.return===r)break e;_e===we&&(_e=null),we=we.return}_e===we&&(_e=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:Xn(s,r),dr(r),d&4&&Av(r);break;case 21:break;default:Xn(s,r),dr(r)}}function dr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Tv(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var b=d.stateNode;d.flags&32&&(lt(b,""),d.flags&=-33);var R=bv(r);ih(r,R,b);break;case 3:case 4:var q=d.stateNode.containerInfo,Q=bv(r);rh(r,Q,q);break;default:throw Error(t(161))}}catch(J){bt(r,r.return,J)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function YT(r,s,l){Re=r,xv(r)}function xv(r,s,l){for(var d=(r.mode&1)!==0;Re!==null;){var b=Re,R=b.child;if(b.tag===22&&d){var q=b.memoizedState!==null||hu;if(!q){var Q=b.alternate,J=Q!==null&&Q.memoizedState!==null||Zt;Q=hu;var ce=Zt;if(hu=q,(Zt=J)&&!ce)for(Re=b;Re!==null;)q=Re,J=q.child,q.tag===22&&q.memoizedState!==null?Pv(b):J!==null?(J.return=q,Re=J):Pv(b);for(;R!==null;)Re=R,xv(R),R=R.sibling;Re=b,hu=Q,Zt=ce}kv(r)}else b.subtreeFlags&8772&&R!==null?(R.return=b,Re=R):kv(r)}}function kv(r){for(;Re!==null;){var s=Re;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Zt||du(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Zt)if(l===null)d.componentDidMount();else{var b=s.elementType===s.type?l.memoizedProps:Qn(s.type,l.memoizedProps);d.componentDidUpdate(b,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var R=s.updateQueue;R!==null&&Rg(s,R,d);break;case 3:var q=s.updateQueue;if(q!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Rg(s,q,l)}break;case 5:var Q=s.stateNode;if(l===null&&s.flags&4){l=Q;var J=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&l.focus();break;case"img":J.src&&(l.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ce=s.alternate;if(ce!==null){var _e=ce.memoizedState;if(_e!==null){var we=_e.dehydrated;we!==null&&$n(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Zt||s.flags&512&&nh(s)}catch(ye){bt(s,s.return,ye)}}if(s===r){Re=null;break}if(l=s.sibling,l!==null){l.return=s.return,Re=l;break}Re=s.return}}function Rv(r){for(;Re!==null;){var s=Re;if(s===r){Re=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Re=l;break}Re=s.return}}function Pv(r){for(;Re!==null;){var s=Re;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{du(4,s)}catch(J){bt(s,l,J)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var b=s.return;try{d.componentDidMount()}catch(J){bt(s,b,J)}}var R=s.return;try{nh(s)}catch(J){bt(s,R,J)}break;case 5:var q=s.return;try{nh(s)}catch(J){bt(s,q,J)}}}catch(J){bt(s,s.return,J)}if(s===r){Re=null;break}var Q=s.sibling;if(Q!==null){Q.return=s.return,Re=Q;break}Re=s.return}}var XT=Math.ceil,pu=A.ReactCurrentDispatcher,oh=A.ReactCurrentOwner,Ln=A.ReactCurrentBatchConfig,rt=0,Ft=null,Rt=null,$t=0,An=0,ds=ai(0),Nt=0,xa=null,ao=0,mu=0,sh=0,ka=null,pn=null,ah=0,ps=1/0,jr=null,gu=!1,lh=null,di=null,vu=!1,pi=null,yu=0,Ra=0,uh=null,_u=-1,Eu=0;function ln(){return rt&6?ft():_u!==-1?_u:_u=ft()}function mi(r){return r.mode&1?rt&2&&$t!==0?$t&-$t:LT.transition!==null?(Eu===0&&(Eu=Qi()),Eu):(r=Je,r!==0||(r=window.event,r=r===void 0?16:ra(r.type)),r):1}function Jn(r,s,l,d){if(50<Ra)throw Ra=0,uh=null,Error(t(185));Zr(r,l,d),(!(rt&2)||r!==Ft)&&(r===Ft&&(!(rt&2)&&(mu|=l),Nt===4&&gi(r,$t)),mn(r,d),l===1&&rt===0&&!(s.mode&1)&&(ps=ft()+500,Gl&&ui()))}function mn(r,s){var l=r.callbackNode;Ar(r,s);var d=Gi(r,r===Ft?$t:0);if(d===0)l!==null&&Js(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&Js(l),s===1)r.tag===0?NT(Ov.bind(null,r)):vg(Ov.bind(null,r)),RT(function(){!(rt&6)&&ui()}),l=null;else{switch(ti(d)){case 1:l=Ki;break;case 4:l=Yr;break;case 16:l=xn;break;case 536870912:l=El;break;default:l=xn}l=qv(l,Cv.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Cv(r,s){if(_u=-1,Eu=0,rt&6)throw Error(t(327));var l=r.callbackNode;if(ms()&&r.callbackNode!==l)return null;var d=Gi(r,r===Ft?$t:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=wu(r,d);else{s=d;var b=rt;rt|=2;var R=Lv();(Ft!==r||$t!==s)&&(jr=null,ps=ft()+500,uo(r,s));do try{eb();break}catch(Q){Nv(r,Q)}while(!0);xf(),pu.current=R,rt=b,Rt!==null?s=0:(Ft=null,$t=0,s=Nt)}if(s!==0){if(s===2&&(b=En(r),b!==0&&(d=b,s=ch(r,b))),s===1)throw l=xa,uo(r,0),gi(r,d),mn(r,ft()),l;if(s===6)gi(r,d);else{if(b=r.current.alternate,!(d&30)&&!JT(b)&&(s=wu(r,d),s===2&&(R=En(r),R!==0&&(d=R,s=ch(r,R))),s===1))throw l=xa,uo(r,0),gi(r,d),mn(r,ft()),l;switch(r.finishedWork=b,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:co(r,pn,jr);break;case 3:if(gi(r,d),(d&130023424)===d&&(s=ah+500-ft(),10<s)){if(Gi(r,0)!==0)break;if(b=r.suspendedLanes,(b&d)!==d){ln(),r.pingedLanes|=r.suspendedLanes&b;break}r.timeoutHandle=gf(co.bind(null,r,pn,jr),s);break}co(r,pn,jr);break;case 4:if(gi(r,d),(d&4194240)===d)break;for(s=r.eventTimes,b=-1;0<d;){var q=31-on(d);R=1<<q,q=s[q],q>b&&(b=q),d&=~R}if(d=b,d=ft()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*XT(d/1960))-d,10<d){r.timeoutHandle=gf(co.bind(null,r,pn,jr),d);break}co(r,pn,jr);break;case 5:co(r,pn,jr);break;default:throw Error(t(329))}}}return mn(r,ft()),r.callbackNode===l?Cv.bind(null,r):null}function ch(r,s){var l=ka;return r.current.memoizedState.isDehydrated&&(uo(r,s).flags|=256),r=wu(r,s),r!==2&&(s=pn,pn=l,s!==null&&fh(s)),r}function fh(r){pn===null?pn=r:pn.push.apply(pn,r)}function JT(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var b=l[d],R=b.getSnapshot;b=b.value;try{if(!Wn(R(),b))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function gi(r,s){for(s&=~sh,s&=~mu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-on(s),d=1<<l;r[l]=-1,s&=~d}}function Ov(r){if(rt&6)throw Error(t(327));ms();var s=Gi(r,0);if(!(s&1))return mn(r,ft()),null;var l=wu(r,s);if(r.tag!==0&&l===2){var d=En(r);d!==0&&(s=d,l=ch(r,d))}if(l===1)throw l=xa,uo(r,0),gi(r,s),mn(r,ft()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,co(r,pn,jr),mn(r,ft()),null}function hh(r,s){var l=rt;rt|=1;try{return r(s)}finally{rt=l,rt===0&&(ps=ft()+500,Gl&&ui())}}function lo(r){pi!==null&&pi.tag===0&&!(rt&6)&&ms();var s=rt;rt|=1;var l=Ln.transition,d=Je;try{if(Ln.transition=null,Je=1,r)return r()}finally{Je=d,Ln.transition=l,rt=s,!(rt&6)&&ui()}}function dh(){An=ds.current,mt(ds)}function uo(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,kT(l)),Rt!==null)for(l=Rt.return;l!==null;){var d=l;switch(Tf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Kl();break;case 3:cs(),mt(fn),mt(Yt),Df();break;case 5:Nf(d);break;case 4:cs();break;case 13:mt(_t);break;case 19:mt(_t);break;case 10:kf(d.type._context);break;case 22:case 23:dh()}l=l.return}if(Ft=r,Rt=r=vi(r.current,null),$t=An=s,Nt=0,xa=null,sh=mu=ao=0,pn=ka=null,io!==null){for(s=0;s<io.length;s++)if(l=io[s],d=l.interleaved,d!==null){l.interleaved=null;var b=d.next,R=l.pending;if(R!==null){var q=R.next;R.next=b,d.next=q}l.pending=d}io=null}return r}function Nv(r,s){do{var l=Rt;try{if(xf(),iu.current=lu,ou){for(var d=Et.memoizedState;d!==null;){var b=d.queue;b!==null&&(b.pending=null),d=d.next}ou=!1}if(so=0,Vt=Ot=Et=null,wa=!1,Ta=0,oh.current=null,l===null||l.return===null){Nt=1,xa=s,Rt=null;break}e:{var R=r,q=l.return,Q=l,J=s;if(s=$t,Q.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ce=J,_e=Q,we=_e.tag;if(!(_e.mode&1)&&(we===0||we===11||we===15)){var ye=_e.alternate;ye?(_e.updateQueue=ye.updateQueue,_e.memoizedState=ye.memoizedState,_e.lanes=ye.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var xe=iv(q);if(xe!==null){xe.flags&=-257,ov(xe,q,Q,R,s),xe.mode&1&&rv(R,ce,s),s=xe,J=ce;var Pe=s.updateQueue;if(Pe===null){var Ce=new Set;Ce.add(J),s.updateQueue=Ce}else Pe.add(J);break e}else{if(!(s&1)){rv(R,ce,s),ph();break e}J=Error(t(426))}}else if(vt&&Q.mode&1){var At=iv(q);if(At!==null){!(At.flags&65536)&&(At.flags|=256),ov(At,q,Q,R,s),Af(fs(J,Q));break e}}R=J=fs(J,Q),Nt!==4&&(Nt=2),ka===null?ka=[R]:ka.push(R),R=q;do{switch(R.tag){case 3:R.flags|=65536,s&=-s,R.lanes|=s;var le=tv(R,J,s);kg(R,le);break e;case 1:Q=J;var te=R.type,ue=R.stateNode;if(!(R.flags&128)&&(typeof te.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(di===null||!di.has(ue)))){R.flags|=65536,s&=-s,R.lanes|=s;var Te=nv(R,Q,s);kg(R,Te);break e}}R=R.return}while(R!==null)}Mv(l)}catch(Oe){s=Oe,Rt===l&&l!==null&&(Rt=l=l.return);continue}break}while(!0)}function Lv(){var r=pu.current;return pu.current=lu,r===null?lu:r}function ph(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Ft===null||!(ao&268435455)&&!(mu&268435455)||gi(Ft,$t)}function wu(r,s){var l=rt;rt|=2;var d=Lv();(Ft!==r||$t!==s)&&(jr=null,uo(r,s));do try{ZT();break}catch(b){Nv(r,b)}while(!0);if(xf(),rt=l,pu.current=d,Rt!==null)throw Error(t(261));return Ft=null,$t=0,Nt}function ZT(){for(;Rt!==null;)Dv(Rt)}function eb(){for(;Rt!==null&&!yl();)Dv(Rt)}function Dv(r){var s=Fv(r.alternate,r,An);r.memoizedProps=r.pendingProps,s===null?Mv(r):Rt=s,oh.current=null}function Mv(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=WT(l,s),l!==null){l.flags&=32767,Rt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Nt=6,Rt=null;return}}else if(l=KT(l,s,An),l!==null){Rt=l;return}if(s=s.sibling,s!==null){Rt=s;return}Rt=s=r}while(s!==null);Nt===0&&(Nt=5)}function co(r,s,l){var d=Je,b=Ln.transition;try{Ln.transition=null,Je=1,tb(r,s,l,d)}finally{Ln.transition=b,Je=d}return null}function tb(r,s,l,d){do ms();while(pi!==null);if(rt&6)throw Error(t(327));l=r.finishedWork;var b=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var R=l.lanes|l.childLanes;if(ct(r,R),r===Ft&&(Rt=Ft=null,$t=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||vu||(vu=!0,qv(xn,function(){return ms(),null})),R=(l.flags&15990)!==0,l.subtreeFlags&15990||R){R=Ln.transition,Ln.transition=null;var q=Je;Je=1;var Q=rt;rt|=4,oh.current=null,QT(r,l),Iv(l,r),wT(pf),ri=!!df,pf=df=null,r.current=l,YT(l),Yc(),rt=Q,Je=q,Ln.transition=R}else r.current=l;if(vu&&(vu=!1,pi=r,yu=b),R=r.pendingLanes,R===0&&(di=null),wl(l.stateNode),mn(r,ft()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)b=s[l],d(b.value,{componentStack:b.stack,digest:b.digest});if(gu)throw gu=!1,r=lh,lh=null,r;return yu&1&&r.tag!==0&&ms(),R=r.pendingLanes,R&1?r===uh?Ra++:(Ra=0,uh=r):Ra=0,ui(),null}function ms(){if(pi!==null){var r=ti(yu),s=Ln.transition,l=Je;try{if(Ln.transition=null,Je=16>r?16:r,pi===null)var d=!1;else{if(r=pi,pi=null,yu=0,rt&6)throw Error(t(331));var b=rt;for(rt|=4,Re=r.current;Re!==null;){var R=Re,q=R.child;if(Re.flags&16){var Q=R.deletions;if(Q!==null){for(var J=0;J<Q.length;J++){var ce=Q[J];for(Re=ce;Re!==null;){var _e=Re;switch(_e.tag){case 0:case 11:case 15:Ia(8,_e,R)}var we=_e.child;if(we!==null)we.return=_e,Re=we;else for(;Re!==null;){_e=Re;var ye=_e.sibling,xe=_e.return;if(wv(_e),_e===ce){Re=null;break}if(ye!==null){ye.return=xe,Re=ye;break}Re=xe}}}var Pe=R.alternate;if(Pe!==null){var Ce=Pe.child;if(Ce!==null){Pe.child=null;do{var At=Ce.sibling;Ce.sibling=null,Ce=At}while(Ce!==null)}}Re=R}}if(R.subtreeFlags&2064&&q!==null)q.return=R,Re=q;else e:for(;Re!==null;){if(R=Re,R.flags&2048)switch(R.tag){case 0:case 11:case 15:Ia(9,R,R.return)}var le=R.sibling;if(le!==null){le.return=R.return,Re=le;break e}Re=R.return}}var te=r.current;for(Re=te;Re!==null;){q=Re;var ue=q.child;if(q.subtreeFlags&2064&&ue!==null)ue.return=q,Re=ue;else e:for(q=te;Re!==null;){if(Q=Re,Q.flags&2048)try{switch(Q.tag){case 0:case 11:case 15:du(9,Q)}}catch(Oe){bt(Q,Q.return,Oe)}if(Q===q){Re=null;break e}var Te=Q.sibling;if(Te!==null){Te.return=Q.return,Re=Te;break e}Re=Q.return}}if(rt=b,ui(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Wi,r)}catch{}d=!0}return d}finally{Je=l,Ln.transition=s}}return!1}function jv(r,s,l){s=fs(l,s),s=tv(r,s,1),r=fi(r,s,1),s=ln(),r!==null&&(Zr(r,1,s),mn(r,s))}function bt(r,s,l){if(r.tag===3)jv(r,r,l);else for(;s!==null;){if(s.tag===3){jv(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(di===null||!di.has(d))){r=fs(l,r),r=nv(s,r,1),s=fi(s,r,1),r=ln(),s!==null&&(Zr(s,1,r),mn(s,r));break}}s=s.return}}function nb(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=ln(),r.pingedLanes|=r.suspendedLanes&l,Ft===r&&($t&l)===l&&(Nt===4||Nt===3&&($t&130023424)===$t&&500>ft()-ah?uo(r,0):sh|=l),mn(r,s)}function Vv(r,s){s===0&&(r.mode&1?(s=Vo,Vo<<=1,!(Vo&130023424)&&(Vo=4194304)):s=1);var l=ln();r=Lr(r,s),r!==null&&(Zr(r,s,l),mn(r,l))}function rb(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Vv(r,l)}function ib(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,b=r.memoizedState;b!==null&&(l=b.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),Vv(r,l)}var Fv;Fv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||fn.current)dn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return dn=!1,$T(r,s,l);dn=!!(r.flags&131072)}else dn=!1,vt&&s.flags&1048576&&yg(s,Yl,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;fu(r,s),r=s.pendingProps;var b=rs(s,Yt.current);us(s,l),b=Vf(null,s,d,r,b,l);var R=Ff();return s.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,hn(d)?(R=!0,Wl(s)):R=!1,s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Cf(s),b.updater=uu,s.stateNode=b,b._reactInternals=s,$f(s,d,r,l),s=Qf(null,s,d,!0,R,l)):(s.tag=0,vt&&R&&wf(s),an(null,s,b,l),s=s.child),s;case 16:d=s.elementType;e:{switch(fu(r,s),r=s.pendingProps,b=d._init,d=b(d._payload),s.type=d,b=s.tag=sb(d),r=Qn(d,r),b){case 0:s=Gf(null,s,d,r,l);break e;case 1:s=fv(null,s,d,r,l);break e;case 11:s=sv(null,s,d,r,l);break e;case 14:s=av(null,s,d,Qn(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,b=s.pendingProps,b=s.elementType===d?b:Qn(d,b),Gf(r,s,d,b,l);case 1:return d=s.type,b=s.pendingProps,b=s.elementType===d?b:Qn(d,b),fv(r,s,d,b,l);case 3:e:{if(hv(s),r===null)throw Error(t(387));d=s.pendingProps,R=s.memoizedState,b=R.element,xg(r,s),nu(s,d,null,l);var q=s.memoizedState;if(d=q.element,R.isDehydrated)if(R={element:d,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},s.updateQueue.baseState=R,s.memoizedState=R,s.flags&256){b=fs(Error(t(423)),s),s=dv(r,s,d,l,b);break e}else if(d!==b){b=fs(Error(t(424)),s),s=dv(r,s,d,l,b);break e}else for(Sn=si(s.stateNode.containerInfo.firstChild),bn=s,vt=!0,Gn=null,l=Ag(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ss(),d===b){s=Mr(r,s,l);break e}an(r,s,d,l)}s=s.child}return s;case 5:return Pg(s),r===null&&Sf(s),d=s.type,b=s.pendingProps,R=r!==null?r.memoizedProps:null,q=b.children,mf(d,b)?q=null:R!==null&&mf(d,R)&&(s.flags|=32),cv(r,s),an(r,s,q,l),s.child;case 6:return r===null&&Sf(s),null;case 13:return pv(r,s,l);case 4:return Of(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=as(s,null,d,l):an(r,s,d,l),s.child;case 11:return d=s.type,b=s.pendingProps,b=s.elementType===d?b:Qn(d,b),sv(r,s,d,b,l);case 7:return an(r,s,s.pendingProps,l),s.child;case 8:return an(r,s,s.pendingProps.children,l),s.child;case 12:return an(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,b=s.pendingProps,R=s.memoizedProps,q=b.value,ht(Zl,d._currentValue),d._currentValue=q,R!==null)if(Wn(R.value,q)){if(R.children===b.children&&!fn.current){s=Mr(r,s,l);break e}}else for(R=s.child,R!==null&&(R.return=s);R!==null;){var Q=R.dependencies;if(Q!==null){q=R.child;for(var J=Q.firstContext;J!==null;){if(J.context===d){if(R.tag===1){J=Dr(-1,l&-l),J.tag=2;var ce=R.updateQueue;if(ce!==null){ce=ce.shared;var _e=ce.pending;_e===null?J.next=J:(J.next=_e.next,_e.next=J),ce.pending=J}}R.lanes|=l,J=R.alternate,J!==null&&(J.lanes|=l),Rf(R.return,l,s),Q.lanes|=l;break}J=J.next}}else if(R.tag===10)q=R.type===s.type?null:R.child;else if(R.tag===18){if(q=R.return,q===null)throw Error(t(341));q.lanes|=l,Q=q.alternate,Q!==null&&(Q.lanes|=l),Rf(q,l,s),q=R.sibling}else q=R.child;if(q!==null)q.return=R;else for(q=R;q!==null;){if(q===s){q=null;break}if(R=q.sibling,R!==null){R.return=q.return,q=R;break}q=q.return}R=q}an(r,s,b.children,l),s=s.child}return s;case 9:return b=s.type,d=s.pendingProps.children,us(s,l),b=On(b),d=d(b),s.flags|=1,an(r,s,d,l),s.child;case 14:return d=s.type,b=Qn(d,s.pendingProps),b=Qn(d.type,b),av(r,s,d,b,l);case 15:return lv(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,b=s.pendingProps,b=s.elementType===d?b:Qn(d,b),fu(r,s),s.tag=1,hn(d)?(r=!0,Wl(s)):r=!1,us(s,l),Zg(s,d,b),$f(s,d,b,l),Qf(null,s,d,!0,r,l);case 19:return gv(r,s,l);case 22:return uv(r,s,l)}throw Error(t(156,s.tag))};function qv(r,s){return Mo(r,s)}function ob(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(r,s,l,d){return new ob(r,s,l,d)}function mh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function sb(r){if(typeof r=="function")return mh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===G)return 14}return 2}function vi(r,s){var l=r.alternate;return l===null?(l=Dn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Tu(r,s,l,d,b,R){var q=2;if(d=r,typeof r=="function")mh(r)&&(q=1);else if(typeof r=="string")q=5;else e:switch(r){case P:return fo(l.children,b,R,s);case x:q=8,b|=8;break;case D:return r=Dn(12,l,s,b|2),r.elementType=D,r.lanes=R,r;case N:return r=Dn(13,l,s,b),r.elementType=N,r.lanes=R,r;case H:return r=Dn(19,l,s,b),r.elementType=H,r.lanes=R,r;case ne:return bu(l,b,R,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:q=10;break e;case I:q=9;break e;case L:q=11;break e;case G:q=14;break e;case re:q=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Dn(q,l,s,b),s.elementType=r,s.type=d,s.lanes=R,s}function fo(r,s,l,d){return r=Dn(7,r,d,s),r.lanes=l,r}function bu(r,s,l,d){return r=Dn(22,r,d,s),r.elementType=ne,r.lanes=l,r.stateNode={isHidden:!1},r}function gh(r,s,l){return r=Dn(6,r,null,s),r.lanes=l,r}function vh(r,s,l){return s=Dn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function ab(r,s,l,d,b){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jr(0),this.expirationTimes=Jr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.identifierPrefix=d,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function yh(r,s,l,d,b,R,q,Q,J){return r=new ab(r,s,l,Q,J),s===1?(s=1,R===!0&&(s|=8)):s=0,R=Dn(3,null,null,s),r.current=R,R.stateNode=r,R.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cf(R),r}function lb(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function Uv(r){if(!r)return li;r=r._reactInternals;e:{if(qn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(hn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(hn(l))return mg(r,l,s)}return s}function Bv(r,s,l,d,b,R,q,Q,J){return r=yh(l,d,!0,r,b,R,q,Q,J),r.context=Uv(null),l=r.current,d=ln(),b=mi(l),R=Dr(d,b),R.callback=s??null,fi(l,R,b),r.current.lanes=b,Zr(r,b,d),mn(r,d),r}function Su(r,s,l,d){var b=s.current,R=ln(),q=mi(b);return l=Uv(l),s.context===null?s.context=l:s.pendingContext=l,s=Dr(R,q),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=fi(b,s,q),r!==null&&(Jn(r,b,q,R),tu(r,b,q)),q}function Au(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function zv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function _h(r,s){zv(r,s),(r=r.alternate)&&zv(r,s)}function ub(){return null}var Hv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Eh(r){this._internalRoot=r}Iu.prototype.render=Eh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Su(r,s,null,null)},Iu.prototype.unmount=Eh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;lo(function(){Su(null,r,null,null)}),s[Pr]=null}};function Iu(r){this._internalRoot=r}Iu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Il();r={blockedOn:null,target:r,priority:s};for(var l=0;l<sr.length&&s!==0&&s<sr[l].priority;l++);sr.splice(l,0,r),l===0&&Rl(r)}};function wh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function xu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function $v(){}function cb(r,s,l,d,b){if(b){if(typeof d=="function"){var R=d;d=function(){var ce=Au(q);R.call(ce)}}var q=Bv(s,d,r,0,null,!1,!1,"",$v);return r._reactRootContainer=q,r[Pr]=q.current,da(r.nodeType===8?r.parentNode:r),lo(),q}for(;b=r.lastChild;)r.removeChild(b);if(typeof d=="function"){var Q=d;d=function(){var ce=Au(J);Q.call(ce)}}var J=yh(r,0,!1,null,null,!1,!1,"",$v);return r._reactRootContainer=J,r[Pr]=J.current,da(r.nodeType===8?r.parentNode:r),lo(function(){Su(s,J,l,d)}),J}function ku(r,s,l,d,b){var R=l._reactRootContainer;if(R){var q=R;if(typeof b=="function"){var Q=b;b=function(){var J=Au(q);Q.call(J)}}Su(s,q,r,b)}else q=cb(l,s,r,b,d);return Au(q)}Sl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Xr(s.pendingLanes);l!==0&&(ei(s,l|1),mn(s,ft()),!(rt&6)&&(ps=ft()+500,ui()))}break;case 13:lo(function(){var d=Lr(r,1);if(d!==null){var b=ln();Jn(d,r,1,b)}}),_h(r,1)}},Fo=function(r){if(r.tag===13){var s=Lr(r,134217728);if(s!==null){var l=ln();Jn(s,r,134217728,l)}_h(r,134217728)}},Al=function(r){if(r.tag===13){var s=mi(r),l=Lr(r,s);if(l!==null){var d=ln();Jn(l,r,s,d)}_h(r,s)}},Il=function(){return Je},xl=function(r,s){var l=Je;try{return Je=r,s()}finally{Je=l}},Po=function(r,s,l){switch(s){case"input":if(dt(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var b=$l(d);if(!b)throw Error(t(90));Le(d),dt(d,b)}}}break;case"textarea":ze(r,l);break;case"select":s=l.value,s!=null&&Ae(r,!!l.multiple,s,!1)}},Bi=hh,Gs=lo;var fb={usingClientEntryPoint:!1,Events:[ga,ts,$l,ir,Ws,hh]},Pa={findFiberByHostInstance:eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hb={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Xs(r),r===null?null:r.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||ub,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{Wi=Ru.inject(hb),_n=Ru}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fb,gn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wh(s))throw Error(t(200));return lb(r,s,null,l)},gn.createRoot=function(r,s){if(!wh(r))throw Error(t(299));var l=!1,d="",b=Hv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=yh(r,1,!1,null,null,l,!1,d,b),r[Pr]=s.current,da(r.nodeType===8?r.parentNode:r),new Eh(s)},gn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Xs(s),r=r===null?null:r.stateNode,r},gn.flushSync=function(r){return lo(r)},gn.hydrate=function(r,s,l){if(!xu(s))throw Error(t(200));return ku(null,r,s,!0,l)},gn.hydrateRoot=function(r,s,l){if(!wh(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,b=!1,R="",q=Hv;if(l!=null&&(l.unstable_strictMode===!0&&(b=!0),l.identifierPrefix!==void 0&&(R=l.identifierPrefix),l.onRecoverableError!==void 0&&(q=l.onRecoverableError)),s=Bv(s,null,r,1,l??null,b,!1,R,q),r[Pr]=s.current,da(r),d)for(r=0;r<d.length;r++)l=d[r],b=l._getVersion,b=b(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,b]:s.mutableSourceEagerHydrationData.push(l,b);return new Iu(s)},gn.render=function(r,s,l){if(!xu(s))throw Error(t(200));return ku(null,r,s,!1,l)},gn.unmountComponentAtNode=function(r){if(!xu(r))throw Error(t(40));return r._reactRootContainer?(lo(function(){ku(null,null,r,!1,function(){r._reactRootContainer=null,r[Pr]=null})}),!0):!1},gn.unstable_batchedUpdates=hh,gn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!xu(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return ku(r,s,l,!1,d)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var Zv;function d1(){if(Zv)return Sh.exports;Zv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sh.exports=_b(),Sh.exports}var ey;function Eb(){if(ey)return Cu;ey=1;var n=d1();return Cu.createRoot=n.createRoot,Cu.hydrateRoot=n.hydrateRoot,Cu}var wb=Eb(),he=Tc();const go=h1(he);var Oa={},ty;function Tb(){if(ty)return Oa;ty=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.parse=u,Oa.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function u(p,m){const S=new a,w=p.length;if(w<2)return S;const _=(m==null?void 0:m.decode)||y;let E=0;do{const T=p.indexOf("=",E);if(T===-1)break;const O=p.indexOf(";",E),A=O===-1?w:O;if(T>A){E=p.lastIndexOf(";",T-1)+1;continue}const M=f(p,E,T),F=h(p,T,M),P=p.slice(M,F);if(S[P]===void 0){let x=f(p,T+1,A),D=h(p,A,x);const C=_(p.slice(x,D));S[P]=C}E=A+1}while(E<w);return S}function f(p,m,S){do{const w=p.charCodeAt(m);if(w!==32&&w!==9)return m}while(++m<S);return S}function h(p,m,S){for(;m>S;){const w=p.charCodeAt(--m);if(w!==32&&w!==9)return m+1}return S}function g(p,m,S){const w=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(p))throw new TypeError(`argument name is invalid: ${p}`);const _=w(m);if(!e.test(_))throw new TypeError(`argument val is invalid: ${m}`);let E=p+"="+_;if(!S)return E;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);E+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);E+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);E+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);E+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(E+="; HttpOnly"),S.secure&&(E+="; Secure"),S.partitioned&&(E+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return E}function y(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function v(p){return o.call(p)==="[object Date]"}return Oa}Tb();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ny="popstate";function bb(n={}){function e(i,o){let{pathname:a,search:u,hash:f}=i.location;return _p("",{pathname:a,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Ka(o)}return Ab(e,t,null,n)}function wt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _r(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sb(){return Math.random().toString(36).substring(2,10)}function ry(n,e){return{usr:n.state,key:n.key,idx:e}}function _p(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ns(e):e,state:t,key:e&&e.key||i||Sb()}}function Ka({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ns(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Ab(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,f="POP",h=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function v(){f="POP";let _=y(),E=_==null?null:_-g;g=_,h&&h({action:f,location:w.location,delta:E})}function p(_,E){f="PUSH";let T=_p(w.location,_,E);g=y()+1;let O=ry(T,g),A=w.createHref(T);try{u.pushState(O,"",A)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(A)}a&&h&&h({action:f,location:w.location,delta:1})}function m(_,E){f="REPLACE";let T=_p(w.location,_,E);g=y();let O=ry(T,g),A=w.createHref(T);u.replaceState(O,"",A),a&&h&&h({action:f,location:w.location,delta:0})}function S(_){let E=o.location.origin!=="null"?o.location.origin:o.location.href,T=typeof _=="string"?_:Ka(_);return T=T.replace(/ $/,"%20"),wt(E,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,E)}let w={get action(){return f},get location(){return n(o,u)},listen(_){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(ny,v),h=_,()=>{o.removeEventListener(ny,v),h=null}},createHref(_){return e(o,_)},createURL:S,encodeLocation(_){let E=S(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:m,go(_){return u.go(_)}};return w}function p1(n,e,t="/"){return Ib(n,e,t,!1)}function Ib(n,e,t,i){let o=typeof e=="string"?Ns(e):e,a=Ci(o.pathname||"/",t);if(a==null)return null;let u=m1(n);xb(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let g=Vb(a);f=Mb(u[h],g,i)}return f}function m1(n,e=[],t=[],i=""){let o=(a,u,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(wt(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let g=Ur([i,h.relativePath]),y=t.concat(h);a.children&&a.children.length>0&&(wt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),m1(a.children,e,y,g)),!(a.path==null&&!a.index)&&e.push({path:g,score:Lb(g,a.index),routesMeta:y})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,u);else for(let h of g1(a.path))o(a,u,h)}),e}function g1(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=g1(i.join("/")),f=[];return f.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&f.push(...u),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function xb(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Db(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var kb=/^:[\w-]+$/,Rb=3,Pb=2,Cb=1,Ob=10,Nb=-2,iy=n=>n==="*";function Lb(n,e){let t=n.split("/"),i=t.length;return t.some(iy)&&(i+=Nb),e&&(i+=Pb),t.filter(o=>!iy(o)).reduce((o,a)=>o+(kb.test(a)?Rb:a===""?Cb:Ob),i)}function Db(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function Mb(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",u=[];for(let f=0;f<i.length;++f){let h=i[f],g=f===i.length-1,y=a==="/"?e:e.slice(a.length)||"/",v=Zu({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},y),p=h.route;if(!v&&g&&t&&!i[i.length-1].route.index&&(v=Zu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:Ur([a,v.pathname]),pathnameBase:Bb(Ur([a,v.pathnameBase])),route:p}),v.pathnameBase!=="/"&&(a=Ur([a,v.pathnameBase]))}return u}function Zu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=jb(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:v},p)=>{if(y==="*"){let S=f[p]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const m=f[p];return v&&!m?g[y]=void 0:g[y]=(m||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:u,pattern:n}}function jb(n,e=!1,t=!0){_r(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Vb(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _r(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ci(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Fb(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ns(n):n;return{pathname:t?t.startsWith("/")?t:qb(t,e):e,search:zb(i),hash:Hb(o)}}function qb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function xh(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ub(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function v1(n){let e=Ub(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function y1(n,e,t,i=!1){let o;typeof n=="string"?o=Ns(n):(o={...n},wt(!o.pathname||!o.pathname.includes("?"),xh("?","pathname","search",o)),wt(!o.pathname||!o.pathname.includes("#"),xh("#","pathname","hash",o)),wt(!o.search||!o.search.includes("#"),xh("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=t;else{let v=e.length-1;if(!i&&u.startsWith("..")){let p=u.split("/");for(;p[0]==="..";)p.shift(),v-=1;o.pathname=p.join("/")}f=v>=0?e[v]:"/"}let h=Fb(o,f),g=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(g||y)&&(h.pathname+="/"),h}var Ur=n=>n.join("/").replace(/\/\/+/g,"/"),Bb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Hb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function $b(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var _1=["POST","PUT","PATCH","DELETE"];new Set(_1);var Kb=["GET",..._1];new Set(Kb);var Ls=he.createContext(null);Ls.displayName="DataRouter";var bc=he.createContext(null);bc.displayName="DataRouterState";var E1=he.createContext({isTransitioning:!1});E1.displayName="ViewTransition";var Wb=he.createContext(new Map);Wb.displayName="Fetchers";var Gb=he.createContext(null);Gb.displayName="Await";var Tr=he.createContext(null);Tr.displayName="Navigation";var nl=he.createContext(null);nl.displayName="Location";var br=he.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var $p=he.createContext(null);$p.displayName="RouteError";function Qb(n,{relative:e}={}){wt(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=he.useContext(Tr),{hash:o,pathname:a,search:u}=il(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:Ur([t,a])),i.createHref({pathname:f,search:u,hash:o})}function rl(){return he.useContext(nl)!=null}function bo(){return wt(rl(),"useLocation() may be used only in the context of a <Router> component."),he.useContext(nl).location}var w1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T1(n){he.useContext(Tr).static||he.useLayoutEffect(n)}function Yb(){let{isDataRoute:n}=he.useContext(br);return n?fS():Xb()}function Xb(){wt(rl(),"useNavigate() may be used only in the context of a <Router> component.");let n=he.useContext(Ls),{basename:e,navigator:t}=he.useContext(Tr),{matches:i}=he.useContext(br),{pathname:o}=bo(),a=JSON.stringify(v1(i)),u=he.useRef(!1);return T1(()=>{u.current=!0}),he.useCallback((h,g={})=>{if(_r(u.current,w1),!u.current)return;if(typeof h=="number"){t.go(h);return}let y=y1(h,JSON.parse(a),o,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ur([e,y.pathname])),(g.replace?t.replace:t.push)(y,g.state,g)},[e,t,a,o,n])}var Jb=he.createContext(null);function Zb(n){let e=he.useContext(br).outlet;return e&&he.createElement(Jb.Provider,{value:n},e)}function il(n,{relative:e}={}){let{matches:t}=he.useContext(br),{pathname:i}=bo(),o=JSON.stringify(v1(t));return he.useMemo(()=>y1(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function eS(n,e){return b1(n,e)}function b1(n,e,t,i){var E;wt(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=he.useContext(Tr),{matches:a}=he.useContext(br),u=a[a.length-1],f=u?u.params:{},h=u?u.pathname:"/",g=u?u.pathnameBase:"/",y=u&&u.route;{let T=y&&y.path||"";S1(h,!y||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let v=bo(),p;if(e){let T=typeof e=="string"?Ns(e):e;wt(g==="/"||((E=T.pathname)==null?void 0:E.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${T.pathname}" was given in the \`location\` prop.`),p=T}else p=v;let m=p.pathname||"/",S=m;if(g!=="/"){let T=g.replace(/^\//,"").split("/");S="/"+m.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=p1(n,{pathname:S});_r(y||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),_r(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=oS(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:Ur([g,o.encodeLocation?o.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?g:Ur([g,o.encodeLocation?o.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,t,i);return e&&_?he.createElement(nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},_):_}function tS(){let n=cS(),e=$b(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=he.createElement(he.Fragment,null,he.createElement("p",null," Hey developer "),he.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",he.createElement("code",{style:a},"ErrorBoundary")," or"," ",he.createElement("code",{style:a},"errorElement")," prop on your route.")),he.createElement(he.Fragment,null,he.createElement("h2",null,"Unexpected Application Error!"),he.createElement("h3",{style:{fontStyle:"italic"}},e),t?he.createElement("pre",{style:o},t):null,u)}var nS=he.createElement(tS,null),rS=class extends he.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?he.createElement(br.Provider,{value:this.props.routeContext},he.createElement($p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iS({routeContext:n,match:e,children:t}){let i=he.useContext(Ls);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),he.createElement(br.Provider,{value:n},t)}function oS(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let h=o.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);wt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,f=-1;if(t)for(let h=0;h<o.length;h++){let g=o[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=h),g.route.id){let{loaderData:y,errors:v}=t,p=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||p){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,g,y)=>{let v,p=!1,m=null,S=null;t&&(v=a&&g.route.id?a[g.route.id]:void 0,m=g.route.errorElement||nS,u&&(f<0&&y===0?(S1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,S=null):f===y&&(p=!0,S=g.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,y+1)),_=()=>{let E;return v?E=m:p?E=S:g.route.Component?E=he.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=h,he.createElement(iS,{match:g,routeContext:{outlet:h,matches:w,isDataRoute:t!=null},children:E})};return t&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?he.createElement(rS,{location:t.location,revalidation:t.revalidation,component:m,error:v,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}function Kp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sS(n){let e=he.useContext(Ls);return wt(e,Kp(n)),e}function aS(n){let e=he.useContext(bc);return wt(e,Kp(n)),e}function lS(n){let e=he.useContext(br);return wt(e,Kp(n)),e}function Wp(n){let e=lS(n),t=e.matches[e.matches.length-1];return wt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function uS(){return Wp("useRouteId")}function cS(){var i;let n=he.useContext($p),e=aS("useRouteError"),t=Wp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function fS(){let{router:n}=sS("useNavigate"),e=Wp("useNavigate"),t=he.useRef(!1);return T1(()=>{t.current=!0}),he.useCallback(async(o,a={})=>{_r(t.current,w1),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var oy={};function S1(n,e,t){!e&&!oy[n]&&(oy[n]=!0,_r(!1,t))}he.memo(hS);function hS({routes:n,future:e,state:t}){return b1(n,void 0,t,e)}function dS(n){return Zb(n.context)}function ho(n){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pS({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){wt(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=he.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=Ns(t));let{pathname:h="/",search:g="",hash:y="",state:v=null,key:p="default"}=t,m=he.useMemo(()=>{let S=Ci(h,u);return S==null?null:{location:{pathname:S,search:g,hash:y,state:v,key:p},navigationType:i}},[u,h,g,y,v,p,i]);return _r(m!=null,`<Router basename="${u}"> is not able to match the URL "${h}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:he.createElement(Tr.Provider,{value:f},he.createElement(nl.Provider,{children:e,value:m}))}function mS({children:n,location:e}){return eS(Ep(n),e)}function Ep(n,e=[]){let t=[];return he.Children.forEach(n,(i,o)=>{if(!he.isValidElement(i))return;let a=[...e,o];if(i.type===he.Fragment){t.push.apply(t,Ep(i.props.children,a));return}wt(i.type===ho,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ep(i.props.children,a)),t.push(u)}),t}var qu="get",Uu="application/x-www-form-urlencoded";function Sc(n){return n!=null&&typeof n.tagName=="string"}function gS(n){return Sc(n)&&n.tagName.toLowerCase()==="button"}function vS(n){return Sc(n)&&n.tagName.toLowerCase()==="form"}function yS(n){return Sc(n)&&n.tagName.toLowerCase()==="input"}function _S(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ES(n,e){return n.button===0&&(!e||e==="_self")&&!_S(n)}var Ou=null;function wS(){if(Ou===null)try{new FormData(document.createElement("form"),0),Ou=!1}catch{Ou=!0}return Ou}var TS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kh(n){return n!=null&&!TS.has(n)?(_r(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uu}"`),null):n}function bS(n,e){let t,i,o,a,u;if(vS(n)){let f=n.getAttribute("action");i=f?Ci(f,e):null,t=n.getAttribute("method")||qu,o=kh(n.getAttribute("enctype"))||Uu,a=new FormData(n)}else if(gS(n)||yS(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(i=h?Ci(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||qu,o=kh(n.getAttribute("formenctype"))||kh(f.getAttribute("enctype"))||Uu,a=new FormData(f,n),!wS()){let{name:g,type:y,value:v}=n;if(y==="image"){let p=g?`${g}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else g&&a.append(g,v)}}else{if(Sc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qu,i=null,o=Uu,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:u}}function Gp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function SS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function IS(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await SS(a,t);return u.links?u.links():[]}return[]}));return PS(i.flat(1).filter(AS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function sy(n,e,t,i,o,a){let u=(h,g)=>t[g]?h.route.id!==t[g].route.id:!0,f=(h,g)=>{var y;return t[g].pathname!==h.pathname||((y=t[g].route.path)==null?void 0:y.endsWith("*"))&&t[g].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,g)=>u(h,g)||f(h,g)):a==="data"?e.filter((h,g)=>{var v;let y=i.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,g)||f(h,g))return!0;if(h.route.shouldRevalidate){let p=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function xS(n,e){return kS(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function kS(n){return[...new Set(n)]}function RS(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function PS(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(RS(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function CS(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function OS(){let n=he.useContext(Ls);return Gp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function NS(){let n=he.useContext(bc);return Gp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Qp=he.createContext(void 0);Qp.displayName="FrameworkContext";function A1(){let n=he.useContext(Qp);return Gp(n,"You must render this element inside a <HydratedRouter> element"),n}function LS(n,e){let t=he.useContext(Qp),[i,o]=he.useState(!1),[a,u]=he.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=e,p=he.useRef(null);he.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let w=E=>{E.forEach(T=>{u(T.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return p.current&&_.observe(p.current),()=>{_.disconnect()}}},[n]),he.useEffect(()=>{if(i){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[i]);let m=()=>{o(!0)},S=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,p,{}]:[a,p,{onFocus:Na(f,m),onBlur:Na(h,S),onMouseEnter:Na(g,m),onMouseLeave:Na(y,S),onTouchStart:Na(v,m)}]:[!1,p,{}]}function Na(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function DS({page:n,...e}){let{router:t}=OS(),i=he.useMemo(()=>p1(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?he.createElement(jS,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function MS(n){let{manifest:e,routeModules:t}=A1(),[i,o]=he.useState([]);return he.useEffect(()=>{let a=!1;return IS(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),i}function jS({page:n,matches:e,...t}){let i=bo(),{manifest:o,routeModules:a}=A1(),{loaderData:u,matches:f}=NS(),h=he.useMemo(()=>sy(n,e,f,o,i,"data"),[n,e,f,o,i]),g=he.useMemo(()=>sy(n,e,f,o,i,"assets"),[n,e,f,o,i]),y=he.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let m=new Set,S=!1;if(e.forEach(_=>{var T;let E=o.routes[_.route.id];!E||!E.hasLoader||(!h.some(O=>O.route.id===_.route.id)&&_.route.id in u&&((T=a[_.route.id])!=null&&T.shouldRevalidate)||E.hasClientLoader?S=!0:m.add(_.route.id))}),m.size===0)return[];let w=CS(n);return S&&m.size>0&&w.searchParams.set("_routes",e.filter(_=>m.has(_.route.id)).map(_=>_.route.id).join(",")),[w.pathname+w.search]},[u,i,o,h,e,n,a]),v=he.useMemo(()=>xS(g,o),[g,o]),p=MS(g);return he.createElement(he.Fragment,null,y.map(m=>he.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...t})),v.map(m=>he.createElement("link",{key:m,rel:"modulepreload",href:m,...t})),p.map(({key:m,link:S})=>he.createElement("link",{key:m,...S})))}function VS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var I1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{I1&&(window.__reactRouterVersion="7.0.2")}catch{}function FS({basename:n,children:e,window:t}){let i=he.useRef();i.current==null&&(i.current=bb({window:t,v5Compat:!0}));let o=i.current,[a,u]=he.useState({action:o.action,location:o.location}),f=he.useCallback(h=>{he.startTransition(()=>u(h))},[u]);return he.useLayoutEffect(()=>o.listen(f),[o,f]),he.createElement(pS,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var x1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k1=he.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:f,target:h,to:g,preventScrollReset:y,viewTransition:v,...p},m){let{basename:S}=he.useContext(Tr),w=typeof g=="string"&&x1.test(g),_,E=!1;if(typeof g=="string"&&w&&(_=g,I1))try{let D=new URL(window.location.href),C=g.startsWith("//")?new URL(D.protocol+g):new URL(g),I=Ci(C.pathname,S);C.origin===D.origin&&I!=null?g=I+C.search+C.hash:E=!0}catch{_r(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Qb(g,{relative:o}),[O,A,M]=LS(i,p),F=BS(g,{replace:u,state:f,target:h,preventScrollReset:y,relative:o,viewTransition:v});function P(D){e&&e(D),D.defaultPrevented||F(D)}let x=he.createElement("a",{...p,...M,href:_||T,onClick:E||a?e:P,ref:VS(m,A),target:h,"data-discover":!w&&t==="render"?"true":void 0});return O&&!w?he.createElement(he.Fragment,null,x,he.createElement(DS,{page:T})):x});k1.displayName="Link";var Ai=he.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:f,children:h,...g},y){let v=il(u,{relative:g.relative}),p=bo(),m=he.useContext(bc),{navigator:S,basename:w}=he.useContext(Tr),_=m!=null&&WS(v)&&f===!0,E=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,T=p.pathname,O=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(T=T.toLowerCase(),O=O?O.toLowerCase():null,E=E.toLowerCase()),O&&w&&(O=Ci(O,w)||O);const A=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let M=T===E||!o&&T.startsWith(E)&&T.charAt(A)==="/",F=O!=null&&(O===E||!o&&O.startsWith(E)&&O.charAt(E.length)==="/"),P={isActive:M,isPending:F,isTransitioning:_},x=M?e:void 0,D;typeof i=="function"?D=i(P):D=[i,M?"active":null,F?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let C=typeof a=="function"?a(P):a;return he.createElement(k1,{...g,"aria-current":x,className:D,ref:y,style:C,to:u,viewTransition:f},typeof h=="function"?h(P):h)});Ai.displayName="NavLink";var qS=he.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:u=qu,action:f,onSubmit:h,relative:g,preventScrollReset:y,viewTransition:v,...p},m)=>{let S=$S(),w=KS(f,{relative:g}),_=u.toLowerCase()==="get"?"get":"post",E=typeof f=="string"&&x1.test(f),T=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let A=O.nativeEvent.submitter,M=(A==null?void 0:A.getAttribute("formmethod"))||u;S(A||O.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:o,state:a,relative:g,preventScrollReset:y,viewTransition:v})};return he.createElement("form",{ref:m,method:_,action:w,onSubmit:i?h:T,...p,"data-discover":!E&&n==="render"?"true":void 0})});qS.displayName="Form";function US(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R1(n){let e=he.useContext(Ls);return wt(e,US(n)),e}function BS(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let f=Yb(),h=bo(),g=il(n,{relative:a});return he.useCallback(y=>{if(ES(y,e)){y.preventDefault();let v=t!==void 0?t:Ka(h)===Ka(g);f(n,{replace:v,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[h,f,g,t,i,e,n,o,a,u])}var zS=0,HS=()=>`__${String(++zS)}__`;function $S(){let{router:n}=R1("useSubmit"),{basename:e}=he.useContext(Tr),t=uS();return he.useCallback(async(i,o={})=>{let{action:a,method:u,encType:f,formData:h,body:g}=bS(i,e);if(o.navigate===!1){let y=o.fetcherKey||HS();await n.fetch(y,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:g,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:g,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function KS(n,{relative:e}={}){let{basename:t}=he.useContext(Tr),i=he.useContext(br);wt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...il(n||".",{relative:e})},u=bo();if(n==null){a.search=u.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(y=>y==="")){f.delete("index"),h.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Ur([t,a.pathname])),Ka(a)}function WS(n,e={}){let t=he.useContext(E1);wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=R1("useViewTransitionState"),o=il(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Ci(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Ci(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Zu(o.pathname,u)!=null||Zu(o.pathname,a)!=null}new TextEncoder;var P1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ay=go.createContext&&go.createContext(P1),GS=["attr","size","title"];function QS(n,e){if(n==null)return{};var t=YS(n,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function YS(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function ec(){return ec=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ec.apply(this,arguments)}function ly(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function tc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ly(Object(t),!0).forEach(function(i){XS(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ly(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function XS(n,e,t){return e=JS(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JS(n){var e=ZS(n,"string");return typeof e=="symbol"?e:e+""}function ZS(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function C1(n){return n&&n.map((e,t)=>go.createElement(e.tag,tc({key:t},e.attr),C1(e.child)))}function yn(n){return e=>go.createElement(eA,ec({attr:tc({},n.attr)},e),C1(n.child))}function eA(n){var e=t=>{var{attr:i,size:o,title:a}=n,u=QS(n,GS),f=o||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),go.createElement("svg",ec({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:h,style:tc(tc({color:n.color||t.color},t.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),a&&go.createElement("title",null,a),n.children)};return ay!==void 0?go.createElement(ay.Consumer,null,t=>e(t)):e(P1)}function O1(n){return yn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m441 336.2-.06-.05c-9.93-9.18-22.78-11.34-32.16-12.92l-.69-.12c-9.05-1.49-10.48-2.5-14.58-6.17-2.44-2.17-5.35-5.65-5.35-9.94s2.91-7.77 5.34-9.94l30.28-26.87c25.92-22.91 40.2-53.66 40.2-86.59s-14.25-63.68-40.2-86.6c-35.89-31.59-85-49-138.37-49C223.72 48 162 71.37 116 112.11c-43.87 38.77-68 90.71-68 146.24s24.16 107.47 68 146.23c21.75 19.24 47.49 34.18 76.52 44.42a266.17 266.17 0 0 0 86.87 15h1.81c61 0 119.09-20.57 159.39-56.4 9.7-8.56 15.15-20.83 15.34-34.56.21-14.17-5.37-27.95-14.93-36.84zM112 208a32 32 0 1 1 32 32 32 32 0 0 1-32-32zm40 135a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm40-199a32 32 0 1 1 32 32 32 32 0 0 1-32-32zm64 271a48 48 0 1 1 48-48 48 48 0 0 1-48 48zm72-239a32 32 0 1 1 32-32 32 32 0 0 1-32 32z"},child:[]}]})(n)}function nc(n){return yn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 428 339.92 303.9a160.48 160.48 0 0 0 30.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0 0 94.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 1 1 110.37-110.37 110.5 110.5 0 0 1-110.37 110.37z"},child:[]}]})(n)}function N1(n){return yn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.6734 7.22198C10.7974 7.22198 9.44138 6.22598 8.01338 6.26198C6.12938 6.28598 4.40138 7.35397 3.42938 9.04597C1.47338 12.442 2.92538 17.458 4.83338 20.218C5.76938 21.562 6.87338 23.074 8.33738 23.026C9.74138 22.966 10.2694 22.114 11.9734 22.114C13.6654 22.114 14.1454 23.026 15.6334 22.99C17.1454 22.966 18.1054 21.622 19.0294 20.266C20.0974 18.706 20.5414 17.194 20.5654 17.11C20.5294 17.098 17.6254 15.982 17.5894 12.622C17.5654 9.81397 19.8814 8.46998 19.9894 8.40998C18.6694 6.47798 16.6414 6.26198 15.9334 6.21398C14.0854 6.06998 12.5374 7.22198 11.6734 7.22198ZM14.7934 4.38998C15.5734 3.45398 16.0894 2.14598 15.9454 0.849976C14.8294 0.897976 13.4854 1.59398 12.6814 2.52998C11.9614 3.35798 11.3374 4.68998 11.5054 5.96198C12.7414 6.05798 14.0134 5.32598 14.7934 4.38998Z"},child:[]}]})(n)}function wp(n){return yn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.23379 7.72989C6.65303 5.48625 9.15342 4 12.0002 4C14.847 4 17.3474 5.48625 18.7667 7.72989L20.4569 6.66071C18.6865 3.86199 15.5612 2 12.0002 2C8.43928 2 5.31393 3.86199 3.54356 6.66071L5.23379 7.72989ZM12.0002 20C9.15342 20 6.65303 18.5138 5.23379 16.2701L3.54356 17.3393C5.31393 20.138 8.43928 22 12.0002 22C15.5612 22 18.6865 20.138 20.4569 17.3393L18.7667 16.2701C17.3474 18.5138 14.847 20 12.0002 20ZM12 12C13.6569 12 15 10.6569 15 9C15 7.34315 13.6569 6 12 6C10.3431 6 9 7.34315 9 9C9 10.6569 10.3431 12 12 12ZM12 13C14.2091 13 16 14.7909 16 17H8C8 14.7909 9.79086 13 12 13ZM6 12C6 13.6569 4.65685 15 3 15C1.34315 15 0 13.6569 0 12C0 10.3431 1.34315 9 3 9C4.65685 9 6 10.3431 6 12ZM21 15C22.6569 15 24 13.6569 24 12C24 10.3431 22.6569 9 21 9C19.3431 9 18 10.3431 18 12C18 13.6569 19.3431 15 21 15Z"},child:[]}]})(n)}function L1(n){return yn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z"},child:[]}]})(n)}function tA(n){return yn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(n)}function D1(n){return yn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"},child:[]}]})(n)}function nA(n){function e(){n.updateColorSchema()}function t(){console.log("logout successful"),n.updateSession(),n.updateIsLoggedIn()}return W.jsx(W.Fragment,{children:W.jsx("div",{className:`h-screen w-2/12 p-1 py-5 border-r-[0.01rem] flex flex-col justify-between gap-16 items-center  ${n.active?"blur-sm":"blur-none"} hidden sm:flex`,children:W.jsxs("div",{children:[W.jsx("h1",{className:`h-fit w-fit p-1 font-extrabold lg:text-4xl ${n.div_text}`,children:" BLOG-APP "}),W.jsxs("div",{className:"flex flex-col gap-4 mt-10",children:[W.jsxs(Ai,{to:"/explore/trending",children:[" ",W.jsxs("p",{className:"flex gap-1 items-center cursor-pointer hover:underline",children:[" ",W.jsx(L1,{})," Explore "]})," "]}),W.jsxs(Ai,{to:"/community",children:[" ",W.jsxs("p",{className:"flex gap-1 items-center cursor-pointer hover:underline",children:[" ",W.jsx(wp,{})," Community "]})," "]}),W.jsxs("button",{className:"cursor-pointer flex gap-1 items-center hover:underline",onClick:e,children:[W.jsx(O1,{}),n.text=="Change Pallete"?n.text:`${n.text} (${n.count+1}/12)`]}),W.jsxs("p",{className:`flex gap-1 items-center cursor-pointer hover:underline ${n.isLoggedIn?"block":"hidden"}`,onClick:t,children:[" ",W.jsx(wp,{})," Logout "]})]})]})})})}function rA(n){function e(){n.updateColorSchema()}return W.jsx(W.Fragment,{children:W.jsxs("div",{className:`h-[90%] w-11/12 absolute bottom-0 z-50 flex flex-col justify-between items-start ${n.color} shadow-xl shadow-black py-4 px-2 animate-fade-right `,children:[W.jsxs("div",{className:"flex flex-col text-lg items-start gap-4",children:[W.jsxs(Ai,{to:"/explore/trending",children:[" ",W.jsxs("p",{className:"flex gap-1 items-center cursor-pointer hover:underline",children:[" ",W.jsx(L1,{})," Explore "]})," "]}),W.jsxs(Ai,{to:"/community",children:[" ",W.jsxs("p",{className:"flex gap-1 items-center cursor-pointer hover:underline",children:[" ",W.jsx(wp,{})," Community "]})," "]}),W.jsxs("p",{className:"cursor-pointer flex gap-1 items-center hover:underline",onClick:e,children:[W.jsx(O1,{}),n.text=="Change Pallete"?n.text:`${n.text} (${n.count+1}/12)`]})]}),W.jsxs("div",{className:"w-full flex justify-around items-center text-[0.8rem]",children:[W.jsx("p",{children:" About "}),W.jsx("p",{children:" Apps "}),W.jsx("p",{children:" Legal "}),W.jsx("p",{children:" Privacy "}),W.jsx("p",{children:" Help "})]})]})})}function iA(n){return W.jsx(W.Fragment,{children:W.jsxs("div",{className:`h-[90%] w-11/12 absolute bottom-0 right-0 z-50 flex flex-col gap-4 ${n.color} shadow-xl shadow-black py-4 px-2 animate-fade-left `,children:[W.jsxs("div",{className:"border-[0.01rem] rounded-xl w-full p-2 flex gap-2 items-center",children:[W.jsx(nc,{className:"text-xl"}),W.jsx("input",{placeholder:"Search Blogs...",className:"outline-none w-full bg-transparent p-1"})]}),W.jsx("p",{className:"font-mono p-1 rounded-xl bg-green-600",children:" Trending "}),W.jsxs("div",{className:"flex flex-col gap-2",children:[W.jsx("p",{children:" Cats "}),W.jsx("p",{children:" Dogs "}),W.jsx("p",{children:" Lion "})]})]})})}function M1(n){return yn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M401.4 224h-214l83-79.4c11.9-12.5 11.9-32.7 0-45.2s-31.2-12.5-43.2 0L89 233.4c-6 5.8-9 13.7-9 22.4v.4c0 8.7 3 16.6 9 22.4l138.1 134c12 12.5 31.3 12.5 43.2 0 11.9-12.5 11.9-32.7 0-45.2l-83-79.4h214c16.9 0 30.6-14.3 30.6-32 .1-18-13.6-32-30.5-32z"},child:[]}]})(n)}function yo(n){return yn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(n)}function uy(n){function e(){if(n.session==!1){alert("Do login to continue");return}}return W.jsx(W.Fragment,{children:W.jsxs("div",{className:"flex flex-col gap-2",children:[W.jsxs("div",{className:"flex justify-between items-center px-4 py-4 border-b-[0.01rem]",children:[n.menu?W.jsx(D1,{className:"text-4xl sm:hidden hover:bg-green-400 p-2",onClick:n.menuclickhandler}):W.jsx(yo,{className:"text-4xl sm:hidden hover:bg-green-400 p-2",onClick:n.menuclickhandler}),W.jsx("h1",{className:`h-fit w-fit text-xl p-1 font-extrabold lg:text-4xl ${n.div_text} sm:hidden`,children:" BLOG-APP "}),W.jsx("p",{className:"font-bold text-lg hidden sm:block",children:"Browse Communities"}),W.jsxs("div",{className:"gap-4 text-sm hidden sm:flex",children:[W.jsx("button",{className:`outline-none border-none rounded-xlpx-1 font-bold ${n.div_bg} text-white rounded-xl px-2 py-1`,children:" Create a community "}),W.jsxs("div",{className:`flex p-2 rounded-xl gap-4 items-center border-[0.01rem]  ${n.div_bg} text-white`,children:[W.jsx("p",{className:"p-2 rounded-xl cursor-pointer text-xl",children:W.jsx(nc,{})}),W.jsx("input",{placeholder:"Search Communities...",className:"rounded-xl text-white min-w-60 p-1 outline-none bg-transparent "})]})]}),n.close==!1?W.jsx(nc,{className:"text-4xl sm:hidden hover:bg-green-400 p-2",onClick:n.searchclickhandler}):W.jsx(yo,{className:"text-4xl sm:hidden hover:bg-green-400 p-2",onClick:n.searchclickhandler})]}),W.jsxs("div",{className:"min-h-screen w-full p-2 flex flex-wrap justify-center gap-4",children:[W.jsxs("div",{className:"min-h-96 w-full sm:h-[30rem] sm:w-[33rem]   rounded-xl flex flex-wrap justify-center items-center gap-2 ",children:[W.jsxs("div",{className:"min-h-60 w-full sm:h-[49%] sm:w-[49%] rounded-xl shadow-xl shadow-zinc-800 flex flex-col justify-between items-center",children:[W.jsx("img",{src:"aesthetic.avif",className:"cursor-pointer h-full rounded-t-xl",onClick:e}),W.jsx("p",{className:"px-2 font-mono",children:"Aesthetics"})]}),W.jsxs("div",{className:"min-h-60 w-full sm:h-[49%] sm:w-[49%] rounded-xl shadow-xl shadow-zinc-800 flex flex-col justify-between items-center",children:[W.jsx("img",{src:"anime.gif",className:"cursor-pointer h-full rounded-t-xl"}),W.jsx("p",{className:"px-2 font-mono",children:"Anime"})]}),W.jsxs("div",{className:"min-h-60 w-full sm:h-[49%] sm:w-[49%] rounded-xl shadow-xl shadow-zinc-800 flex flex-col justify-between items-center",children:[W.jsx("img",{src:"books.jpg",className:"cursor-pointer h-full rounded-t-xl"}),W.jsx("p",{className:"px-2 font-mono",children:"Books and Literature"})]}),W.jsxs("div",{className:"min-h-60 w-full sm:h-[49%] sm:w-[49%] rounded-xl shadow-xl shadow-zinc-800 flex flex-col justify-between items-center",children:[W.jsx("img",{src:"communityspotlight.jpg",className:"cursor-pointer h-full rounded-t-xl"}),W.jsx("p",{className:"px-2 font-mono",children:"Community spotlight"})]})]}),W.jsxs("div",{className:"min-h-60 w-full sm:h-[30rem] sm:w-[33rem] shadow-xl shadow-zinc-800 rounded-xl flex flex-col justify-between items-center",children:[W.jsx("img",{src:"art.webp",className:"cursor-pointer h-full rounded-t-xl"}),W.jsx("p",{className:"px-2 font-mono",children:"Art"})]}),W.jsxs("div",{className:"min-h-60 w-full sm:h-[30rem] sm:w-[33rem] shadow-xl shadow-zinc-800 rounded-xl flex flex-col justify-between items-center",children:[W.jsx("img",{src:"culture.jpg",className:"cursor-pointer h-full rounded-t-xl"}),W.jsx("p",{className:"px-2 font-mono",children:"Culture"})]}),W.jsxs("div",{className:"min-h-96 w-full sm:h-[30rem] sm:w-[33rem]   rounded-xl flex flex-wrap justify-center items-center gap-2 ",children:[W.jsxs("div",{className:"min-h-60 w-full sm:h-[49%] sm:w-[49%] shadow-xl shadow-zinc-800  rounded-xl flex flex-col justify-between items-center",children:[W.jsx("img",{src:"movies.gif",className:"cursor-pointer h-full rounded-t-xl"}),W.jsx("p",{className:"px-2 font-mono",children:"Movies"})]}),W.jsxs("div",{className:"min-h-60 w-full sm:h-[49%] sm:w-[49%] shadow-xl shadow-zinc-800  rounded-xl flex flex-col justify-between items-center",children:[W.jsx("img",{src:"funny.gif",className:"cursor-pointer h-full rounded-t-xl"}),W.jsx("p",{className:"px-2 font-mono",children:"Funny"})]}),W.jsxs("div",{className:"min-h-60 w-full sm:h-[49%] sm:w-[49%] shadow-xl shadow-zinc-800  rounded-xl flex flex-col justify-between items-center",children:[W.jsx("img",{src:"gaming.jpg",className:"cursor-pointer h-full rounded-t-xl"}),W.jsx("p",{className:"px-2 font-mono",children:"Gaming"})]}),W.jsxs("div",{className:"min-h-60 w-full sm:h-[49%] sm:w-[49%] shadow-xl shadow-zinc-800  rounded-xl flex flex-col justify-between items-center",children:[W.jsx("img",{src:"sports.jpg",className:"cursor-pointer h-full rounded-t-xl"}),W.jsx("p",{className:"px-2 font-mono",children:"Sports"})]})]}),W.jsxs("div",{className:"min-h-60 p-2 w-full rounded-xl flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[W.jsxs("div",{className:"min-h-60 w-full shadow-xl shadow-zinc-800 sm:h-[49%] sm:w-[49%] rounded-x flex flex-col justify-between items-center",children:[W.jsx("img",{src:"musicandband.gif",className:"cursor-pointer h-full rounded-t-xl"}),W.jsx("p",{className:"px-2 font-mono",children:"Music and Brands"})]}),W.jsxs("div",{className:"min-h-60 w-full shadow-xl shadow-zinc-800 sm:h-[49%] sm:w-[49%] rounded-x flex flex-col justify-between items-center",children:[W.jsx("img",{src:"science.gif",className:"cursor-pointer h-full rounded-t-xl"}),W.jsx("p",{className:"px-2 font-mono",children:"Science"})]}),W.jsxs("div",{className:"min-h-60 w-full shadow-xl shadow-zinc-800 sm:h-[49%] sm:w-[49%] rounded-x flex flex-col justify-between items-center",children:[W.jsx("img",{src:"tvshows.jpg",className:"cursor-pointer h-full rounded-t-xl"}),W.jsx("p",{className:"px-2 font-mono",children:"Tv Shows"})]}),W.jsxs("div",{className:"min-h-60 w-full shadow-xl shadow-zinc-800 sm:h-[49%] sm:w-[49%] rounded-x flex flex-col justify-between items-center",children:[W.jsx("img",{src:"writing.jpg",className:"cursor-pointer h-full rounded-t-xl"}),W.jsx("p",{className:"px-2 font-mono",children:"Writing"})]})]})]})]})})}var Rh,cy;function oA(){if(cy)return Rh;cy=1;function n(){this.__data__=[],this.size=0}return Rh=n,Rh}var Ph,fy;function j1(){if(fy)return Ph;fy=1;function n(e,t){return e===t||e!==e&&t!==t}return Ph=n,Ph}var Ch,hy;function Ac(){if(hy)return Ch;hy=1;var n=j1();function e(t,i){for(var o=t.length;o--;)if(n(t[o][0],i))return o;return-1}return Ch=e,Ch}var Oh,dy;function sA(){if(dy)return Oh;dy=1;var n=Ac(),e=Array.prototype,t=e.splice;function i(o){var a=this.__data__,u=n(a,o);if(u<0)return!1;var f=a.length-1;return u==f?a.pop():t.call(a,u,1),--this.size,!0}return Oh=i,Oh}var Nh,py;function aA(){if(py)return Nh;py=1;var n=Ac();function e(t){var i=this.__data__,o=n(i,t);return o<0?void 0:i[o][1]}return Nh=e,Nh}var Lh,my;function lA(){if(my)return Lh;my=1;var n=Ac();function e(t){return n(this.__data__,t)>-1}return Lh=e,Lh}var Dh,gy;function uA(){if(gy)return Dh;gy=1;var n=Ac();function e(t,i){var o=this.__data__,a=n(o,t);return a<0?(++this.size,o.push([t,i])):o[a][1]=i,this}return Dh=e,Dh}var Mh,vy;function Ic(){if(vy)return Mh;vy=1;var n=oA(),e=sA(),t=aA(),i=lA(),o=uA();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var g=u[f];this.set(g[0],g[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=i,a.prototype.set=o,Mh=a,Mh}var jh,yy;function cA(){if(yy)return jh;yy=1;var n=Ic();function e(){this.__data__=new n,this.size=0}return jh=e,jh}var Vh,_y;function fA(){if(_y)return Vh;_y=1;function n(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}return Vh=n,Vh}var Fh,Ey;function hA(){if(Ey)return Fh;Ey=1;function n(e){return this.__data__.get(e)}return Fh=n,Fh}var qh,wy;function dA(){if(wy)return qh;wy=1;function n(e){return this.__data__.has(e)}return qh=n,qh}var Uh,Ty;function V1(){if(Ty)return Uh;Ty=1;var n=typeof Pu=="object"&&Pu&&Pu.Object===Object&&Pu;return Uh=n,Uh}var Bh,by;function Gr(){if(by)return Bh;by=1;var n=V1(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return Bh=t,Bh}var zh,Sy;function Yp(){if(Sy)return zh;Sy=1;var n=Gr(),e=n.Symbol;return zh=e,zh}var Hh,Ay;function pA(){if(Ay)return Hh;Ay=1;var n=Yp(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,o=n?n.toStringTag:void 0;function a(u){var f=t.call(u,o),h=u[o];try{u[o]=void 0;var g=!0}catch{}var y=i.call(u);return g&&(f?u[o]=h:delete u[o]),y}return Hh=a,Hh}var $h,Iy;function mA(){if(Iy)return $h;Iy=1;var n=Object.prototype,e=n.toString;function t(i){return e.call(i)}return $h=t,$h}var Kh,xy;function xc(){if(xy)return Kh;xy=1;var n=Yp(),e=pA(),t=mA(),i="[object Null]",o="[object Undefined]",a=n?n.toStringTag:void 0;function u(f){return f==null?f===void 0?o:i:a&&a in Object(f)?e(f):t(f)}return Kh=u,Kh}var Wh,ky;function F1(){if(ky)return Wh;ky=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Wh=n,Wh}var Gh,Ry;function q1(){if(Ry)return Gh;Ry=1;var n=xc(),e=F1(),t="[object AsyncFunction]",i="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";function u(f){if(!e(f))return!1;var h=n(f);return h==i||h==o||h==t||h==a}return Gh=u,Gh}var Qh,Py;function gA(){if(Py)return Qh;Py=1;var n=Gr(),e=n["__core-js_shared__"];return Qh=e,Qh}var Yh,Cy;function vA(){if(Cy)return Yh;Cy=1;var n=gA(),e=function(){var i=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function t(i){return!!e&&e in i}return Yh=t,Yh}var Xh,Oy;function U1(){if(Oy)return Xh;Oy=1;var n=Function.prototype,e=n.toString;function t(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return Xh=t,Xh}var Jh,Ny;function yA(){if(Ny)return Jh;Ny=1;var n=q1(),e=vA(),t=F1(),i=U1(),o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,f=Object.prototype,h=u.toString,g=f.hasOwnProperty,y=RegExp("^"+h.call(g).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(p){if(!t(p)||e(p))return!1;var m=n(p)?y:a;return m.test(i(p))}return Jh=v,Jh}var Zh,Ly;function _A(){if(Ly)return Zh;Ly=1;function n(e,t){return e==null?void 0:e[t]}return Zh=n,Zh}var ed,Dy;function Ds(){if(Dy)return ed;Dy=1;var n=yA(),e=_A();function t(i,o){var a=e(i,o);return n(a)?a:void 0}return ed=t,ed}var td,My;function Xp(){if(My)return td;My=1;var n=Ds(),e=Gr(),t=n(e,"Map");return td=t,td}var nd,jy;function kc(){if(jy)return nd;jy=1;var n=Ds(),e=n(Object,"create");return nd=e,nd}var rd,Vy;function EA(){if(Vy)return rd;Vy=1;var n=kc();function e(){this.__data__=n?n(null):{},this.size=0}return rd=e,rd}var id,Fy;function wA(){if(Fy)return id;Fy=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return id=n,id}var od,qy;function TA(){if(qy)return od;qy=1;var n=kc(),e="__lodash_hash_undefined__",t=Object.prototype,i=t.hasOwnProperty;function o(a){var u=this.__data__;if(n){var f=u[a];return f===e?void 0:f}return i.call(u,a)?u[a]:void 0}return od=o,od}var sd,Uy;function bA(){if(Uy)return sd;Uy=1;var n=kc(),e=Object.prototype,t=e.hasOwnProperty;function i(o){var a=this.__data__;return n?a[o]!==void 0:t.call(a,o)}return sd=i,sd}var ad,By;function SA(){if(By)return ad;By=1;var n=kc(),e="__lodash_hash_undefined__";function t(i,o){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=n&&o===void 0?e:o,this}return ad=t,ad}var ld,zy;function AA(){if(zy)return ld;zy=1;var n=EA(),e=wA(),t=TA(),i=bA(),o=SA();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var g=u[f];this.set(g[0],g[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=i,a.prototype.set=o,ld=a,ld}var ud,Hy;function IA(){if(Hy)return ud;Hy=1;var n=AA(),e=Ic(),t=Xp();function i(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return ud=i,ud}var cd,$y;function xA(){if($y)return cd;$y=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return cd=n,cd}var fd,Ky;function Rc(){if(Ky)return fd;Ky=1;var n=xA();function e(t,i){var o=t.__data__;return n(i)?o[typeof i=="string"?"string":"hash"]:o.map}return fd=e,fd}var hd,Wy;function kA(){if(Wy)return hd;Wy=1;var n=Rc();function e(t){var i=n(this,t).delete(t);return this.size-=i?1:0,i}return hd=e,hd}var dd,Gy;function RA(){if(Gy)return dd;Gy=1;var n=Rc();function e(t){return n(this,t).get(t)}return dd=e,dd}var pd,Qy;function PA(){if(Qy)return pd;Qy=1;var n=Rc();function e(t){return n(this,t).has(t)}return pd=e,pd}var md,Yy;function CA(){if(Yy)return md;Yy=1;var n=Rc();function e(t,i){var o=n(this,t),a=o.size;return o.set(t,i),this.size+=o.size==a?0:1,this}return md=e,md}var gd,Xy;function B1(){if(Xy)return gd;Xy=1;var n=IA(),e=kA(),t=RA(),i=PA(),o=CA();function a(u){var f=-1,h=u==null?0:u.length;for(this.clear();++f<h;){var g=u[f];this.set(g[0],g[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=i,a.prototype.set=o,gd=a,gd}var vd,Jy;function OA(){if(Jy)return vd;Jy=1;var n=Ic(),e=Xp(),t=B1(),i=200;function o(a,u){var f=this.__data__;if(f instanceof n){var h=f.__data__;if(!e||h.length<i-1)return h.push([a,u]),this.size=++f.size,this;f=this.__data__=new t(h)}return f.set(a,u),this.size=f.size,this}return vd=o,vd}var yd,Zy;function NA(){if(Zy)return yd;Zy=1;var n=Ic(),e=cA(),t=fA(),i=hA(),o=dA(),a=OA();function u(f){var h=this.__data__=new n(f);this.size=h.size}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=i,u.prototype.has=o,u.prototype.set=a,yd=u,yd}var _d,e_;function LA(){if(e_)return _d;e_=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return _d=e,_d}var Ed,t_;function DA(){if(t_)return Ed;t_=1;function n(e){return this.__data__.has(e)}return Ed=n,Ed}var wd,n_;function MA(){if(n_)return wd;n_=1;var n=B1(),e=LA(),t=DA();function i(o){var a=-1,u=o==null?0:o.length;for(this.__data__=new n;++a<u;)this.add(o[a])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,wd=i,wd}var Td,r_;function jA(){if(r_)return Td;r_=1;function n(e,t){for(var i=-1,o=e==null?0:e.length;++i<o;)if(t(e[i],i,e))return!0;return!1}return Td=n,Td}var bd,i_;function VA(){if(i_)return bd;i_=1;function n(e,t){return e.has(t)}return bd=n,bd}var Sd,o_;function z1(){if(o_)return Sd;o_=1;var n=MA(),e=jA(),t=VA(),i=1,o=2;function a(u,f,h,g,y,v){var p=h&i,m=u.length,S=f.length;if(m!=S&&!(p&&S>m))return!1;var w=v.get(u),_=v.get(f);if(w&&_)return w==f&&_==u;var E=-1,T=!0,O=h&o?new n:void 0;for(v.set(u,f),v.set(f,u);++E<m;){var A=u[E],M=f[E];if(g)var F=p?g(M,A,E,f,u,v):g(A,M,E,u,f,v);if(F!==void 0){if(F)continue;T=!1;break}if(O){if(!e(f,function(P,x){if(!t(O,x)&&(A===P||y(A,P,h,g,v)))return O.push(x)})){T=!1;break}}else if(!(A===M||y(A,M,h,g,v))){T=!1;break}}return v.delete(u),v.delete(f),T}return Sd=a,Sd}var Ad,s_;function FA(){if(s_)return Ad;s_=1;var n=Gr(),e=n.Uint8Array;return Ad=e,Ad}var Id,a_;function qA(){if(a_)return Id;a_=1;function n(e){var t=-1,i=Array(e.size);return e.forEach(function(o,a){i[++t]=[a,o]}),i}return Id=n,Id}var xd,l_;function UA(){if(l_)return xd;l_=1;function n(e){var t=-1,i=Array(e.size);return e.forEach(function(o){i[++t]=o}),i}return xd=n,xd}var kd,u_;function BA(){if(u_)return kd;u_=1;var n=Yp(),e=FA(),t=j1(),i=z1(),o=qA(),a=UA(),u=1,f=2,h="[object Boolean]",g="[object Date]",y="[object Error]",v="[object Map]",p="[object Number]",m="[object RegExp]",S="[object Set]",w="[object String]",_="[object Symbol]",E="[object ArrayBuffer]",T="[object DataView]",O=n?n.prototype:void 0,A=O?O.valueOf:void 0;function M(F,P,x,D,C,I,L){switch(x){case T:if(F.byteLength!=P.byteLength||F.byteOffset!=P.byteOffset)return!1;F=F.buffer,P=P.buffer;case E:return!(F.byteLength!=P.byteLength||!I(new e(F),new e(P)));case h:case g:case p:return t(+F,+P);case y:return F.name==P.name&&F.message==P.message;case m:case w:return F==P+"";case v:var N=o;case S:var H=D&u;if(N||(N=a),F.size!=P.size&&!H)return!1;var G=L.get(F);if(G)return G==P;D|=f,L.set(F,P);var re=i(N(F),N(P),D,C,I,L);return L.delete(F),re;case _:if(A)return A.call(F)==A.call(P)}return!1}return kd=M,kd}var Rd,c_;function zA(){if(c_)return Rd;c_=1;function n(e,t){for(var i=-1,o=t.length,a=e.length;++i<o;)e[a+i]=t[i];return e}return Rd=n,Rd}var Pd,f_;function Jp(){if(f_)return Pd;f_=1;var n=Array.isArray;return Pd=n,Pd}var Cd,h_;function HA(){if(h_)return Cd;h_=1;var n=zA(),e=Jp();function t(i,o,a){var u=o(i);return e(i)?u:n(u,a(i))}return Cd=t,Cd}var Od,d_;function $A(){if(d_)return Od;d_=1;function n(e,t){for(var i=-1,o=e==null?0:e.length,a=0,u=[];++i<o;){var f=e[i];t(f,i,e)&&(u[a++]=f)}return u}return Od=n,Od}var Nd,p_;function KA(){if(p_)return Nd;p_=1;function n(){return[]}return Nd=n,Nd}var Ld,m_;function WA(){if(m_)return Ld;m_=1;var n=$A(),e=KA(),t=Object.prototype,i=t.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(u){return u==null?[]:(u=Object(u),n(o(u),function(f){return i.call(u,f)}))}:e;return Ld=a,Ld}var Dd,g_;function GA(){if(g_)return Dd;g_=1;function n(e,t){for(var i=-1,o=Array(e);++i<e;)o[i]=t(i);return o}return Dd=n,Dd}var Md,v_;function Pc(){if(v_)return Md;v_=1;function n(e){return e!=null&&typeof e=="object"}return Md=n,Md}var jd,y_;function QA(){if(y_)return jd;y_=1;var n=xc(),e=Pc(),t="[object Arguments]";function i(o){return e(o)&&n(o)==t}return jd=i,jd}var Vd,__;function YA(){if(__)return Vd;__=1;var n=QA(),e=Pc(),t=Object.prototype,i=t.hasOwnProperty,o=t.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(u){return e(u)&&i.call(u,"callee")&&!o.call(u,"callee")};return Vd=a,Vd}var La={exports:{}},Fd,E_;function XA(){if(E_)return Fd;E_=1;function n(){return!1}return Fd=n,Fd}La.exports;var w_;function H1(){return w_||(w_=1,function(n,e){var t=Gr(),i=XA(),o=e&&!e.nodeType&&e,a=o&&!0&&n&&!n.nodeType&&n,u=a&&a.exports===o,f=u?t.Buffer:void 0,h=f?f.isBuffer:void 0,g=h||i;n.exports=g}(La,La.exports)),La.exports}var qd,T_;function JA(){if(T_)return qd;T_=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(i,o){var a=typeof i;return o=o??n,!!o&&(a=="number"||a!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<o}return qd=t,qd}var Ud,b_;function $1(){if(b_)return Ud;b_=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return Ud=e,Ud}var Bd,S_;function ZA(){if(S_)return Bd;S_=1;var n=xc(),e=$1(),t=Pc(),i="[object Arguments]",o="[object Array]",a="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Function]",g="[object Map]",y="[object Number]",v="[object Object]",p="[object RegExp]",m="[object Set]",S="[object String]",w="[object WeakMap]",_="[object ArrayBuffer]",E="[object DataView]",T="[object Float32Array]",O="[object Float64Array]",A="[object Int8Array]",M="[object Int16Array]",F="[object Int32Array]",P="[object Uint8Array]",x="[object Uint8ClampedArray]",D="[object Uint16Array]",C="[object Uint32Array]",I={};I[T]=I[O]=I[A]=I[M]=I[F]=I[P]=I[x]=I[D]=I[C]=!0,I[i]=I[o]=I[_]=I[a]=I[E]=I[u]=I[f]=I[h]=I[g]=I[y]=I[v]=I[p]=I[m]=I[S]=I[w]=!1;function L(N){return t(N)&&e(N.length)&&!!I[n(N)]}return Bd=L,Bd}var zd,A_;function eI(){if(A_)return zd;A_=1;function n(e){return function(t){return e(t)}}return zd=n,zd}var Da={exports:{}};Da.exports;var I_;function tI(){return I_||(I_=1,function(n,e){var t=V1(),i=e&&!e.nodeType&&e,o=i&&!0&&n&&!n.nodeType&&n,a=o&&o.exports===i,u=a&&t.process,f=function(){try{var h=o&&o.require&&o.require("util").types;return h||u&&u.binding&&u.binding("util")}catch{}}();n.exports=f}(Da,Da.exports)),Da.exports}var Hd,x_;function K1(){if(x_)return Hd;x_=1;var n=ZA(),e=eI(),t=tI(),i=t&&t.isTypedArray,o=i?e(i):n;return Hd=o,Hd}var $d,k_;function nI(){if(k_)return $d;k_=1;var n=GA(),e=YA(),t=Jp(),i=H1(),o=JA(),a=K1(),u=Object.prototype,f=u.hasOwnProperty;function h(g,y){var v=t(g),p=!v&&e(g),m=!v&&!p&&i(g),S=!v&&!p&&!m&&a(g),w=v||p||m||S,_=w?n(g.length,String):[],E=_.length;for(var T in g)(y||f.call(g,T))&&!(w&&(T=="length"||m&&(T=="offset"||T=="parent")||S&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||o(T,E)))&&_.push(T);return _}return $d=h,$d}var Kd,R_;function rI(){if(R_)return Kd;R_=1;var n=Object.prototype;function e(t){var i=t&&t.constructor,o=typeof i=="function"&&i.prototype||n;return t===o}return Kd=e,Kd}var Wd,P_;function iI(){if(P_)return Wd;P_=1;function n(e,t){return function(i){return e(t(i))}}return Wd=n,Wd}var Gd,C_;function oI(){if(C_)return Gd;C_=1;var n=iI(),e=n(Object.keys,Object);return Gd=e,Gd}var Qd,O_;function sI(){if(O_)return Qd;O_=1;var n=rI(),e=oI(),t=Object.prototype,i=t.hasOwnProperty;function o(a){if(!n(a))return e(a);var u=[];for(var f in Object(a))i.call(a,f)&&f!="constructor"&&u.push(f);return u}return Qd=o,Qd}var Yd,N_;function aI(){if(N_)return Yd;N_=1;var n=q1(),e=$1();function t(i){return i!=null&&e(i.length)&&!n(i)}return Yd=t,Yd}var Xd,L_;function lI(){if(L_)return Xd;L_=1;var n=nI(),e=sI(),t=aI();function i(o){return t(o)?n(o):e(o)}return Xd=i,Xd}var Jd,D_;function uI(){if(D_)return Jd;D_=1;var n=HA(),e=WA(),t=lI();function i(o){return n(o,t,e)}return Jd=i,Jd}var Zd,M_;function cI(){if(M_)return Zd;M_=1;var n=uI(),e=1,t=Object.prototype,i=t.hasOwnProperty;function o(a,u,f,h,g,y){var v=f&e,p=n(a),m=p.length,S=n(u),w=S.length;if(m!=w&&!v)return!1;for(var _=m;_--;){var E=p[_];if(!(v?E in u:i.call(u,E)))return!1}var T=y.get(a),O=y.get(u);if(T&&O)return T==u&&O==a;var A=!0;y.set(a,u),y.set(u,a);for(var M=v;++_<m;){E=p[_];var F=a[E],P=u[E];if(h)var x=v?h(P,F,E,u,a,y):h(F,P,E,a,u,y);if(!(x===void 0?F===P||g(F,P,f,h,y):x)){A=!1;break}M||(M=E=="constructor")}if(A&&!M){var D=a.constructor,C=u.constructor;D!=C&&"constructor"in a&&"constructor"in u&&!(typeof D=="function"&&D instanceof D&&typeof C=="function"&&C instanceof C)&&(A=!1)}return y.delete(a),y.delete(u),A}return Zd=o,Zd}var ep,j_;function fI(){if(j_)return ep;j_=1;var n=Ds(),e=Gr(),t=n(e,"DataView");return ep=t,ep}var tp,V_;function hI(){if(V_)return tp;V_=1;var n=Ds(),e=Gr(),t=n(e,"Promise");return tp=t,tp}var np,F_;function dI(){if(F_)return np;F_=1;var n=Ds(),e=Gr(),t=n(e,"Set");return np=t,np}var rp,q_;function pI(){if(q_)return rp;q_=1;var n=Ds(),e=Gr(),t=n(e,"WeakMap");return rp=t,rp}var ip,U_;function mI(){if(U_)return ip;U_=1;var n=fI(),e=Xp(),t=hI(),i=dI(),o=pI(),a=xc(),u=U1(),f="[object Map]",h="[object Object]",g="[object Promise]",y="[object Set]",v="[object WeakMap]",p="[object DataView]",m=u(n),S=u(e),w=u(t),_=u(i),E=u(o),T=a;return(n&&T(new n(new ArrayBuffer(1)))!=p||e&&T(new e)!=f||t&&T(t.resolve())!=g||i&&T(new i)!=y||o&&T(new o)!=v)&&(T=function(O){var A=a(O),M=A==h?O.constructor:void 0,F=M?u(M):"";if(F)switch(F){case m:return p;case S:return f;case w:return g;case _:return y;case E:return v}return A}),ip=T,ip}var op,B_;function gI(){if(B_)return op;B_=1;var n=NA(),e=z1(),t=BA(),i=cI(),o=mI(),a=Jp(),u=H1(),f=K1(),h=1,g="[object Arguments]",y="[object Array]",v="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function S(w,_,E,T,O,A){var M=a(w),F=a(_),P=M?y:o(w),x=F?y:o(_);P=P==g?v:P,x=x==g?v:x;var D=P==v,C=x==v,I=P==x;if(I&&u(w)){if(!u(_))return!1;M=!0,D=!1}if(I&&!D)return A||(A=new n),M||f(w)?e(w,_,E,T,O,A):t(w,_,P,E,T,O,A);if(!(E&h)){var L=D&&m.call(w,"__wrapped__"),N=C&&m.call(_,"__wrapped__");if(L||N){var H=L?w.value():w,G=N?_.value():_;return A||(A=new n),O(H,G,E,T,A)}}return I?(A||(A=new n),i(w,_,E,T,O,A)):!1}return op=S,op}var sp,z_;function vI(){if(z_)return sp;z_=1;var n=gI(),e=Pc();function t(i,o,a,u,f){return i===o?!0:i==null||o==null||!e(i)&&!e(o)?i!==i&&o!==o:n(i,o,a,u,t,f)}return sp=t,sp}var ap,H_;function yI(){if(H_)return ap;H_=1;var n=vI();function e(t,i){return n(t,i)}return ap=e,ap}var Bu={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var _I=Bu.exports,$_;function EI(){return $_||($_=1,function(n,e){(function(i,o){n.exports=o()})(typeof self<"u"?self:_I,function(){return function(t){var i={};function o(a){if(i[a])return i[a].exports;var u=i[a]={i:a,l:!1,exports:{}};return t[a].call(u.exports,u,u.exports,o),u.l=!0,u.exports}return o.m=t,o.c=i,o.d=function(a,u,f){o.o(a,u)||Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:f})},o.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(u,"a",u),u},o.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},o.p="",o(o.s=109)}([function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(17),u=o(18),f=o(19),h=o(45),g=o(46),y=o(47),v=o(48),p=o(49),m=o(12),S=o(32),w=o(33),_=o(31),E=o(1),T={Scope:E.Scope,create:E.create,find:E.find,query:E.query,register:E.register,Container:a.default,Format:u.default,Leaf:f.default,Embed:v.default,Scroll:h.default,Block:y.default,Inline:g.default,Text:p.default,Attributor:{Attribute:m.default,Class:S.default,Style:w.default,Store:_.default}};i.default=T},function(t,i,o){var a=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,T){E.__proto__=T}||function(E,T){for(var O in T)T.hasOwnProperty(O)&&(E[O]=T[O])};return function(E,T){_(E,T);function O(){this.constructor=E}E.prototype=T===null?Object.create(T):(O.prototype=T.prototype,new O)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=function(_){a(E,_);function E(T){var O=this;return T="[Parchment] "+T,O=_.call(this,T)||this,O.message=T,O.name=O.constructor.name,O}return E}(Error);i.ParchmentError=u;var f={},h={},g={},y={};i.DATA_KEY="__blot";var v;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(v=i.Scope||(i.Scope={}));function p(_,E){var T=S(_);if(T==null)throw new u("Unable to create "+_+" blot");var O=T,A=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:O.create(E);return new O(A,E)}i.create=p;function m(_,E){return E===void 0&&(E=!1),_==null?null:_[i.DATA_KEY]!=null?_[i.DATA_KEY].blot:E?m(_.parentNode,E):null}i.find=m;function S(_,E){E===void 0&&(E=v.ANY);var T;if(typeof _=="string")T=y[_]||f[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)T=y.text;else if(typeof _=="number")_&v.LEVEL&v.BLOCK?T=y.block:_&v.LEVEL&v.INLINE&&(T=y.inline);else if(_ instanceof HTMLElement){var O=(_.getAttribute("class")||"").split(/\s+/);for(var A in O)if(T=h[O[A]],T)break;T=T||g[_.tagName]}return T==null?null:E&v.LEVEL&T.scope&&E&v.TYPE&T.scope?T:null}i.query=S;function w(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];if(_.length>1)return _.map(function(A){return w(A)});var T=_[0];if(typeof T.blotName!="string"&&typeof T.attrName!="string")throw new u("Invalid definition");if(T.blotName==="abstract")throw new u("Cannot register abstract class");if(y[T.blotName||T.attrName]=T,typeof T.keyName=="string")f[T.keyName]=T;else if(T.className!=null&&(h[T.className]=T),T.tagName!=null){Array.isArray(T.tagName)?T.tagName=T.tagName.map(function(A){return A.toUpperCase()}):T.tagName=T.tagName.toUpperCase();var O=Array.isArray(T.tagName)?T.tagName:[T.tagName];O.forEach(function(A){(g[A]==null||T.className==null)&&(g[A]=T)})}return T}i.register=w},function(t,i,o){var a=o(51),u=o(11),f=o(3),h=o(20),g="\0",y=function(v){Array.isArray(v)?this.ops=v:v!=null&&Array.isArray(v.ops)?this.ops=v.ops:this.ops=[]};y.prototype.insert=function(v,p){var m={};return v.length===0?this:(m.insert=v,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m))},y.prototype.delete=function(v){return v<=0?this:this.push({delete:v})},y.prototype.retain=function(v,p){if(v<=0)return this;var m={retain:v};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m)},y.prototype.push=function(v){var p=this.ops.length,m=this.ops[p-1];if(v=f(!0,{},v),typeof m=="object"){if(typeof v.delete=="number"&&typeof m.delete=="number")return this.ops[p-1]={delete:m.delete+v.delete},this;if(typeof m.delete=="number"&&v.insert!=null&&(p-=1,m=this.ops[p-1],typeof m!="object"))return this.ops.unshift(v),this;if(u(v.attributes,m.attributes)){if(typeof v.insert=="string"&&typeof m.insert=="string")return this.ops[p-1]={insert:m.insert+v.insert},typeof v.attributes=="object"&&(this.ops[p-1].attributes=v.attributes),this;if(typeof v.retain=="number"&&typeof m.retain=="number")return this.ops[p-1]={retain:m.retain+v.retain},typeof v.attributes=="object"&&(this.ops[p-1].attributes=v.attributes),this}}return p===this.ops.length?this.ops.push(v):this.ops.splice(p,0,v),this},y.prototype.chop=function(){var v=this.ops[this.ops.length-1];return v&&v.retain&&!v.attributes&&this.ops.pop(),this},y.prototype.filter=function(v){return this.ops.filter(v)},y.prototype.forEach=function(v){this.ops.forEach(v)},y.prototype.map=function(v){return this.ops.map(v)},y.prototype.partition=function(v){var p=[],m=[];return this.forEach(function(S){var w=v(S)?p:m;w.push(S)}),[p,m]},y.prototype.reduce=function(v,p){return this.ops.reduce(v,p)},y.prototype.changeLength=function(){return this.reduce(function(v,p){return p.insert?v+h.length(p):p.delete?v-p.delete:v},0)},y.prototype.length=function(){return this.reduce(function(v,p){return v+h.length(p)},0)},y.prototype.slice=function(v,p){v=v||0,typeof p!="number"&&(p=1/0);for(var m=[],S=h.iterator(this.ops),w=0;w<p&&S.hasNext();){var _;w<v?_=S.next(v-w):(_=S.next(p-w),m.push(_)),w+=h.length(_)}return new y(m)},y.prototype.compose=function(v){var p=h.iterator(this.ops),m=h.iterator(v.ops),S=[],w=m.peek();if(w!=null&&typeof w.retain=="number"&&w.attributes==null){for(var _=w.retain;p.peekType()==="insert"&&p.peekLength()<=_;)_-=p.peekLength(),S.push(p.next());w.retain-_>0&&m.next(w.retain-_)}for(var E=new y(S);p.hasNext()||m.hasNext();)if(m.peekType()==="insert")E.push(m.next());else if(p.peekType()==="delete")E.push(p.next());else{var T=Math.min(p.peekLength(),m.peekLength()),O=p.next(T),A=m.next(T);if(typeof A.retain=="number"){var M={};typeof O.retain=="number"?M.retain=T:M.insert=O.insert;var F=h.attributes.compose(O.attributes,A.attributes,typeof O.retain=="number");if(F&&(M.attributes=F),E.push(M),!m.hasNext()&&u(E.ops[E.ops.length-1],M)){var P=new y(p.rest());return E.concat(P).chop()}}else typeof A.delete=="number"&&typeof O.retain=="number"&&E.push(A)}return E.chop()},y.prototype.concat=function(v){var p=new y(this.ops.slice());return v.ops.length>0&&(p.push(v.ops[0]),p.ops=p.ops.concat(v.ops.slice(1))),p},y.prototype.diff=function(v,p){if(this.ops===v.ops)return new y;var m=[this,v].map(function(T){return T.map(function(O){if(O.insert!=null)return typeof O.insert=="string"?O.insert:g;var A=T===v?"on":"with";throw new Error("diff() called "+A+" non-document")}).join("")}),S=new y,w=a(m[0],m[1],p),_=h.iterator(this.ops),E=h.iterator(v.ops);return w.forEach(function(T){for(var O=T[1].length;O>0;){var A=0;switch(T[0]){case a.INSERT:A=Math.min(E.peekLength(),O),S.push(E.next(A));break;case a.DELETE:A=Math.min(O,_.peekLength()),_.next(A),S.delete(A);break;case a.EQUAL:A=Math.min(_.peekLength(),E.peekLength(),O);var M=_.next(A),F=E.next(A);u(M.insert,F.insert)?S.retain(A,h.attributes.diff(M.attributes,F.attributes)):S.push(F).delete(A);break}O-=A}}),S.chop()},y.prototype.eachLine=function(v,p){p=p||`
`;for(var m=h.iterator(this.ops),S=new y,w=0;m.hasNext();){if(m.peekType()!=="insert")return;var _=m.peek(),E=h.length(_)-m.peekLength(),T=typeof _.insert=="string"?_.insert.indexOf(p,E)-E:-1;if(T<0)S.push(m.next());else if(T>0)S.push(m.next(T));else{if(v(S,m.next(1).attributes||{},w)===!1)return;w+=1,S=new y}}S.length()>0&&v(S,{},w)},y.prototype.transform=function(v,p){if(p=!!p,typeof v=="number")return this.transformPosition(v,p);for(var m=h.iterator(this.ops),S=h.iterator(v.ops),w=new y;m.hasNext()||S.hasNext();)if(m.peekType()==="insert"&&(p||S.peekType()!=="insert"))w.retain(h.length(m.next()));else if(S.peekType()==="insert")w.push(S.next());else{var _=Math.min(m.peekLength(),S.peekLength()),E=m.next(_),T=S.next(_);if(E.delete)continue;T.delete?w.push(T):w.retain(_,h.attributes.transform(E.attributes,T.attributes,p))}return w.chop()},y.prototype.transformPosition=function(v,p){p=!!p;for(var m=h.iterator(this.ops),S=0;m.hasNext()&&S<=v;){var w=m.peekLength(),_=m.peekType();if(m.next(),_==="delete"){v-=Math.min(w,v-S);continue}else _==="insert"&&(S<v||!p)&&(v+=w);S+=w}return v},t.exports=y},function(t,i){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h=function(m){return typeof Array.isArray=="function"?Array.isArray(m):a.call(m)==="[object Array]"},g=function(m){if(!m||a.call(m)!=="[object Object]")return!1;var S=o.call(m,"constructor"),w=m.constructor&&m.constructor.prototype&&o.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!S&&!w)return!1;var _;for(_ in m);return typeof _>"u"||o.call(m,_)},y=function(m,S){u&&S.name==="__proto__"?u(m,S.name,{enumerable:!0,configurable:!0,value:S.newValue,writable:!0}):m[S.name]=S.newValue},v=function(m,S){if(S==="__proto__")if(o.call(m,S)){if(f)return f(m,S).value}else return;return m[S]};t.exports=function p(){var m,S,w,_,E,T,O=arguments[0],A=1,M=arguments.length,F=!1;for(typeof O=="boolean"&&(F=O,O=arguments[1]||{},A=2),(O==null||typeof O!="object"&&typeof O!="function")&&(O={});A<M;++A)if(m=arguments[A],m!=null)for(S in m)w=v(O,S),_=v(m,S),O!==_&&(F&&_&&(g(_)||(E=h(_)))?(E?(E=!1,T=w&&h(w)?w:[]):T=w&&g(w)?w:{},y(O,{name:S,newValue:p(F,T,_)})):typeof _<"u"&&y(O,{name:S,newValue:_}));return O}},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BlockEmbed=i.bubbleFormats=void 0;var a=function(){function I(L,N){for(var H=0;H<N.length;H++){var G=N[H];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,G.key,G)}}return function(L,N,H){return N&&I(L.prototype,N),H&&I(L,H),L}}(),u=function I(L,N,H){L===null&&(L=Function.prototype);var G=Object.getOwnPropertyDescriptor(L,N);if(G===void 0){var re=Object.getPrototypeOf(L);return re===null?void 0:I(re,N,H)}else{if("value"in G)return G.value;var ne=G.get;return ne===void 0?void 0:ne.call(H)}},f=o(3),h=O(f),g=o(2),y=O(g),v=o(0),p=O(v),m=o(16),S=O(m),w=o(6),_=O(w),E=o(7),T=O(E);function O(I){return I&&I.__esModule?I:{default:I}}function A(I,L){if(!(I instanceof L))throw new TypeError("Cannot call a class as a function")}function M(I,L){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:I}function F(I,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);I.prototype=Object.create(L&&L.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(I,L):I.__proto__=L)}var P=1,x=function(I){F(L,I);function L(){return A(this,L),M(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return a(L,[{key:"attach",value:function(){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"attach",this).call(this),this.attributes=new p.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new y.default().insert(this.value(),(0,h.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(H,G){var re=p.default.query(H,p.default.Scope.BLOCK_ATTRIBUTE);re!=null&&this.attributes.attribute(re,G)}},{key:"formatAt",value:function(H,G,re,ne){this.format(re,ne)}},{key:"insertAt",value:function(H,G,re){if(typeof G=="string"&&G.endsWith(`
`)){var ne=p.default.create(D.blotName);this.parent.insertBefore(ne,H===0?this:this.next),ne.insertAt(0,G.slice(0,-1))}else u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,H,G,re)}}]),L}(p.default.Embed);x.scope=p.default.Scope.BLOCK_BLOT;var D=function(I){F(L,I);function L(N){A(this,L);var H=M(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,N));return H.cache={},H}return a(L,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(p.default.Leaf).reduce(function(H,G){return G.length()===0?H:H.insert(G.value(),C(G))},new y.default).insert(`
`,C(this))),this.cache.delta}},{key:"deleteAt",value:function(H,G){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"deleteAt",this).call(this,H,G),this.cache={}}},{key:"formatAt",value:function(H,G,re,ne){G<=0||(p.default.query(re,p.default.Scope.BLOCK)?H+G===this.length()&&this.format(re,ne):u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"formatAt",this).call(this,H,Math.min(G,this.length()-H-1),re,ne),this.cache={})}},{key:"insertAt",value:function(H,G,re){if(re!=null)return u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,H,G,re);if(G.length!==0){var ne=G.split(`
`),ie=ne.shift();ie.length>0&&(H<this.length()-1||this.children.tail==null?u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,Math.min(H,this.length()-1),ie):this.children.tail.insertAt(this.children.tail.length(),ie),this.cache={});var Y=this;ne.reduce(function($,j){return Y=Y.split($,!0),Y.insertAt(0,j),j.length},H+ie.length)}}},{key:"insertBefore",value:function(H,G){var re=this.children.head;u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,H,G),re instanceof S.default&&re.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"length",this).call(this)+P),this.cache.length}},{key:"moveChildren",value:function(H,G){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"moveChildren",this).call(this,H,G),this.cache={}}},{key:"optimize",value:function(H){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,H),this.cache={}}},{key:"path",value:function(H){return u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"path",this).call(this,H,!0)}},{key:"removeChild",value:function(H){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"removeChild",this).call(this,H),this.cache={}}},{key:"split",value:function(H){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&(H===0||H>=this.length()-P)){var re=this.clone();return H===0?(this.parent.insertBefore(re,this),this):(this.parent.insertBefore(re,this.next),re)}else{var ne=u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"split",this).call(this,H,G);return this.cache={},ne}}}]),L}(p.default.Block);D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[_.default,p.default.Embed,T.default];function C(I){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return I==null||(typeof I.formats=="function"&&(L=(0,h.default)(L,I.formats())),I.parent==null||I.parent.blotName=="scroll"||I.parent.statics.scope!==I.statics.scope)?L:C(I.parent,L)}i.bubbleFormats=C,i.BlockEmbed=x,i.default=D},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.overload=i.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},u=function(){function Y($,j){var U=[],K=!0,ee=!1,Z=void 0;try{for(var z=$[Symbol.iterator](),X;!(K=(X=z.next()).done)&&(U.push(X.value),!(j&&U.length===j));K=!0);}catch(oe){ee=!0,Z=oe}finally{try{!K&&z.return&&z.return()}finally{if(ee)throw Z}}return U}return function($,j){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return Y($,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Y($,j){for(var U=0;U<j.length;U++){var K=j[U];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty($,K.key,K)}}return function($,j,U){return j&&Y($.prototype,j),U&&Y($,U),$}}();o(50);var h=o(2),g=C(h),y=o(14),v=C(y),p=o(8),m=C(p),S=o(9),w=C(S),_=o(0),E=C(_),T=o(15),O=C(T),A=o(3),M=C(A),F=o(10),P=C(F),x=o(34),D=C(x);function C(Y){return Y&&Y.__esModule?Y:{default:Y}}function I(Y,$,j){return $ in Y?Object.defineProperty(Y,$,{value:j,enumerable:!0,configurable:!0,writable:!0}):Y[$]=j,Y}function L(Y,$){if(!(Y instanceof $))throw new TypeError("Cannot call a class as a function")}var N=(0,P.default)("quill"),H=function(){f(Y,null,[{key:"debug",value:function(j){j===!0&&(j="log"),P.default.level(j)}},{key:"find",value:function(j){return j.__quill||E.default.find(j)}},{key:"import",value:function(j){return this.imports[j]==null&&N.error("Cannot import "+j+". Are you sure it was registered?"),this.imports[j]}},{key:"register",value:function(j,U){var K=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof j!="string"){var Z=j.attrName||j.blotName;typeof Z=="string"?this.register("formats/"+Z,j,U):Object.keys(j).forEach(function(z){K.register(z,j[z],U)})}else this.imports[j]!=null&&!ee&&N.warn("Overwriting "+j+" with",U),this.imports[j]=U,(j.startsWith("blots/")||j.startsWith("formats/"))&&U.blotName!=="abstract"?E.default.register(U):j.startsWith("modules")&&typeof U.register=="function"&&U.register()}}]);function Y($){var j=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,Y),this.options=G($,U),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",$);this.options.debug&&Y.debug(this.options.debug);var K=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=E.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new v.default(this.scroll),this.selection=new O.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(Z){Z===m.default.events.TEXT_CHANGE&&j.root.classList.toggle("ql-blank",j.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(Z,z){var X=j.selection.lastRange,oe=X&&X.length===0?X.index:void 0;re.call(j,function(){return j.editor.update(null,z,oe)},Z)});var ee=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+K+"<p><br></p></div>");this.setContents(ee),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return f(Y,[{key:"addContainer",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof j=="string"){var K=j;j=document.createElement("div"),j.classList.add(K)}return this.container.insertBefore(j,U),j}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(j,U,K){var ee=this,Z=ne(j,U,K),z=u(Z,4);return j=z[0],U=z[1],K=z[3],re.call(this,function(){return ee.editor.deleteText(j,U)},K,j,-1*U)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(j),this.container.classList.toggle("ql-disabled",!j)}},{key:"focus",value:function(){var j=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=j,this.scrollIntoView()}},{key:"format",value:function(j,U){var K=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return re.call(this,function(){var Z=K.getSelection(!0),z=new g.default;if(Z==null)return z;if(E.default.query(j,E.default.Scope.BLOCK))z=K.editor.formatLine(Z.index,Z.length,I({},j,U));else{if(Z.length===0)return K.selection.format(j,U),z;z=K.editor.formatText(Z.index,Z.length,I({},j,U))}return K.setSelection(Z,m.default.sources.SILENT),z},ee)}},{key:"formatLine",value:function(j,U,K,ee,Z){var z=this,X=void 0,oe=ne(j,U,K,ee,Z),se=u(oe,4);return j=se[0],U=se[1],X=se[2],Z=se[3],re.call(this,function(){return z.editor.formatLine(j,U,X)},Z,j,0)}},{key:"formatText",value:function(j,U,K,ee,Z){var z=this,X=void 0,oe=ne(j,U,K,ee,Z),se=u(oe,4);return j=se[0],U=se[1],X=se[2],Z=se[3],re.call(this,function(){return z.editor.formatText(j,U,X)},Z,j,0)}},{key:"getBounds",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=void 0;typeof j=="number"?K=this.selection.getBounds(j,U):K=this.selection.getBounds(j.index,j.length);var ee=this.container.getBoundingClientRect();return{bottom:K.bottom-ee.top,height:K.height,left:K.left-ee.left,right:K.right-ee.left,top:K.top-ee.top,width:K.width}}},{key:"getContents",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,K=ne(j,U),ee=u(K,2);return j=ee[0],U=ee[1],this.editor.getContents(j,U)}},{key:"getFormat",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof j=="number"?this.editor.getFormat(j,U):this.editor.getFormat(j.index,j.length)}},{key:"getIndex",value:function(j){return j.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(j){return this.scroll.leaf(j)}},{key:"getLine",value:function(j){return this.scroll.line(j)}},{key:"getLines",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof j!="number"?this.scroll.lines(j.index,j.length):this.scroll.lines(j,U)}},{key:"getModule",value:function(j){return this.theme.modules[j]}},{key:"getSelection",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return j&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,K=ne(j,U),ee=u(K,2);return j=ee[0],U=ee[1],this.editor.getText(j,U)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(j,U,K){var ee=this,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y.sources.API;return re.call(this,function(){return ee.editor.insertEmbed(j,U,K)},Z,j)}},{key:"insertText",value:function(j,U,K,ee,Z){var z=this,X=void 0,oe=ne(j,0,K,ee,Z),se=u(oe,4);return j=se[0],X=se[2],Z=se[3],re.call(this,function(){return z.editor.insertText(j,U,X)},Z,j,U.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(j,U,K){this.clipboard.dangerouslyPasteHTML(j,U,K)}},{key:"removeFormat",value:function(j,U,K){var ee=this,Z=ne(j,U,K),z=u(Z,4);return j=z[0],U=z[1],K=z[3],re.call(this,function(){return ee.editor.removeFormat(j,U)},K,j)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(j){var U=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return re.call(this,function(){j=new g.default(j);var ee=U.getLength(),Z=U.editor.deleteText(0,ee),z=U.editor.applyDelta(j),X=z.ops[z.ops.length-1];X!=null&&typeof X.insert=="string"&&X.insert[X.insert.length-1]===`
`&&(U.editor.deleteText(U.getLength()-1,1),z.delete(1));var oe=Z.compose(z);return oe},K)}},{key:"setSelection",value:function(j,U,K){if(j==null)this.selection.setRange(null,U||Y.sources.API);else{var ee=ne(j,U,K),Z=u(ee,4);j=Z[0],U=Z[1],K=Z[3],this.selection.setRange(new T.Range(j,U),K),K!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,K=new g.default().insert(j);return this.setContents(K,U)}},{key:"update",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,U=this.scroll.update(j);return this.selection.update(j),U}},{key:"updateContents",value:function(j){var U=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return re.call(this,function(){return j=new g.default(j),U.editor.applyDelta(j,K)},K,!0)}}]),Y}();H.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},H.events=m.default.events,H.sources=m.default.sources,H.version="1.3.7",H.imports={delta:g.default,parchment:E.default,"core/module":w.default,"core/theme":D.default};function G(Y,$){if($=(0,M.default)(!0,{container:Y,modules:{clipboard:!0,keyboard:!0,history:!0}},$),!$.theme||$.theme===H.DEFAULTS.theme)$.theme=D.default;else if($.theme=H.import("themes/"+$.theme),$.theme==null)throw new Error("Invalid theme "+$.theme+". Did you register it?");var j=(0,M.default)(!0,{},$.theme.DEFAULTS);[j,$].forEach(function(ee){ee.modules=ee.modules||{},Object.keys(ee.modules).forEach(function(Z){ee.modules[Z]===!0&&(ee.modules[Z]={})})});var U=Object.keys(j.modules).concat(Object.keys($.modules)),K=U.reduce(function(ee,Z){var z=H.import("modules/"+Z);return z==null?N.error("Cannot load "+Z+" module. Are you sure you registered it?"):ee[Z]=z.DEFAULTS||{},ee},{});return $.modules!=null&&$.modules.toolbar&&$.modules.toolbar.constructor!==Object&&($.modules.toolbar={container:$.modules.toolbar}),$=(0,M.default)(!0,{},H.DEFAULTS,{modules:K},j,$),["bounds","container","scrollingContainer"].forEach(function(ee){typeof $[ee]=="string"&&($[ee]=document.querySelector($[ee]))}),$.modules=Object.keys($.modules).reduce(function(ee,Z){return $.modules[Z]&&(ee[Z]=$.modules[Z]),ee},{}),$}function re(Y,$,j,U){if(this.options.strict&&!this.isEnabled()&&$===m.default.sources.USER)return new g.default;var K=j==null?null:this.getSelection(),ee=this.editor.delta,Z=Y();if(K!=null&&(j===!0&&(j=K.index),U==null?K=ie(K,Z,$):U!==0&&(K=ie(K,j,U,$)),this.setSelection(K,m.default.sources.SILENT)),Z.length()>0){var z,X=[m.default.events.TEXT_CHANGE,Z,ee,$];if((z=this.emitter).emit.apply(z,[m.default.events.EDITOR_CHANGE].concat(X)),$!==m.default.sources.SILENT){var oe;(oe=this.emitter).emit.apply(oe,X)}}return Z}function ne(Y,$,j,U,K){var ee={};return typeof Y.index=="number"&&typeof Y.length=="number"?typeof $!="number"?(K=U,U=j,j=$,$=Y.length,Y=Y.index):($=Y.length,Y=Y.index):typeof $!="number"&&(K=U,U=j,j=$,$=0),(typeof j>"u"?"undefined":a(j))==="object"?(ee=j,K=U):typeof j=="string"&&(U!=null?ee[j]=U:K=j),K=K||m.default.sources.API,[Y,$,ee,K]}function ie(Y,$,j,U){if(Y==null)return null;var K=void 0,ee=void 0;if($ instanceof g.default){var Z=[Y.index,Y.index+Y.length].map(function(se){return $.transformPosition(se,U!==m.default.sources.USER)}),z=u(Z,2);K=z[0],ee=z[1]}else{var X=[Y.index,Y.index+Y.length].map(function(se){return se<$||se===$&&U===m.default.sources.USER?se:j>=0?se+j:Math.max($,se+j)}),oe=u(X,2);K=oe[0],ee=oe[1]}return new T.Range(K,ee-K)}i.expandConfig=G,i.overload=ne,i.default=H},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function _(E,T){for(var O=0;O<T.length;O++){var A=T[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,T,O){return T&&_(E.prototype,T),O&&_(E,O),E}}(),u=function _(E,T,O){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,T);if(A===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:_(M,T,O)}else{if("value"in A)return A.value;var F=A.get;return F===void 0?void 0:F.call(O)}},f=o(7),h=v(f),g=o(0),y=v(g);function v(_){return _&&_.__esModule?_:{default:_}}function p(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function m(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function S(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var w=function(_){S(E,_);function E(){return p(this,E),m(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"formatAt",value:function(O,A,M,F){if(E.compare(this.statics.blotName,M)<0&&y.default.query(M,y.default.Scope.BLOT)){var P=this.isolate(O,A);F&&P.wrap(M,F)}else u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,O,A,M,F)}},{key:"optimize",value:function(O){if(u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,O),this.parent instanceof E&&E.compare(this.statics.blotName,this.parent.statics.blotName)>0){var A=this.parent.isolate(this.offset(),this.length());this.moveChildren(A),A.wrap(this)}}}],[{key:"compare",value:function(O,A){var M=E.order.indexOf(O),F=E.order.indexOf(A);return M>=0||F>=0?M-F:O===A?0:O<A?-1:1}}]),E}(y.default.Inline);w.allowedChildren=[w,y.default.Embed,h.default],w.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],i.default=w},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(0),u=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function g(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function y(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var v=function(p){y(m,p);function m(){return h(this,m),g(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(u.default.Text);i.default=v},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function T(O,A){for(var M=0;M<A.length;M++){var F=A[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(O,F.key,F)}}return function(O,A,M){return A&&T(O.prototype,A),M&&T(O,M),O}}(),u=function T(O,A,M){O===null&&(O=Function.prototype);var F=Object.getOwnPropertyDescriptor(O,A);if(F===void 0){var P=Object.getPrototypeOf(O);return P===null?void 0:T(P,A,M)}else{if("value"in F)return F.value;var x=F.get;return x===void 0?void 0:x.call(M)}},f=o(54),h=v(f),g=o(10),y=v(g);function v(T){return T&&T.__esModule?T:{default:T}}function p(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}function m(T,O){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:T}function S(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(T,O):T.__proto__=O)}var w=(0,y.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(T){document.addEventListener(T,function(){for(var O=arguments.length,A=Array(O),M=0;M<O;M++)A[M]=arguments[M];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(F){if(F.__quill&&F.__quill.emitter){var P;(P=F.__quill.emitter).handleDOM.apply(P,A)}})})});var E=function(T){S(O,T);function O(){p(this,O);var A=m(this,(O.__proto__||Object.getPrototypeOf(O)).call(this));return A.listeners={},A.on("error",w.error),A}return a(O,[{key:"emit",value:function(){w.log.apply(w,arguments),u(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(M){for(var F=arguments.length,P=Array(F>1?F-1:0),x=1;x<F;x++)P[x-1]=arguments[x];(this.listeners[M.type]||[]).forEach(function(D){var C=D.node,I=D.handler;(M.target===C||C.contains(M.target))&&I.apply(void 0,[M].concat(P))})}},{key:"listenDOM",value:function(M,F,P){this.listeners[M]||(this.listeners[M]=[]),this.listeners[M].push({node:F,handler:P})}}]),O}(h.default);E.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},E.sources={API:"api",SILENT:"silent",USER:"user"},i.default=E},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});function a(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}var u=function f(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,f),this.quill=h,this.options=g};u.DEFAULTS={},i.default=u},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=["error","warn","log","info"],u="warn";function f(g){if(a.indexOf(g)<=a.indexOf(u)){for(var y,v=arguments.length,p=Array(v>1?v-1:0),m=1;m<v;m++)p[m-1]=arguments[m];(y=console)[g].apply(y,p)}}function h(g){return a.reduce(function(y,v){return y[v]=f.bind(console,v,g),y},{})}f.level=h.level=function(g){u=g},i.default=h},function(t,i,o){var a=Array.prototype.slice,u=o(52),f=o(53),h=t.exports=function(p,m,S){return S||(S={}),p===m?!0:p instanceof Date&&m instanceof Date?p.getTime()===m.getTime():!p||!m||typeof p!="object"&&typeof m!="object"?S.strict?p===m:p==m:v(p,m,S)};function g(p){return p==null}function y(p){return!(!p||typeof p!="object"||typeof p.length!="number"||typeof p.copy!="function"||typeof p.slice!="function"||p.length>0&&typeof p[0]!="number")}function v(p,m,S){var w,_;if(g(p)||g(m)||p.prototype!==m.prototype)return!1;if(f(p))return f(m)?(p=a.call(p),m=a.call(m),h(p,m,S)):!1;if(y(p)){if(!y(m)||p.length!==m.length)return!1;for(w=0;w<p.length;w++)if(p[w]!==m[w])return!1;return!0}try{var E=u(p),T=u(m)}catch{return!1}if(E.length!=T.length)return!1;for(E.sort(),T.sort(),w=E.length-1;w>=0;w--)if(E[w]!=T[w])return!1;for(w=E.length-1;w>=0;w--)if(_=E[w],!h(p[_],m[_],S))return!1;return typeof p==typeof m}},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(1),u=function(){function f(h,g,y){y===void 0&&(y={}),this.attrName=h,this.keyName=g;var v=a.Scope.TYPE&a.Scope.ATTRIBUTE;y.scope!=null?this.scope=y.scope&a.Scope.LEVEL|v:this.scope=a.Scope.ATTRIBUTE,y.whitelist!=null&&(this.whitelist=y.whitelist)}return f.keys=function(h){return[].map.call(h.attributes,function(g){return g.name})},f.prototype.add=function(h,g){return this.canAdd(h,g)?(h.setAttribute(this.keyName,g),!0):!1},f.prototype.canAdd=function(h,g){var y=a.query(h,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return y==null?!1:this.whitelist==null?!0:typeof g=="string"?this.whitelist.indexOf(g.replace(/["']/g,""))>-1:this.whitelist.indexOf(g)>-1},f.prototype.remove=function(h){h.removeAttribute(this.keyName)},f.prototype.value=function(h){var g=h.getAttribute(this.keyName);return this.canAdd(h,g)&&g?g:""},f}();i.default=u},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Code=void 0;var a=function(){function x(D,C){var I=[],L=!0,N=!1,H=void 0;try{for(var G=D[Symbol.iterator](),re;!(L=(re=G.next()).done)&&(I.push(re.value),!(C&&I.length===C));L=!0);}catch(ne){N=!0,H=ne}finally{try{!L&&G.return&&G.return()}finally{if(N)throw H}}return I}return function(D,C){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return x(D,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function x(D,C){for(var I=0;I<C.length;I++){var L=C[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(D,L.key,L)}}return function(D,C,I){return C&&x(D.prototype,C),I&&x(D,I),D}}(),f=function x(D,C,I){D===null&&(D=Function.prototype);var L=Object.getOwnPropertyDescriptor(D,C);if(L===void 0){var N=Object.getPrototypeOf(D);return N===null?void 0:x(N,C,I)}else{if("value"in L)return L.value;var H=L.get;return H===void 0?void 0:H.call(I)}},h=o(2),g=T(h),y=o(0),v=T(y),p=o(4),m=T(p),S=o(6),w=T(S),_=o(7),E=T(_);function T(x){return x&&x.__esModule?x:{default:x}}function O(x,D){if(!(x instanceof D))throw new TypeError("Cannot call a class as a function")}function A(x,D){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:x}function M(x,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);x.prototype=Object.create(D&&D.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(x,D):x.__proto__=D)}var F=function(x){M(D,x);function D(){return O(this,D),A(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return D}(w.default);F.blotName="code",F.tagName="CODE";var P=function(x){M(D,x);function D(){return O(this,D),A(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return u(D,[{key:"delta",value:function(){var I=this,L=this.domNode.textContent;return L.endsWith(`
`)&&(L=L.slice(0,-1)),L.split(`
`).reduce(function(N,H){return N.insert(H).insert(`
`,I.formats())},new g.default)}},{key:"format",value:function(I,L){if(!(I===this.statics.blotName&&L)){var N=this.descendant(E.default,this.length()-1),H=a(N,1),G=H[0];G!=null&&G.deleteAt(G.length()-1,1),f(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,I,L)}}},{key:"formatAt",value:function(I,L,N,H){if(L!==0&&!(v.default.query(N,v.default.Scope.BLOCK)==null||N===this.statics.blotName&&H===this.statics.formats(this.domNode))){var G=this.newlineIndex(I);if(!(G<0||G>=I+L)){var re=this.newlineIndex(I,!0)+1,ne=G-re+1,ie=this.isolate(re,ne),Y=ie.next;ie.format(N,H),Y instanceof D&&Y.formatAt(0,I-re+L-ne,N,H)}}}},{key:"insertAt",value:function(I,L,N){if(N==null){var H=this.descendant(E.default,I),G=a(H,2),re=G[0],ne=G[1];re.insertAt(ne,L)}}},{key:"length",value:function(){var I=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?I:I+1}},{key:"newlineIndex",value:function(I){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L)return this.domNode.textContent.slice(0,I).lastIndexOf(`
`);var N=this.domNode.textContent.slice(I).indexOf(`
`);return N>-1?I+N:-1}},{key:"optimize",value:function(I){this.domNode.textContent.endsWith(`
`)||this.appendChild(v.default.create("text",`
`)),f(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,I);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===L.statics.formats(L.domNode)&&(L.optimize(I),L.moveChildren(this),L.remove())}},{key:"replace",value:function(I){f(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,I),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(L){var N=v.default.find(L);N==null?L.parentNode.removeChild(L):N instanceof v.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(I){var L=f(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,I);return L.setAttribute("spellcheck",!1),L}},{key:"formats",value:function(){return!0}}]),D}(m.default);P.blotName="code-block",P.tagName="PRE",P.TAB="  ",i.Code=F,i.default=P},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},u=function(){function Y($,j){var U=[],K=!0,ee=!1,Z=void 0;try{for(var z=$[Symbol.iterator](),X;!(K=(X=z.next()).done)&&(U.push(X.value),!(j&&U.length===j));K=!0);}catch(oe){ee=!0,Z=oe}finally{try{!K&&z.return&&z.return()}finally{if(ee)throw Z}}return U}return function($,j){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return Y($,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Y($,j){for(var U=0;U<j.length;U++){var K=j[U];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty($,K.key,K)}}return function($,j,U){return j&&Y($.prototype,j),U&&Y($,U),$}}(),h=o(2),g=L(h),y=o(20),v=L(y),p=o(0),m=L(p),S=o(13),w=L(S),_=o(24),E=L(_),T=o(4),O=L(T),A=o(16),M=L(A),F=o(21),P=L(F),x=o(11),D=L(x),C=o(3),I=L(C);function L(Y){return Y&&Y.__esModule?Y:{default:Y}}function N(Y,$,j){return $ in Y?Object.defineProperty(Y,$,{value:j,enumerable:!0,configurable:!0,writable:!0}):Y[$]=j,Y}function H(Y,$){if(!(Y instanceof $))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,re=function(){function Y($){H(this,Y),this.scroll=$,this.delta=this.getDelta()}return f(Y,[{key:"applyDelta",value:function(j){var U=this,K=!1;this.scroll.update();var ee=this.scroll.length();return this.scroll.batchStart(),j=ie(j),j.reduce(function(Z,z){var X=z.retain||z.delete||z.insert.length||1,oe=z.attributes||{};if(z.insert!=null){if(typeof z.insert=="string"){var se=z.insert;se.endsWith(`
`)&&K&&(K=!1,se=se.slice(0,-1)),Z>=ee&&!se.endsWith(`
`)&&(K=!0),U.scroll.insertAt(Z,se);var pe=U.scroll.line(Z),Ie=u(pe,2),Le=Ie[0],Ve=Ie[1],Ke=(0,I.default)({},(0,T.bubbleFormats)(Le));if(Le instanceof O.default){var Qe=Le.descendant(m.default.Leaf,Ve),xt=u(Qe,1),dt=xt[0];Ke=(0,I.default)(Ke,(0,T.bubbleFormats)(dt))}oe=v.default.attributes.diff(Ke,oe)||{}}else if(a(z.insert)==="object"){var de=Object.keys(z.insert)[0];if(de==null)return Z;U.scroll.insertAt(Z,de,z.insert[de])}ee+=X}return Object.keys(oe).forEach(function(me){U.scroll.formatAt(Z,X,me,oe[me])}),Z+X},0),j.reduce(function(Z,z){return typeof z.delete=="number"?(U.scroll.deleteAt(Z,z.delete),Z):Z+(z.retain||z.insert.length||1)},0),this.scroll.batchEnd(),this.update(j)}},{key:"deleteText",value:function(j,U){return this.scroll.deleteAt(j,U),this.update(new g.default().retain(j).delete(U))}},{key:"formatLine",value:function(j,U){var K=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ee).forEach(function(Z){if(!(K.scroll.whitelist!=null&&!K.scroll.whitelist[Z])){var z=K.scroll.lines(j,Math.max(U,1)),X=U;z.forEach(function(oe){var se=oe.length();if(!(oe instanceof w.default))oe.format(Z,ee[Z]);else{var pe=j-oe.offset(K.scroll),Ie=oe.newlineIndex(pe+X)-pe+1;oe.formatAt(pe,Ie,Z,ee[Z])}X-=se})}}),this.scroll.optimize(),this.update(new g.default().retain(j).retain(U,(0,P.default)(ee)))}},{key:"formatText",value:function(j,U){var K=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ee).forEach(function(Z){K.scroll.formatAt(j,U,Z,ee[Z])}),this.update(new g.default().retain(j).retain(U,(0,P.default)(ee)))}},{key:"getContents",value:function(j,U){return this.delta.slice(j,j+U)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(j,U){return j.concat(U.delta())},new g.default)}},{key:"getFormat",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=[],ee=[];U===0?this.scroll.path(j).forEach(function(z){var X=u(z,1),oe=X[0];oe instanceof O.default?K.push(oe):oe instanceof m.default.Leaf&&ee.push(oe)}):(K=this.scroll.lines(j,U),ee=this.scroll.descendants(m.default.Leaf,j,U));var Z=[K,ee].map(function(z){if(z.length===0)return{};for(var X=(0,T.bubbleFormats)(z.shift());Object.keys(X).length>0;){var oe=z.shift();if(oe==null)return X;X=ne((0,T.bubbleFormats)(oe),X)}return X});return I.default.apply(I.default,Z)}},{key:"getText",value:function(j,U){return this.getContents(j,U).filter(function(K){return typeof K.insert=="string"}).map(function(K){return K.insert}).join("")}},{key:"insertEmbed",value:function(j,U,K){return this.scroll.insertAt(j,U,K),this.update(new g.default().retain(j).insert(N({},U,K)))}},{key:"insertText",value:function(j,U){var K=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return U=U.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(j,U),Object.keys(ee).forEach(function(Z){K.scroll.formatAt(j,U.length,Z,ee[Z])}),this.update(new g.default().retain(j).insert(U,(0,P.default)(ee)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var j=this.scroll.children.head;return j.statics.blotName!==O.default.blotName||j.children.length>1?!1:j.children.head instanceof M.default}},{key:"removeFormat",value:function(j,U){var K=this.getText(j,U),ee=this.scroll.line(j+U),Z=u(ee,2),z=Z[0],X=Z[1],oe=0,se=new g.default;z!=null&&(z instanceof w.default?oe=z.newlineIndex(X)-X+1:oe=z.length()-X,se=z.delta().slice(X,X+oe-1).insert(`
`));var pe=this.getContents(j,U+oe),Ie=pe.diff(new g.default().insert(K).concat(se)),Le=new g.default().retain(j).concat(Ie);return this.applyDelta(Le)}},{key:"update",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ee=this.delta;if(U.length===1&&U[0].type==="characterData"&&U[0].target.data.match(G)&&m.default.find(U[0].target)){var Z=m.default.find(U[0].target),z=(0,T.bubbleFormats)(Z),X=Z.offset(this.scroll),oe=U[0].oldValue.replace(E.default.CONTENTS,""),se=new g.default().insert(oe),pe=new g.default().insert(Z.value()),Ie=new g.default().retain(X).concat(se.diff(pe,K));j=Ie.reduce(function(Le,Ve){return Ve.insert?Le.insert(Ve.insert,z):Le.push(Ve)},new g.default),this.delta=ee.compose(j)}else this.delta=this.getDelta(),(!j||!(0,D.default)(ee.compose(j),this.delta))&&(j=ee.diff(this.delta,K));return j}}]),Y}();function ne(Y,$){return Object.keys($).reduce(function(j,U){return Y[U]==null||($[U]===Y[U]?j[U]=$[U]:Array.isArray($[U])?$[U].indexOf(Y[U])<0&&(j[U]=$[U].concat([Y[U]])):j[U]=[$[U],Y[U]]),j},{})}function ie(Y){return Y.reduce(function($,j){if(j.insert===1){var U=(0,P.default)(j.attributes);return delete U.image,$.insert({image:j.attributes.image},U)}if(j.attributes!=null&&(j.attributes.list===!0||j.attributes.bullet===!0)&&(j=(0,P.default)(j),j.attributes.list?j.attributes.list="ordered":(j.attributes.list="bullet",delete j.attributes.bullet)),typeof j.insert=="string"){var K=j.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return $.insert(K,j.attributes)}return $.push(j)},new g.default)}i.default=re},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Range=void 0;var a=function(){function x(D,C){var I=[],L=!0,N=!1,H=void 0;try{for(var G=D[Symbol.iterator](),re;!(L=(re=G.next()).done)&&(I.push(re.value),!(C&&I.length===C));L=!0);}catch(ne){N=!0,H=ne}finally{try{!L&&G.return&&G.return()}finally{if(N)throw H}}return I}return function(D,C){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return x(D,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function x(D,C){for(var I=0;I<C.length;I++){var L=C[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(D,L.key,L)}}return function(D,C,I){return C&&x(D.prototype,C),I&&x(D,I),D}}(),f=o(0),h=E(f),g=o(21),y=E(g),v=o(11),p=E(v),m=o(8),S=E(m),w=o(10),_=E(w);function E(x){return x&&x.__esModule?x:{default:x}}function T(x){if(Array.isArray(x)){for(var D=0,C=Array(x.length);D<x.length;D++)C[D]=x[D];return C}else return Array.from(x)}function O(x,D){if(!(x instanceof D))throw new TypeError("Cannot call a class as a function")}var A=(0,_.default)("quill:selection"),M=function x(D){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;O(this,x),this.index=D,this.length=C},F=function(){function x(D,C){var I=this;O(this,x),this.emitter=C,this.scroll=D,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=h.default.create("cursor",this),this.lastRange=this.savedRange=new M(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){I.mouseDown||setTimeout(I.update.bind(I,S.default.sources.USER),1)}),this.emitter.on(S.default.events.EDITOR_CHANGE,function(L,N){L===S.default.events.TEXT_CHANGE&&N.length()>0&&I.update(S.default.sources.SILENT)}),this.emitter.on(S.default.events.SCROLL_BEFORE_UPDATE,function(){if(I.hasFocus()){var L=I.getNativeRange();L!=null&&L.start.node!==I.cursor.textNode&&I.emitter.once(S.default.events.SCROLL_UPDATE,function(){try{I.setNativeRange(L.start.node,L.start.offset,L.end.node,L.end.offset)}catch{}})}}),this.emitter.on(S.default.events.SCROLL_OPTIMIZE,function(L,N){if(N.range){var H=N.range,G=H.startNode,re=H.startOffset,ne=H.endNode,ie=H.endOffset;I.setNativeRange(G,re,ne,ie)}}),this.update(S.default.sources.SILENT)}return u(x,[{key:"handleComposition",value:function(){var C=this;this.root.addEventListener("compositionstart",function(){C.composing=!0}),this.root.addEventListener("compositionend",function(){if(C.composing=!1,C.cursor.parent){var I=C.cursor.restore();if(!I)return;setTimeout(function(){C.setNativeRange(I.startNode,I.startOffset,I.endNode,I.endOffset)},1)}})}},{key:"handleDragging",value:function(){var C=this;this.emitter.listenDOM("mousedown",document.body,function(){C.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){C.mouseDown=!1,C.update(S.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(C,I){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[C])){this.scroll.update();var L=this.getNativeRange();if(!(L==null||!L.native.collapsed||h.default.query(C,h.default.Scope.BLOCK))){if(L.start.node!==this.cursor.textNode){var N=h.default.find(L.start.node,!1);if(N==null)return;if(N instanceof h.default.Leaf){var H=N.split(L.start.offset);N.parent.insertBefore(this.cursor,H)}else N.insertBefore(this.cursor,L.start.node);this.cursor.attach()}this.cursor.format(C,I),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(C){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=this.scroll.length();C=Math.min(C,L-1),I=Math.min(C+I,L-1)-C;var N=void 0,H=this.scroll.leaf(C),G=a(H,2),re=G[0],ne=G[1];if(re==null)return null;var ie=re.position(ne,!0),Y=a(ie,2);N=Y[0],ne=Y[1];var $=document.createRange();if(I>0){$.setStart(N,ne);var j=this.scroll.leaf(C+I),U=a(j,2);if(re=U[0],ne=U[1],re==null)return null;var K=re.position(ne,!0),ee=a(K,2);return N=ee[0],ne=ee[1],$.setEnd(N,ne),$.getBoundingClientRect()}else{var Z="left",z=void 0;return N instanceof Text?(ne<N.data.length?($.setStart(N,ne),$.setEnd(N,ne+1)):($.setStart(N,ne-1),$.setEnd(N,ne),Z="right"),z=$.getBoundingClientRect()):(z=re.domNode.getBoundingClientRect(),ne>0&&(Z="right")),{bottom:z.top+z.height,height:z.height,left:z[Z],right:z[Z],top:z.top,width:0}}}},{key:"getNativeRange",value:function(){var C=document.getSelection();if(C==null||C.rangeCount<=0)return null;var I=C.getRangeAt(0);if(I==null)return null;var L=this.normalizeNative(I);return A.info("getNativeRange",L),L}},{key:"getRange",value:function(){var C=this.getNativeRange();if(C==null)return[null,null];var I=this.normalizedToRange(C);return[I,C]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(C){var I=this,L=[[C.start.node,C.start.offset]];C.native.collapsed||L.push([C.end.node,C.end.offset]);var N=L.map(function(re){var ne=a(re,2),ie=ne[0],Y=ne[1],$=h.default.find(ie,!0),j=$.offset(I.scroll);return Y===0?j:$ instanceof h.default.Container?j+$.length():j+$.index(ie,Y)}),H=Math.min(Math.max.apply(Math,T(N)),this.scroll.length()-1),G=Math.min.apply(Math,[H].concat(T(N)));return new M(G,H-G)}},{key:"normalizeNative",value:function(C){if(!P(this.root,C.startContainer)||!C.collapsed&&!P(this.root,C.endContainer))return null;var I={start:{node:C.startContainer,offset:C.startOffset},end:{node:C.endContainer,offset:C.endOffset},native:C};return[I.start,I.end].forEach(function(L){for(var N=L.node,H=L.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>H)N=N.childNodes[H],H=0;else if(N.childNodes.length===H)N=N.lastChild,H=N instanceof Text?N.data.length:N.childNodes.length+1;else break;L.node=N,L.offset=H}),I}},{key:"rangeToNative",value:function(C){var I=this,L=C.collapsed?[C.index]:[C.index,C.index+C.length],N=[],H=this.scroll.length();return L.forEach(function(G,re){G=Math.min(H-1,G);var ne=void 0,ie=I.scroll.leaf(G),Y=a(ie,2),$=Y[0],j=Y[1],U=$.position(j,re!==0),K=a(U,2);ne=K[0],j=K[1],N.push(ne,j)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(C){var I=this.lastRange;if(I!=null){var L=this.getBounds(I.index,I.length);if(L!=null){var N=this.scroll.length()-1,H=this.scroll.line(Math.min(I.index,N)),G=a(H,1),re=G[0],ne=re;if(I.length>0){var ie=this.scroll.line(Math.min(I.index+I.length,N)),Y=a(ie,1);ne=Y[0]}if(!(re==null||ne==null)){var $=C.getBoundingClientRect();L.top<$.top?C.scrollTop-=$.top-L.top:L.bottom>$.bottom&&(C.scrollTop+=L.bottom-$.bottom)}}}}},{key:"setNativeRange",value:function(C,I){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:I,H=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(A.info("setNativeRange",C,I,L,N),!(C!=null&&(this.root.parentNode==null||C.parentNode==null||L.parentNode==null))){var G=document.getSelection();if(G!=null)if(C!=null){this.hasFocus()||this.root.focus();var re=(this.getNativeRange()||{}).native;if(re==null||H||C!==re.startContainer||I!==re.startOffset||L!==re.endContainer||N!==re.endOffset){C.tagName=="BR"&&(I=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode),L.tagName=="BR"&&(N=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode);var ne=document.createRange();ne.setStart(C,I),ne.setEnd(L,N),G.removeAllRanges(),G.addRange(ne)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(C){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.default.sources.API;if(typeof I=="string"&&(L=I,I=!1),A.info("setRange",C),C!=null){var N=this.rangeToNative(C);this.setNativeRange.apply(this,T(N).concat([I]))}else this.setNativeRange(null);this.update(L)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.default.sources.USER,I=this.lastRange,L=this.getRange(),N=a(L,2),H=N[0],G=N[1];if(this.lastRange=H,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,p.default)(I,this.lastRange)){var re;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var ne=[S.default.events.SELECTION_CHANGE,(0,y.default)(this.lastRange),(0,y.default)(I),C];if((re=this.emitter).emit.apply(re,[S.default.events.EDITOR_CHANGE].concat(ne)),C!==S.default.sources.SILENT){var ie;(ie=this.emitter).emit.apply(ie,ne)}}}}]),x}();function P(x,D){try{D.parentNode}catch{return!1}return D instanceof Text&&(D=D.parentNode),x.contains(D)}i.Range=M,i.default=F},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function S(w,_){for(var E=0;E<_.length;E++){var T=_[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,_,E){return _&&S(w.prototype,_),E&&S(w,E),w}}(),u=function S(w,_,E){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,_);if(T===void 0){var O=Object.getPrototypeOf(w);return O===null?void 0:S(O,_,E)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(E)}},f=o(0),h=g(f);function g(S){return S&&S.__esModule?S:{default:S}}function y(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function v(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function p(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var m=function(S){p(w,S);function w(){return y(this,w),v(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"insertInto",value:function(E,T){E.children.length===0?u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertInto",this).call(this,E,T):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),w}(h.default.Embed);m.blotName="break",m.tagName="BR",i.default=m},function(t,i,o){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var S in m)m.hasOwnProperty(S)&&(p[S]=m[S])};return function(p,m){v(p,m);function S(){this.constructor=p}p.prototype=m===null?Object.create(m):(S.prototype=m.prototype,new S)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(44),f=o(30),h=o(1),g=function(v){a(p,v);function p(m){var S=v.call(this,m)||this;return S.build(),S}return p.prototype.appendChild=function(m){this.insertBefore(m)},p.prototype.attach=function(){v.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},p.prototype.build=function(){var m=this;this.children=new u.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(S){try{var w=y(S);m.insertBefore(w,m.children.head||void 0)}catch(_){if(_ instanceof h.ParchmentError)return;throw _}})},p.prototype.deleteAt=function(m,S){if(m===0&&S===this.length())return this.remove();this.children.forEachAt(m,S,function(w,_,E){w.deleteAt(_,E)})},p.prototype.descendant=function(m,S){var w=this.children.find(S),_=w[0],E=w[1];return m.blotName==null&&m(_)||m.blotName!=null&&_ instanceof m?[_,E]:_ instanceof p?_.descendant(m,E):[null,-1]},p.prototype.descendants=function(m,S,w){S===void 0&&(S=0),w===void 0&&(w=Number.MAX_VALUE);var _=[],E=w;return this.children.forEachAt(S,w,function(T,O,A){(m.blotName==null&&m(T)||m.blotName!=null&&T instanceof m)&&_.push(T),T instanceof p&&(_=_.concat(T.descendants(m,O,E))),E-=A}),_},p.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),v.prototype.detach.call(this)},p.prototype.formatAt=function(m,S,w,_){this.children.forEachAt(m,S,function(E,T,O){E.formatAt(T,O,w,_)})},p.prototype.insertAt=function(m,S,w){var _=this.children.find(m),E=_[0],T=_[1];if(E)E.insertAt(T,S,w);else{var O=w==null?h.create("text",S):h.create(S,w);this.appendChild(O)}},p.prototype.insertBefore=function(m,S){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(w){return m instanceof w}))throw new h.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,S)},p.prototype.length=function(){return this.children.reduce(function(m,S){return m+S.length()},0)},p.prototype.moveChildren=function(m,S){this.children.forEach(function(w){m.insertBefore(w,S)})},p.prototype.optimize=function(m){if(v.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var S=h.create(this.statics.defaultChild);this.appendChild(S),S.optimize(m)}else this.remove()},p.prototype.path=function(m,S){S===void 0&&(S=!1);var w=this.children.find(m,S),_=w[0],E=w[1],T=[[this,m]];return _ instanceof p?T.concat(_.path(E,S)):(_!=null&&T.push([_,E]),T)},p.prototype.removeChild=function(m){this.children.remove(m)},p.prototype.replace=function(m){m instanceof p&&m.moveChildren(this),v.prototype.replace.call(this,m)},p.prototype.split=function(m,S){if(S===void 0&&(S=!1),!S){if(m===0)return this;if(m===this.length())return this.next}var w=this.clone();return this.parent.insertBefore(w,this.next),this.children.forEachAt(m,this.length(),function(_,E,T){_=_.split(E,S),w.appendChild(_)}),w},p.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},p.prototype.update=function(m,S){var w=this,_=[],E=[];m.forEach(function(T){T.target===w.domNode&&T.type==="childList"&&(_.push.apply(_,T.addedNodes),E.push.apply(E,T.removedNodes))}),E.forEach(function(T){if(!(T.parentNode!=null&&T.tagName!=="IFRAME"&&document.body.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var O=h.find(T);O!=null&&(O.domNode.parentNode==null||O.domNode.parentNode===w.domNode)&&O.detach()}}),_.filter(function(T){return T.parentNode==w.domNode}).sort(function(T,O){return T===O?0:T.compareDocumentPosition(O)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(T){var O=null;T.nextSibling!=null&&(O=h.find(T.nextSibling));var A=y(T);(A.next!=O||A.next==null)&&(A.parent!=null&&A.parent.removeChild(w),w.insertBefore(A,O||void 0))})},p}(f.default);function y(v){var p=h.find(v);if(p==null)try{p=h.create(v)}catch{p=h.create(h.Scope.INLINE),[].slice.call(v.childNodes).forEach(function(S){p.domNode.appendChild(S)}),v.parentNode&&v.parentNode.replaceChild(p.domNode,v),p.attach()}return p}i.default=g},function(t,i,o){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var S in m)m.hasOwnProperty(S)&&(p[S]=m[S])};return function(p,m){v(p,m);function S(){this.constructor=p}p.prototype=m===null?Object.create(m):(S.prototype=m.prototype,new S)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(12),f=o(31),h=o(17),g=o(1),y=function(v){a(p,v);function p(m){var S=v.call(this,m)||this;return S.attributes=new f.default(S.domNode),S}return p.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},p.prototype.format=function(m,S){var w=g.query(m);w instanceof u.default?this.attributes.attribute(w,S):S&&w!=null&&(m!==this.statics.blotName||this.formats()[m]!==S)&&this.replaceWith(m,S)},p.prototype.formats=function(){var m=this.attributes.values(),S=this.statics.formats(this.domNode);return S!=null&&(m[this.statics.blotName]=S),m},p.prototype.replaceWith=function(m,S){var w=v.prototype.replaceWith.call(this,m,S);return this.attributes.copy(w),w},p.prototype.update=function(m,S){var w=this;v.prototype.update.call(this,m,S),m.some(function(_){return _.target===w.domNode&&_.type==="attributes"})&&this.attributes.build()},p.prototype.wrap=function(m,S){var w=v.prototype.wrap.call(this,m,S);return w instanceof p&&w.statics.scope===this.statics.scope&&this.attributes.move(w),w},p}(h.default);i.default=y},function(t,i,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var p in v)v.hasOwnProperty(p)&&(y[p]=v[p])};return function(y,v){g(y,v);function p(){this.constructor=y}y.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(30),f=o(1),h=function(g){a(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.value=function(v){return!0},y.prototype.index=function(v,p){return this.domNode===v||this.domNode.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(p,1):-1},y.prototype.position=function(v,p){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return v>0&&(m+=1),[this.parent.domNode,m]},y.prototype.value=function(){var v;return v={},v[this.statics.blotName]=this.statics.value(this.domNode)||!0,v},y.scope=f.Scope.INLINE_BLOT,y}(u.default);i.default=h},function(t,i,o){var a=o(11),u=o(3),f={attributes:{compose:function(g,y,v){typeof g!="object"&&(g={}),typeof y!="object"&&(y={});var p=u(!0,{},y);v||(p=Object.keys(p).reduce(function(S,w){return p[w]!=null&&(S[w]=p[w]),S},{}));for(var m in g)g[m]!==void 0&&y[m]===void 0&&(p[m]=g[m]);return Object.keys(p).length>0?p:void 0},diff:function(g,y){typeof g!="object"&&(g={}),typeof y!="object"&&(y={});var v=Object.keys(g).concat(Object.keys(y)).reduce(function(p,m){return a(g[m],y[m])||(p[m]=y[m]===void 0?null:y[m]),p},{});return Object.keys(v).length>0?v:void 0},transform:function(g,y,v){if(typeof g!="object")return y;if(typeof y=="object"){if(!v)return y;var p=Object.keys(y).reduce(function(m,S){return g[S]===void 0&&(m[S]=y[S]),m},{});return Object.keys(p).length>0?p:void 0}}},iterator:function(g){return new h(g)},length:function(g){return typeof g.delete=="number"?g.delete:typeof g.retain=="number"?g.retain:typeof g.insert=="string"?g.insert.length:1}};function h(g){this.ops=g,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(g){g||(g=1/0);var y=this.ops[this.index];if(y){var v=this.offset,p=f.length(y);if(g>=p-v?(g=p-v,this.index+=1,this.offset=0):this.offset+=g,typeof y.delete=="number")return{delete:g};var m={};return y.attributes&&(m.attributes=y.attributes),typeof y.retain=="number"?m.retain=g:typeof y.insert=="string"?m.insert=y.insert.substr(v,g):m.insert=y.insert,m}else return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?f.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var g=this.offset,y=this.index,v=this.next(),p=this.ops.slice(this.index);return this.offset=g,this.index=y,[v].concat(p)}else return[]},t.exports=f},function(t,i){var o=function(){function a(w,_){return _!=null&&w instanceof _}var u;try{u=Map}catch{u=function(){}}var f;try{f=Set}catch{f=function(){}}var h;try{h=Promise}catch{h=function(){}}function g(w,_,E,T,O){typeof _=="object"&&(E=_.depth,T=_.prototype,O=_.includeNonEnumerable,_=_.circular);var A=[],M=[],F=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof E>"u"&&(E=1/0);function P(x,D){if(x===null)return null;if(D===0)return x;var C,I;if(typeof x!="object")return x;if(a(x,u))C=new u;else if(a(x,f))C=new f;else if(a(x,h))C=new h(function($,j){x.then(function(U){$(P(U,D-1))},function(U){j(P(U,D-1))})});else if(g.__isArray(x))C=[];else if(g.__isRegExp(x))C=new RegExp(x.source,S(x)),x.lastIndex&&(C.lastIndex=x.lastIndex);else if(g.__isDate(x))C=new Date(x.getTime());else{if(F&&Buffer.isBuffer(x))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(x.length):C=new Buffer(x.length),x.copy(C),C;a(x,Error)?C=Object.create(x):typeof T>"u"?(I=Object.getPrototypeOf(x),C=Object.create(I)):(C=Object.create(T),I=T)}if(_){var L=A.indexOf(x);if(L!=-1)return M[L];A.push(x),M.push(C)}a(x,u)&&x.forEach(function($,j){var U=P(j,D-1),K=P($,D-1);C.set(U,K)}),a(x,f)&&x.forEach(function($){var j=P($,D-1);C.add(j)});for(var N in x){var H;I&&(H=Object.getOwnPropertyDescriptor(I,N)),!(H&&H.set==null)&&(C[N]=P(x[N],D-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(x),N=0;N<G.length;N++){var re=G[N],ne=Object.getOwnPropertyDescriptor(x,re);ne&&!ne.enumerable&&!O||(C[re]=P(x[re],D-1),ne.enumerable||Object.defineProperty(C,re,{enumerable:!1}))}if(O)for(var ie=Object.getOwnPropertyNames(x),N=0;N<ie.length;N++){var Y=ie[N],ne=Object.getOwnPropertyDescriptor(x,Y);ne&&ne.enumerable||(C[Y]=P(x[Y],D-1),Object.defineProperty(C,Y,{enumerable:!1}))}return C}return P(w,E)}g.clonePrototype=function(_){if(_===null)return null;var E=function(){};return E.prototype=_,new E};function y(w){return Object.prototype.toString.call(w)}g.__objToStr=y;function v(w){return typeof w=="object"&&y(w)==="[object Date]"}g.__isDate=v;function p(w){return typeof w=="object"&&y(w)==="[object Array]"}g.__isArray=p;function m(w){return typeof w=="object"&&y(w)==="[object RegExp]"}g.__isRegExp=m;function S(w){var _="";return w.global&&(_+="g"),w.ignoreCase&&(_+="i"),w.multiline&&(_+="m"),_}return g.__getRegExpFlags=S,g}();typeof t=="object"&&t.exports&&(t.exports=o)},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function C(I,L){var N=[],H=!0,G=!1,re=void 0;try{for(var ne=I[Symbol.iterator](),ie;!(H=(ie=ne.next()).done)&&(N.push(ie.value),!(L&&N.length===L));H=!0);}catch(Y){G=!0,re=Y}finally{try{!H&&ne.return&&ne.return()}finally{if(G)throw re}}return N}return function(I,L){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return C(I,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function C(I,L){for(var N=0;N<L.length;N++){var H=L[N];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(I,H.key,H)}}return function(I,L,N){return L&&C(I.prototype,L),N&&C(I,N),I}}(),f=function C(I,L,N){I===null&&(I=Function.prototype);var H=Object.getOwnPropertyDescriptor(I,L);if(H===void 0){var G=Object.getPrototypeOf(I);return G===null?void 0:C(G,L,N)}else{if("value"in H)return H.value;var re=H.get;return re===void 0?void 0:re.call(N)}},h=o(0),g=A(h),y=o(8),v=A(y),p=o(4),m=A(p),S=o(16),w=A(S),_=o(13),E=A(_),T=o(25),O=A(T);function A(C){return C&&C.__esModule?C:{default:C}}function M(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function F(C,I){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:C}function P(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(C,I):C.__proto__=I)}function x(C){return C instanceof m.default||C instanceof p.BlockEmbed}var D=function(C){P(I,C);function I(L,N){M(this,I);var H=F(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L));return H.emitter=N.emitter,Array.isArray(N.whitelist)&&(H.whitelist=N.whitelist.reduce(function(G,re){return G[re]=!0,G},{})),H.domNode.addEventListener("DOMNodeInserted",function(){}),H.optimize(),H.enable(),H}return u(I,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,H){var G=this.line(N),re=a(G,2),ne=re[0],ie=re[1],Y=this.line(N+H),$=a(Y,1),j=$[0];if(f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,N,H),j!=null&&ne!==j&&ie>0){if(ne instanceof p.BlockEmbed||j instanceof p.BlockEmbed){this.optimize();return}if(ne instanceof E.default){var U=ne.newlineIndex(ne.length(),!0);if(U>-1&&(ne=ne.split(U+1),ne===j)){this.optimize();return}}else if(j instanceof E.default){var K=j.newlineIndex(0);K>-1&&j.split(K+1)}var ee=j.children.head instanceof w.default?null:j.children.head;ne.moveChildren(j,ee),ne.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,H,G,re){this.whitelist!=null&&!this.whitelist[G]||(f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,N,H,G,re),this.optimize())}},{key:"insertAt",value:function(N,H,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[H])){if(N>=this.length())if(G==null||g.default.query(H,g.default.Scope.BLOCK)==null){var re=g.default.create(this.statics.defaultChild);this.appendChild(re),G==null&&H.endsWith(`
`)&&(H=H.slice(0,-1)),re.insertAt(0,H,G)}else{var ne=g.default.create(H,G);this.appendChild(ne)}else f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,N,H,G);this.optimize()}}},{key:"insertBefore",value:function(N,H){if(N.statics.scope===g.default.Scope.INLINE_BLOT){var G=g.default.create(this.statics.defaultChild);G.appendChild(N),N=G}f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,N,H)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(x,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function re(ne,ie,Y){var $=[],j=Y;return ne.children.forEachAt(ie,Y,function(U,K,ee){x(U)?$.push(U):U instanceof g.default.Container&&($=$.concat(re(U,K,j))),j-=ee}),$};return G(this,N,H)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,N,H),N.length>0&&this.emitter.emit(v.default.events.SCROLL_OPTIMIZE,N,H))}},{key:"path",value:function(N){return f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var H=v.default.sources.USER;typeof N=="string"&&(H=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(v.default.events.SCROLL_BEFORE_UPDATE,H,N),f(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(v.default.events.SCROLL_UPDATE,H,N)}}}]),I}(g.default.Scroll);D.blotName="scroll",D.className="ql-editor",D.tagName="DIV",D.defaultChild="block",D.allowedChildren=[m.default,p.BlockEmbed,O.default],i.default=D},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SHORTKEY=i.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},u=function(){function z(X,oe){var se=[],pe=!0,Ie=!1,Le=void 0;try{for(var Ve=X[Symbol.iterator](),Ke;!(pe=(Ke=Ve.next()).done)&&(se.push(Ke.value),!(oe&&se.length===oe));pe=!0);}catch(Qe){Ie=!0,Le=Qe}finally{try{!pe&&Ve.return&&Ve.return()}finally{if(Ie)throw Le}}return se}return function(X,oe){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return z(X,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function z(X,oe){for(var se=0;se<oe.length;se++){var pe=oe[se];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(X,pe.key,pe)}}return function(X,oe,se){return oe&&z(X.prototype,oe),se&&z(X,se),X}}(),h=o(21),g=C(h),y=o(11),v=C(y),p=o(3),m=C(p),S=o(2),w=C(S),_=o(20),E=C(_),T=o(0),O=C(T),A=o(5),M=C(A),F=o(10),P=C(F),x=o(9),D=C(x);function C(z){return z&&z.__esModule?z:{default:z}}function I(z,X,oe){return X in z?Object.defineProperty(z,X,{value:oe,enumerable:!0,configurable:!0,writable:!0}):z[X]=oe,z}function L(z,X){if(!(z instanceof X))throw new TypeError("Cannot call a class as a function")}function N(z,X){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:z}function H(z,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);z.prototype=Object.create(X&&X.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(z,X):z.__proto__=X)}var G=(0,P.default)("quill:keyboard"),re=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",ne=function(z){H(X,z),f(X,null,[{key:"match",value:function(se,pe){return pe=Z(pe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ie){return!!pe[Ie]!==se[Ie]&&pe[Ie]!==null})?!1:pe.key===(se.which||se.keyCode)}}]);function X(oe,se){L(this,X);var pe=N(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,oe,se));return pe.bindings={},Object.keys(pe.options.bindings).forEach(function(Ie){Ie==="list autofill"&&oe.scroll.whitelist!=null&&!oe.scroll.whitelist.list||pe.options.bindings[Ie]&&pe.addBinding(pe.options.bindings[Ie])}),pe.addBinding({key:X.keys.ENTER,shiftKey:null},U),pe.addBinding({key:X.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(pe.addBinding({key:X.keys.BACKSPACE},{collapsed:!0},Y),pe.addBinding({key:X.keys.DELETE},{collapsed:!0},$)):(pe.addBinding({key:X.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Y),pe.addBinding({key:X.keys.DELETE},{collapsed:!0,suffix:/^.?$/},$)),pe.addBinding({key:X.keys.BACKSPACE},{collapsed:!1},j),pe.addBinding({key:X.keys.DELETE},{collapsed:!1},j),pe.addBinding({key:X.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Y),pe.listen(),pe}return f(X,[{key:"addBinding",value:function(se){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Le=Z(se);if(Le==null||Le.key==null)return G.warn("Attempted to add invalid keyboard binding",Le);typeof pe=="function"&&(pe={handler:pe}),typeof Ie=="function"&&(Ie={handler:Ie}),Le=(0,m.default)(Le,pe,Ie),this.bindings[Le.key]=this.bindings[Le.key]||[],this.bindings[Le.key].push(Le)}},{key:"listen",value:function(){var se=this;this.quill.root.addEventListener("keydown",function(pe){if(!pe.defaultPrevented){var Ie=pe.which||pe.keyCode,Le=(se.bindings[Ie]||[]).filter(function(lt){return X.match(pe,lt)});if(Le.length!==0){var Ve=se.quill.getSelection();if(!(Ve==null||!se.quill.hasFocus())){var Ke=se.quill.getLine(Ve.index),Qe=u(Ke,2),xt=Qe[0],dt=Qe[1],de=se.quill.getLeaf(Ve.index),me=u(de,2),be=me[0],Ae=me[1],ve=Ve.length===0?[be,Ae]:se.quill.getLeaf(Ve.index+Ve.length),Be=u(ve,2),ze=Be[0],We=Be[1],it=be instanceof O.default.Text?be.value().slice(0,Ae):"",at=ze instanceof O.default.Text?ze.value().slice(We):"",nt={collapsed:Ve.length===0,empty:Ve.length===0&&xt.length()<=1,format:se.quill.getFormat(Ve),offset:dt,prefix:it,suffix:at},Fi=Le.some(function(lt){if(lt.collapsed!=null&&lt.collapsed!==nt.collapsed||lt.empty!=null&&lt.empty!==nt.empty||lt.offset!=null&&lt.offset!==nt.offset)return!1;if(Array.isArray(lt.format)){if(lt.format.every(function(Qt){return nt.format[Qt]==null}))return!1}else if(a(lt.format)==="object"&&!Object.keys(lt.format).every(function(Qt){return lt.format[Qt]===!0?nt.format[Qt]!=null:lt.format[Qt]===!1?nt.format[Qt]==null:(0,v.default)(lt.format[Qt],nt.format[Qt])}))return!1;return lt.prefix!=null&&!lt.prefix.test(nt.prefix)||lt.suffix!=null&&!lt.suffix.test(nt.suffix)?!1:lt.handler.call(se,Ve,nt)!==!0});Fi&&pe.preventDefault()}}}})}}]),X}(D.default);ne.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},ne.DEFAULTS={bindings:{bold:ee("bold"),italic:ee("italic"),underline:ee("underline"),indent:{key:ne.keys.TAB,format:["blockquote","indent","list"],handler:function(X,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","+1",M.default.sources.USER)}},outdent:{key:ne.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(X,oe){if(oe.collapsed&&oe.offset!==0)return!0;this.quill.format("indent","-1",M.default.sources.USER)}},"outdent backspace":{key:ne.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(X,oe){oe.format.indent!=null?this.quill.format("indent","-1",M.default.sources.USER):oe.format.list!=null&&this.quill.format("list",!1,M.default.sources.USER)}},"indent code-block":K(!0),"outdent code-block":K(!1),"remove tab":{key:ne.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(X){this.quill.deleteText(X.index-1,1,M.default.sources.USER)}},tab:{key:ne.keys.TAB,handler:function(X){this.quill.history.cutoff();var oe=new w.default().retain(X.index).delete(X.length).insert("	");this.quill.updateContents(oe,M.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(X.index+1,M.default.sources.SILENT)}},"list empty enter":{key:ne.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(X,oe){this.quill.format("list",!1,M.default.sources.USER),oe.format.indent&&this.quill.format("indent",!1,M.default.sources.USER)}},"checklist enter":{key:ne.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(X){var oe=this.quill.getLine(X.index),se=u(oe,2),pe=se[0],Ie=se[1],Le=(0,m.default)({},pe.formats(),{list:"checked"}),Ve=new w.default().retain(X.index).insert(`
`,Le).retain(pe.length()-Ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ve,M.default.sources.USER),this.quill.setSelection(X.index+1,M.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:ne.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(X,oe){var se=this.quill.getLine(X.index),pe=u(se,2),Ie=pe[0],Le=pe[1],Ve=new w.default().retain(X.index).insert(`
`,oe.format).retain(Ie.length()-Le-1).retain(1,{header:null});this.quill.updateContents(Ve,M.default.sources.USER),this.quill.setSelection(X.index+1,M.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(X,oe){var se=oe.prefix.length,pe=this.quill.getLine(X.index),Ie=u(pe,2),Le=Ie[0],Ve=Ie[1];if(Ve>se)return!0;var Ke=void 0;switch(oe.prefix.trim()){case"[]":case"[ ]":Ke="unchecked";break;case"[x]":Ke="checked";break;case"-":case"*":Ke="bullet";break;default:Ke="ordered"}this.quill.insertText(X.index," ",M.default.sources.USER),this.quill.history.cutoff();var Qe=new w.default().retain(X.index-Ve).delete(se+1).retain(Le.length()-2-Ve).retain(1,{list:Ke});this.quill.updateContents(Qe,M.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(X.index-se,M.default.sources.SILENT)}},"code exit":{key:ne.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(X){var oe=this.quill.getLine(X.index),se=u(oe,2),pe=se[0],Ie=se[1],Le=new w.default().retain(X.index+pe.length()-Ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Le,M.default.sources.USER)}},"embed left":ie(ne.keys.LEFT,!1),"embed left shift":ie(ne.keys.LEFT,!0),"embed right":ie(ne.keys.RIGHT,!1),"embed right shift":ie(ne.keys.RIGHT,!0)}};function ie(z,X){var oe,se=z===ne.keys.LEFT?"prefix":"suffix";return oe={key:z,shiftKey:X,altKey:null},I(oe,se,/^$/),I(oe,"handler",function(Ie){var Le=Ie.index;z===ne.keys.RIGHT&&(Le+=Ie.length+1);var Ve=this.quill.getLeaf(Le),Ke=u(Ve,1),Qe=Ke[0];return Qe instanceof O.default.Embed?(z===ne.keys.LEFT?X?this.quill.setSelection(Ie.index-1,Ie.length+1,M.default.sources.USER):this.quill.setSelection(Ie.index-1,M.default.sources.USER):X?this.quill.setSelection(Ie.index,Ie.length+1,M.default.sources.USER):this.quill.setSelection(Ie.index+Ie.length+1,M.default.sources.USER),!1):!0}),oe}function Y(z,X){if(!(z.index===0||this.quill.getLength()<=1)){var oe=this.quill.getLine(z.index),se=u(oe,1),pe=se[0],Ie={};if(X.offset===0){var Le=this.quill.getLine(z.index-1),Ve=u(Le,1),Ke=Ve[0];if(Ke!=null&&Ke.length()>1){var Qe=pe.formats(),xt=this.quill.getFormat(z.index-1,1);Ie=E.default.attributes.diff(Qe,xt)||{}}}var dt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(X.prefix)?2:1;this.quill.deleteText(z.index-dt,dt,M.default.sources.USER),Object.keys(Ie).length>0&&this.quill.formatLine(z.index-dt,dt,Ie,M.default.sources.USER),this.quill.focus()}}function $(z,X){var oe=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(X.suffix)?2:1;if(!(z.index>=this.quill.getLength()-oe)){var se={},pe=0,Ie=this.quill.getLine(z.index),Le=u(Ie,1),Ve=Le[0];if(X.offset>=Ve.length()-1){var Ke=this.quill.getLine(z.index+1),Qe=u(Ke,1),xt=Qe[0];if(xt){var dt=Ve.formats(),de=this.quill.getFormat(z.index,1);se=E.default.attributes.diff(dt,de)||{},pe=xt.length()}}this.quill.deleteText(z.index,oe,M.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine(z.index+pe-1,oe,se,M.default.sources.USER)}}function j(z){var X=this.quill.getLines(z),oe={};if(X.length>1){var se=X[0].formats(),pe=X[X.length-1].formats();oe=E.default.attributes.diff(pe,se)||{}}this.quill.deleteText(z,M.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine(z.index,1,oe,M.default.sources.USER),this.quill.setSelection(z.index,M.default.sources.SILENT),this.quill.focus()}function U(z,X){var oe=this;z.length>0&&this.quill.scroll.deleteAt(z.index,z.length);var se=Object.keys(X.format).reduce(function(pe,Ie){return O.default.query(Ie,O.default.Scope.BLOCK)&&!Array.isArray(X.format[Ie])&&(pe[Ie]=X.format[Ie]),pe},{});this.quill.insertText(z.index,`
`,se,M.default.sources.USER),this.quill.setSelection(z.index+1,M.default.sources.SILENT),this.quill.focus(),Object.keys(X.format).forEach(function(pe){se[pe]==null&&(Array.isArray(X.format[pe])||pe!=="link"&&oe.quill.format(pe,X.format[pe],M.default.sources.USER))})}function K(z){return{key:ne.keys.TAB,shiftKey:!z,format:{"code-block":!0},handler:function(oe){var se=O.default.query("code-block"),pe=oe.index,Ie=oe.length,Le=this.quill.scroll.descendant(se,pe),Ve=u(Le,2),Ke=Ve[0],Qe=Ve[1];if(Ke!=null){var xt=this.quill.getIndex(Ke),dt=Ke.newlineIndex(Qe,!0)+1,de=Ke.newlineIndex(xt+Qe+Ie),me=Ke.domNode.textContent.slice(dt,de).split(`
`);Qe=0,me.forEach(function(be,Ae){z?(Ke.insertAt(dt+Qe,se.TAB),Qe+=se.TAB.length,Ae===0?pe+=se.TAB.length:Ie+=se.TAB.length):be.startsWith(se.TAB)&&(Ke.deleteAt(dt+Qe,se.TAB.length),Qe-=se.TAB.length,Ae===0?pe-=se.TAB.length:Ie-=se.TAB.length),Qe+=be.length+1}),this.quill.update(M.default.sources.USER),this.quill.setSelection(pe,Ie,M.default.sources.SILENT)}}}}function ee(z){return{key:z[0].toUpperCase(),shortKey:!0,handler:function(oe,se){this.quill.format(z,!se.format[z],M.default.sources.USER)}}}function Z(z){if(typeof z=="string"||typeof z=="number")return Z({key:z});if((typeof z>"u"?"undefined":a(z))==="object"&&(z=(0,g.default)(z,!1)),typeof z.key=="string")if(ne.keys[z.key.toUpperCase()]!=null)z.key=ne.keys[z.key.toUpperCase()];else if(z.key.length===1)z.key=z.key.toUpperCase().charCodeAt(0);else return null;return z.shortKey&&(z[re]=z.shortKey,delete z.shortKey),z}i.default=ne,i.SHORTKEY=re},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function E(T,O){var A=[],M=!0,F=!1,P=void 0;try{for(var x=T[Symbol.iterator](),D;!(M=(D=x.next()).done)&&(A.push(D.value),!(O&&A.length===O));M=!0);}catch(C){F=!0,P=C}finally{try{!M&&x.return&&x.return()}finally{if(F)throw P}}return A}return function(T,O){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return E(T,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function E(T,O,A){T===null&&(T=Function.prototype);var M=Object.getOwnPropertyDescriptor(T,O);if(M===void 0){var F=Object.getPrototypeOf(T);return F===null?void 0:E(F,O,A)}else{if("value"in M)return M.value;var P=M.get;return P===void 0?void 0:P.call(A)}},f=function(){function E(T,O){for(var A=0;A<O.length;A++){var M=O[A];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,O,A){return O&&E(T.prototype,O),A&&E(T,A),T}}(),h=o(0),g=p(h),y=o(7),v=p(y);function p(E){return E&&E.__esModule?E:{default:E}}function m(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function S(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function w(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var _=function(E){w(T,E),f(T,null,[{key:"value",value:function(){}}]);function T(O,A){m(this,T);var M=S(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O));return M.selection=A,M.textNode=document.createTextNode(T.CONTENTS),M.domNode.appendChild(M.textNode),M._length=0,M}return f(T,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(A,M){if(this._length!==0)return u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,A,M);for(var F=this,P=0;F!=null&&F.statics.scope!==g.default.Scope.BLOCK_BLOT;)P+=F.offset(F.parent),F=F.parent;F!=null&&(this._length=T.CONTENTS.length,F.optimize(),F.formatAt(P,T.CONTENTS.length,A,M),this._length=0)}},{key:"index",value:function(A,M){return A===this.textNode?0:u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"index",this).call(this,A,M)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var A=this.textNode,M=this.selection.getNativeRange(),F=void 0,P=void 0,x=void 0;if(M!=null&&M.start.node===A&&M.end.node===A){var D=[A,M.start.offset,M.end.offset];F=D[0],P=D[1],x=D[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==T.CONTENTS){var C=this.textNode.data.split(T.CONTENTS).join("");this.next instanceof v.default?(F=this.next.domNode,this.next.insertAt(0,C),this.textNode.data=T.CONTENTS):(this.textNode.data=C,this.parent.insertBefore(g.default.create(this.textNode),this),this.textNode=document.createTextNode(T.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),P!=null){var I=[P,x].map(function(N){return Math.max(0,Math.min(F.data.length,N-1))}),L=a(I,2);return P=L[0],x=L[1],{startNode:F,startOffset:P,endNode:F,endOffset:x}}}}},{key:"update",value:function(A,M){var F=this;if(A.some(function(x){return x.type==="characterData"&&x.target===F.textNode})){var P=this.restore();P&&(M.range=P)}}},{key:"value",value:function(){return""}}]),T}(g.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",i.default=_},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(0),u=g(a),f=o(4),h=g(f);function g(S){return S&&S.__esModule?S:{default:S}}function y(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function v(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function p(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var m=function(S){p(w,S);function w(){return y(this,w),v(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return w}(u.default.Container);m.allowedChildren=[h.default,f.BlockEmbed,m],i.default=m},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.ColorStyle=i.ColorClass=i.ColorAttributor=void 0;var a=function(){function _(E,T){for(var O=0;O<T.length;O++){var A=T[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,T,O){return T&&_(E.prototype,T),O&&_(E,O),E}}(),u=function _(E,T,O){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,T);if(A===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:_(M,T,O)}else{if("value"in A)return A.value;var F=A.get;return F===void 0?void 0:F.call(O)}},f=o(0),h=g(f);function g(_){return _&&_.__esModule?_:{default:_}}function y(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function v(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function p(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var m=function(_){p(E,_);function E(){return y(this,E),v(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"value",value:function(O){var A=u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,O);return A.startsWith("rgb(")?(A=A.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+A.split(",").map(function(M){return("00"+parseInt(M).toString(16)).slice(-2)}).join("")):A}}]),E}(h.default.Attributor.Style),S=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),w=new m("color","color",{scope:h.default.Scope.INLINE});i.ColorAttributor=m,i.ColorClass=S,i.ColorStyle=w},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.sanitize=i.default=void 0;var a=function(){function w(_,E){for(var T=0;T<E.length;T++){var O=E[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,E,T){return E&&w(_.prototype,E),T&&w(_,T),_}}(),u=function w(_,E,T){_===null&&(_=Function.prototype);var O=Object.getOwnPropertyDescriptor(_,E);if(O===void 0){var A=Object.getPrototypeOf(_);return A===null?void 0:w(A,E,T)}else{if("value"in O)return O.value;var M=O.get;return M===void 0?void 0:M.call(T)}},f=o(6),h=g(f);function g(w){return w&&w.__esModule?w:{default:w}}function y(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function v(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function p(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var m=function(w){p(_,w);function _(){return y(this,_),v(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(T,O){if(T!==this.statics.blotName||!O)return u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,T,O);O=this.constructor.sanitize(O),this.domNode.setAttribute("href",O)}}],[{key:"create",value:function(T){var O=u(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,T);return T=this.sanitize(T),O.setAttribute("href",T),O.setAttribute("rel","noopener noreferrer"),O.setAttribute("target","_blank"),O}},{key:"formats",value:function(T){return T.getAttribute("href")}},{key:"sanitize",value:function(T){return S(T,this.PROTOCOL_WHITELIST)?T:this.SANITIZED_URL}}]),_}(h.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function S(w,_){var E=document.createElement("a");E.href=w;var T=E.href.slice(0,E.href.indexOf(":"));return _.indexOf(T)>-1}i.default=m,i.sanitize=S},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},u=function(){function _(E,T){for(var O=0;O<T.length;O++){var A=T[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,T,O){return T&&_(E.prototype,T),O&&_(E,O),E}}(),f=o(23),h=v(f),g=o(107),y=v(g);function v(_){return _&&_.__esModule?_:{default:_}}function p(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}var m=0;function S(_,E){_.setAttribute(E,_.getAttribute(E)!=="true")}var w=function(){function _(E){var T=this;p(this,_),this.select=E,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){T.togglePicker()}),this.label.addEventListener("keydown",function(O){switch(O.keyCode){case h.default.keys.ENTER:T.togglePicker();break;case h.default.keys.ESCAPE:T.escape(),O.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return u(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),S(this.label,"aria-expanded"),S(this.options,"aria-hidden")}},{key:"buildItem",value:function(T){var O=this,A=document.createElement("span");return A.tabIndex="0",A.setAttribute("role","button"),A.classList.add("ql-picker-item"),T.hasAttribute("value")&&A.setAttribute("data-value",T.getAttribute("value")),T.textContent&&A.setAttribute("data-label",T.textContent),A.addEventListener("click",function(){O.selectItem(A,!0)}),A.addEventListener("keydown",function(M){switch(M.keyCode){case h.default.keys.ENTER:O.selectItem(A,!0),M.preventDefault();break;case h.default.keys.ESCAPE:O.escape(),M.preventDefault();break}}),A}},{key:"buildLabel",value:function(){var T=document.createElement("span");return T.classList.add("ql-picker-label"),T.innerHTML=y.default,T.tabIndex="0",T.setAttribute("role","button"),T.setAttribute("aria-expanded","false"),this.container.appendChild(T),T}},{key:"buildOptions",value:function(){var T=this,O=document.createElement("span");O.classList.add("ql-picker-options"),O.setAttribute("aria-hidden","true"),O.tabIndex="-1",O.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",O.id),this.options=O,[].slice.call(this.select.options).forEach(function(A){var M=T.buildItem(A);O.appendChild(M),A.selected===!0&&T.selectItem(M)}),this.container.appendChild(O)}},{key:"buildPicker",value:function(){var T=this;[].slice.call(this.select.attributes).forEach(function(O){T.container.setAttribute(O.name,O.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var T=this;this.close(),setTimeout(function(){return T.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(T){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=this.container.querySelector(".ql-selected");if(T!==A&&(A!=null&&A.classList.remove("ql-selected"),T!=null&&(T.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(T.parentNode.children,T),T.hasAttribute("data-value")?this.label.setAttribute("data-value",T.getAttribute("data-value")):this.label.removeAttribute("data-value"),T.hasAttribute("data-label")?this.label.setAttribute("data-label",T.getAttribute("data-label")):this.label.removeAttribute("data-label"),O))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var M=document.createEvent("Event");M.initEvent("change",!0,!0),this.select.dispatchEvent(M)}this.close()}}},{key:"update",value:function(){var T=void 0;if(this.select.selectedIndex>-1){var O=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];T=this.select.options[this.select.selectedIndex],this.selectItem(O)}else this.selectItem(null);var A=T!=null&&T!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",A)}}]),_}();i.default=w},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(0),u=G(a),f=o(5),h=G(f),g=o(4),y=G(g),v=o(16),p=G(v),m=o(25),S=G(m),w=o(24),_=G(w),E=o(35),T=G(E),O=o(6),A=G(O),M=o(22),F=G(M),P=o(7),x=G(P),D=o(55),C=G(D),I=o(42),L=G(I),N=o(23),H=G(N);function G(re){return re&&re.__esModule?re:{default:re}}h.default.register({"blots/block":y.default,"blots/block/embed":g.BlockEmbed,"blots/break":p.default,"blots/container":S.default,"blots/cursor":_.default,"blots/embed":T.default,"blots/inline":A.default,"blots/scroll":F.default,"blots/text":x.default,"modules/clipboard":C.default,"modules/history":L.default,"modules/keyboard":H.default}),u.default.register(y.default,p.default,_.default,A.default,F.default,x.default),i.default=h.default},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(1),u=function(){function f(h){this.domNode=h,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(f.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),f.create=function(h){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var g;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),typeof h=="number"?g=document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?g=document.createElement(h):g=document.createElement(this.tagName[0])):g=document.createElement(this.tagName),this.className&&g.classList.add(this.className),g},f.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},f.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return a.create(h)},f.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},f.prototype.deleteAt=function(h,g){var y=this.isolate(h,g);y.remove()},f.prototype.formatAt=function(h,g,y,v){var p=this.isolate(h,g);if(a.query(y,a.Scope.BLOT)!=null&&v)p.wrap(y,v);else if(a.query(y,a.Scope.ATTRIBUTE)!=null){var m=a.create(this.statics.scope);p.wrap(m),m.format(y,v)}},f.prototype.insertAt=function(h,g,y){var v=y==null?a.create("text",g):a.create(g,y),p=this.split(h);this.parent.insertBefore(v,p)},f.prototype.insertInto=function(h,g){g===void 0&&(g=null),this.parent!=null&&this.parent.children.remove(this);var y=null;h.children.insertBefore(this,g),g!=null&&(y=g.domNode),(this.domNode.parentNode!=h.domNode||this.domNode.nextSibling!=y)&&h.domNode.insertBefore(this.domNode,y),this.parent=h,this.attach()},f.prototype.isolate=function(h,g){var y=this.split(h);return y.split(g),y},f.prototype.length=function(){return 1},f.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},f.prototype.optimize=function(h){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},f.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},f.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},f.prototype.replaceWith=function(h,g){var y=typeof h=="string"?a.create(h,g):h;return y.replace(this),y},f.prototype.split=function(h,g){return h===0?this:this.next},f.prototype.update=function(h,g){},f.prototype.wrap=function(h,g){var y=typeof h=="string"?a.create(h,g):h;return this.parent!=null&&this.parent.insertBefore(y,this.next),y.appendChild(this),y},f.blotName="abstract",f}();i.default=u},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(12),u=o(32),f=o(33),h=o(1),g=function(){function y(v){this.attributes={},this.domNode=v,this.build()}return y.prototype.attribute=function(v,p){p?v.add(this.domNode,p)&&(v.value(this.domNode)!=null?this.attributes[v.attrName]=v:delete this.attributes[v.attrName]):(v.remove(this.domNode),delete this.attributes[v.attrName])},y.prototype.build=function(){var v=this;this.attributes={};var p=a.default.keys(this.domNode),m=u.default.keys(this.domNode),S=f.default.keys(this.domNode);p.concat(m).concat(S).forEach(function(w){var _=h.query(w,h.Scope.ATTRIBUTE);_ instanceof a.default&&(v.attributes[_.attrName]=_)})},y.prototype.copy=function(v){var p=this;Object.keys(this.attributes).forEach(function(m){var S=p.attributes[m].value(p.domNode);v.format(m,S)})},y.prototype.move=function(v){var p=this;this.copy(v),Object.keys(this.attributes).forEach(function(m){p.attributes[m].remove(p.domNode)}),this.attributes={}},y.prototype.values=function(){var v=this;return Object.keys(this.attributes).reduce(function(p,m){return p[m]=v.attributes[m].value(v.domNode),p},{})},y}();i.default=g},function(t,i,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var p in v)v.hasOwnProperty(p)&&(y[p]=v[p])};return function(y,v){g(y,v);function p(){this.constructor=y}y.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(12);function f(g,y){var v=g.getAttribute("class")||"";return v.split(/\s+/).filter(function(p){return p.indexOf(y+"-")===0})}var h=function(g){a(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.keys=function(v){return(v.getAttribute("class")||"").split(/\s+/).map(function(p){return p.split("-").slice(0,-1).join("-")})},y.prototype.add=function(v,p){return this.canAdd(v,p)?(this.remove(v),v.classList.add(this.keyName+"-"+p),!0):!1},y.prototype.remove=function(v){var p=f(v,this.keyName);p.forEach(function(m){v.classList.remove(m)}),v.classList.length===0&&v.removeAttribute("class")},y.prototype.value=function(v){var p=f(v,this.keyName)[0]||"",m=p.slice(this.keyName.length+1);return this.canAdd(v,m)?m:""},y}(u.default);i.default=h},function(t,i,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var p in v)v.hasOwnProperty(p)&&(y[p]=v[p])};return function(y,v){g(y,v);function p(){this.constructor=y}y.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(12);function f(g){var y=g.split("-"),v=y.slice(1).map(function(p){return p[0].toUpperCase()+p.slice(1)}).join("");return y[0]+v}var h=function(g){a(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.keys=function(v){return(v.getAttribute("style")||"").split(";").map(function(p){var m=p.split(":");return m[0].trim()})},y.prototype.add=function(v,p){return this.canAdd(v,p)?(v.style[f(this.keyName)]=p,!0):!1},y.prototype.remove=function(v){v.style[f(this.keyName)]="",v.getAttribute("style")||v.removeAttribute("style")},y.prototype.value=function(v){var p=v.style[f(this.keyName)];return this.canAdd(v,p)?p:""},y}(u.default);i.default=h},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function h(g,y){for(var v=0;v<y.length;v++){var p=y[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(g,p.key,p)}}return function(g,y,v){return y&&h(g.prototype,y),v&&h(g,v),g}}();function u(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(g,y){u(this,h),this.quill=g,this.options=y,this.modules={}}return a(h,[{key:"init",value:function(){var y=this;Object.keys(this.options.modules).forEach(function(v){y.modules[v]==null&&y.addModule(v)})}},{key:"addModule",value:function(y){var v=this.quill.constructor.import("modules/"+y);return this.modules[y]=new v(this.quill,this.options.modules[y]||{}),this.modules[y]}}]),h}();f.DEFAULTS={modules:{}},f.themes={default:f},i.default=f},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function E(T,O){for(var A=0;A<O.length;A++){var M=O[A];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,O,A){return O&&E(T.prototype,O),A&&E(T,A),T}}(),u=function E(T,O,A){T===null&&(T=Function.prototype);var M=Object.getOwnPropertyDescriptor(T,O);if(M===void 0){var F=Object.getPrototypeOf(T);return F===null?void 0:E(F,O,A)}else{if("value"in M)return M.value;var P=M.get;return P===void 0?void 0:P.call(A)}},f=o(0),h=v(f),g=o(7),y=v(g);function v(E){return E&&E.__esModule?E:{default:E}}function p(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function m(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function S(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var w="\uFEFF",_=function(E){S(T,E);function T(O){p(this,T);var A=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,O));return A.contentNode=document.createElement("span"),A.contentNode.setAttribute("contenteditable",!1),[].slice.call(A.domNode.childNodes).forEach(function(M){A.contentNode.appendChild(M)}),A.leftGuard=document.createTextNode(w),A.rightGuard=document.createTextNode(w),A.domNode.appendChild(A.leftGuard),A.domNode.appendChild(A.contentNode),A.domNode.appendChild(A.rightGuard),A}return a(T,[{key:"index",value:function(A,M){return A===this.leftGuard?0:A===this.rightGuard?1:u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"index",this).call(this,A,M)}},{key:"restore",value:function(A){var M=void 0,F=void 0,P=A.data.split(w).join("");if(A===this.leftGuard)if(this.prev instanceof y.default){var x=this.prev.length();this.prev.insertAt(x,P),M={startNode:this.prev.domNode,startOffset:x+P.length}}else F=document.createTextNode(P),this.parent.insertBefore(h.default.create(F),this),M={startNode:F,startOffset:P.length};else A===this.rightGuard&&(this.next instanceof y.default?(this.next.insertAt(0,P),M={startNode:this.next.domNode,startOffset:P.length}):(F=document.createTextNode(P),this.parent.insertBefore(h.default.create(F),this.next),M={startNode:F,startOffset:P.length}));return A.data=w,M}},{key:"update",value:function(A,M){var F=this;A.forEach(function(P){if(P.type==="characterData"&&(P.target===F.leftGuard||P.target===F.rightGuard)){var x=F.restore(P.target);x&&(M.range=x)}})}}]),T}(h.default.Embed);i.default=_},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.AlignStyle=i.AlignClass=i.AlignAttribute=void 0;var a=o(0),u=f(a);function f(p){return p&&p.__esModule?p:{default:p}}var h={scope:u.default.Scope.BLOCK,whitelist:["right","center","justify"]},g=new u.default.Attributor.Attribute("align","align",h),y=new u.default.Attributor.Class("align","ql-align",h),v=new u.default.Attributor.Style("align","text-align",h);i.AlignAttribute=g,i.AlignClass=y,i.AlignStyle=v},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundStyle=i.BackgroundClass=void 0;var a=o(0),u=h(a),f=o(26);function h(v){return v&&v.__esModule?v:{default:v}}var g=new u.default.Attributor.Class("background","ql-bg",{scope:u.default.Scope.INLINE}),y=new f.ColorAttributor("background","background-color",{scope:u.default.Scope.INLINE});i.BackgroundClass=g,i.BackgroundStyle=y},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.DirectionStyle=i.DirectionClass=i.DirectionAttribute=void 0;var a=o(0),u=f(a);function f(p){return p&&p.__esModule?p:{default:p}}var h={scope:u.default.Scope.BLOCK,whitelist:["rtl"]},g=new u.default.Attributor.Attribute("direction","dir",h),y=new u.default.Attributor.Class("direction","ql-direction",h),v=new u.default.Attributor.Style("direction","direction",h);i.DirectionAttribute=g,i.DirectionClass=y,i.DirectionStyle=v},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.FontClass=i.FontStyle=void 0;var a=function(){function E(T,O){for(var A=0;A<O.length;A++){var M=O[A];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}return function(T,O,A){return O&&E(T.prototype,O),A&&E(T,A),T}}(),u=function E(T,O,A){T===null&&(T=Function.prototype);var M=Object.getOwnPropertyDescriptor(T,O);if(M===void 0){var F=Object.getPrototypeOf(T);return F===null?void 0:E(F,O,A)}else{if("value"in M)return M.value;var P=M.get;return P===void 0?void 0:P.call(A)}},f=o(0),h=g(f);function g(E){return E&&E.__esModule?E:{default:E}}function y(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function v(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function p(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var m={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},S=new h.default.Attributor.Class("font","ql-font",m),w=function(E){p(T,E);function T(){return y(this,T),v(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"value",value:function(A){return u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"value",this).call(this,A).replace(/["']/g,"")}}]),T}(h.default.Attributor.Style),_=new w("font","font-family",m);i.FontStyle=_,i.FontClass=S},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SizeStyle=i.SizeClass=void 0;var a=o(0),u=f(a);function f(y){return y&&y.__esModule?y:{default:y}}var h=new u.default.Attributor.Class("size","ql-size",{scope:u.default.Scope.INLINE,whitelist:["small","large","huge"]}),g=new u.default.Attributor.Style("size","font-size",{scope:u.default.Scope.INLINE,whitelist:["10px","18px","32px"]});i.SizeClass=h,i.SizeStyle=g},function(t,i,o){t.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.getLastChangeIndex=i.default=void 0;var a=function(){function O(A,M){for(var F=0;F<M.length;F++){var P=M[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(A,P.key,P)}}return function(A,M,F){return M&&O(A.prototype,M),F&&O(A,F),A}}(),u=o(0),f=p(u),h=o(5),g=p(h),y=o(9),v=p(y);function p(O){return O&&O.__esModule?O:{default:O}}function m(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}function S(O,A){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:O}function w(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(O,A):O.__proto__=A)}var _=function(O){w(A,O);function A(M,F){m(this,A);var P=S(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,M,F));return P.lastRecorded=0,P.ignoreChange=!1,P.clear(),P.quill.on(g.default.events.EDITOR_CHANGE,function(x,D,C,I){x!==g.default.events.TEXT_CHANGE||P.ignoreChange||(!P.options.userOnly||I===g.default.sources.USER?P.record(D,C):P.transform(D))}),P.quill.keyboard.addBinding({key:"Z",shortKey:!0},P.undo.bind(P)),P.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},P.redo.bind(P)),/Win/i.test(navigator.platform)&&P.quill.keyboard.addBinding({key:"Y",shortKey:!0},P.redo.bind(P)),P}return a(A,[{key:"change",value:function(F,P){if(this.stack[F].length!==0){var x=this.stack[F].pop();this.stack[P].push(x),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(x[F],g.default.sources.USER),this.ignoreChange=!1;var D=T(x[F]);this.quill.setSelection(D)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(F,P){if(F.ops.length!==0){this.stack.redo=[];var x=this.quill.getContents().diff(P),D=Date.now();if(this.lastRecorded+this.options.delay>D&&this.stack.undo.length>0){var C=this.stack.undo.pop();x=x.compose(C.undo),F=C.redo.compose(F)}else this.lastRecorded=D;this.stack.undo.push({redo:F,undo:x}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(F){this.stack.undo.forEach(function(P){P.undo=F.transform(P.undo,!0),P.redo=F.transform(P.redo,!0)}),this.stack.redo.forEach(function(P){P.undo=F.transform(P.undo,!0),P.redo=F.transform(P.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),A}(v.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function E(O){var A=O.ops[O.ops.length-1];return A==null?!1:A.insert!=null?typeof A.insert=="string"&&A.insert.endsWith(`
`):A.attributes!=null?Object.keys(A.attributes).some(function(M){return f.default.query(M,f.default.Scope.BLOCK)!=null}):!1}function T(O){var A=O.reduce(function(F,P){return F+=P.delete||0,F},0),M=O.length()-A;return E(O)&&(M-=1),M}i.default=_,i.getLastChangeIndex=T},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BaseTooltip=void 0;var a=function(){function U(K,ee){for(var Z=0;Z<ee.length;Z++){var z=ee[Z];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(K,z.key,z)}}return function(K,ee,Z){return ee&&U(K.prototype,ee),Z&&U(K,Z),K}}(),u=function U(K,ee,Z){K===null&&(K=Function.prototype);var z=Object.getOwnPropertyDescriptor(K,ee);if(z===void 0){var X=Object.getPrototypeOf(K);return X===null?void 0:U(X,ee,Z)}else{if("value"in z)return z.value;var oe=z.get;return oe===void 0?void 0:oe.call(Z)}},f=o(3),h=D(f),g=o(2),y=D(g),v=o(8),p=D(v),m=o(23),S=D(m),w=o(34),_=D(w),E=o(59),T=D(E),O=o(60),A=D(O),M=o(28),F=D(M),P=o(61),x=D(P);function D(U){return U&&U.__esModule?U:{default:U}}function C(U,K){if(!(U instanceof K))throw new TypeError("Cannot call a class as a function")}function I(U,K){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:U}function L(U,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);U.prototype=Object.create(K&&K.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(U,K):U.__proto__=K)}var N=[!1,"center","right","justify"],H=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],re=["1","2","3",!1],ne=["small",!1,"large","huge"],ie=function(U){L(K,U);function K(ee,Z){C(this,K);var z=I(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ee,Z)),X=function oe(se){if(!document.body.contains(ee.root))return document.body.removeEventListener("click",oe);z.tooltip!=null&&!z.tooltip.root.contains(se.target)&&document.activeElement!==z.tooltip.textbox&&!z.quill.hasFocus()&&z.tooltip.hide(),z.pickers!=null&&z.pickers.forEach(function(pe){pe.container.contains(se.target)||pe.close()})};return ee.emitter.listenDOM("click",document.body,X),z}return a(K,[{key:"addModule",value:function(Z){var z=u(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"addModule",this).call(this,Z);return Z==="toolbar"&&this.extendToolbar(z),z}},{key:"buildButtons",value:function(Z,z){Z.forEach(function(X){var oe=X.getAttribute("class")||"";oe.split(/\s+/).forEach(function(se){if(se.startsWith("ql-")&&(se=se.slice(3),z[se]!=null))if(se==="direction")X.innerHTML=z[se][""]+z[se].rtl;else if(typeof z[se]=="string")X.innerHTML=z[se];else{var pe=X.value||"";pe!=null&&z[se][pe]&&(X.innerHTML=z[se][pe])}})})}},{key:"buildPickers",value:function(Z,z){var X=this;this.pickers=Z.map(function(se){if(se.classList.contains("ql-align"))return se.querySelector("option")==null&&j(se,N),new A.default(se,z.align);if(se.classList.contains("ql-background")||se.classList.contains("ql-color")){var pe=se.classList.contains("ql-background")?"background":"color";return se.querySelector("option")==null&&j(se,H,pe==="background"?"#ffffff":"#000000"),new T.default(se,z[pe])}else return se.querySelector("option")==null&&(se.classList.contains("ql-font")?j(se,G):se.classList.contains("ql-header")?j(se,re):se.classList.contains("ql-size")&&j(se,ne)),new F.default(se)});var oe=function(){X.pickers.forEach(function(pe){pe.update()})};this.quill.on(p.default.events.EDITOR_CHANGE,oe)}}]),K}(_.default);ie.DEFAULTS=(0,h.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var K=this,ee=this.container.querySelector("input.ql-image[type=file]");ee==null&&(ee=document.createElement("input"),ee.setAttribute("type","file"),ee.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ee.classList.add("ql-image"),ee.addEventListener("change",function(){if(ee.files!=null&&ee.files[0]!=null){var Z=new FileReader;Z.onload=function(z){var X=K.quill.getSelection(!0);K.quill.updateContents(new y.default().retain(X.index).delete(X.length).insert({image:z.target.result}),p.default.sources.USER),K.quill.setSelection(X.index+1,p.default.sources.SILENT),ee.value=""},Z.readAsDataURL(ee.files[0])}}),this.container.appendChild(ee)),ee.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Y=function(U){L(K,U);function K(ee,Z){C(this,K);var z=I(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ee,Z));return z.textbox=z.root.querySelector('input[type="text"]'),z.listen(),z}return a(K,[{key:"listen",value:function(){var Z=this;this.textbox.addEventListener("keydown",function(z){S.default.match(z,"enter")?(Z.save(),z.preventDefault()):S.default.match(z,"escape")&&(Z.cancel(),z.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),z!=null?this.textbox.value=z:Z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Z)||""),this.root.setAttribute("data-mode",Z)}},{key:"restoreFocus",value:function(){var Z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Z}},{key:"save",value:function(){var Z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var z=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Z,p.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Z,p.default.sources.USER)),this.quill.root.scrollTop=z;break}case"video":Z=$(Z);case"formula":{if(!Z)break;var X=this.quill.getSelection(!0);if(X!=null){var oe=X.index+X.length;this.quill.insertEmbed(oe,this.root.getAttribute("data-mode"),Z,p.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(oe+1," ",p.default.sources.USER),this.quill.setSelection(oe+2,p.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),K}(x.default);function $(U){var K=U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return K?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=U.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":U}function j(U,K){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;K.forEach(function(Z){var z=document.createElement("option");Z===ee?z.setAttribute("selected","selected"):z.setAttribute("value",Z),U.appendChild(z)})}i.BaseTooltip=Y,i.default=ie},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function u(){this.head=this.tail=null,this.length=0}return u.prototype.append=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];this.insertBefore(f[0],null),f.length>1&&this.append.apply(this,f.slice(1))},u.prototype.contains=function(f){for(var h,g=this.iterator();h=g();)if(h===f)return!0;return!1},u.prototype.insertBefore=function(f,h){f&&(f.next=h,h!=null?(f.prev=h.prev,h.prev!=null&&(h.prev.next=f),h.prev=f,h===this.head&&(this.head=f)):this.tail!=null?(this.tail.next=f,f.prev=this.tail,this.tail=f):(f.prev=null,this.head=this.tail=f),this.length+=1)},u.prototype.offset=function(f){for(var h=0,g=this.head;g!=null;){if(g===f)return h;h+=g.length(),g=g.next}return-1},u.prototype.remove=function(f){this.contains(f)&&(f.prev!=null&&(f.prev.next=f.next),f.next!=null&&(f.next.prev=f.prev),f===this.head&&(this.head=f.next),f===this.tail&&(this.tail=f.prev),this.length-=1)},u.prototype.iterator=function(f){return f===void 0&&(f=this.head),function(){var h=f;return f!=null&&(f=f.next),h}},u.prototype.find=function(f,h){h===void 0&&(h=!1);for(var g,y=this.iterator();g=y();){var v=g.length();if(f<v||h&&f===v&&(g.next==null||g.next.length()!==0))return[g,f];f-=v}return[null,0]},u.prototype.forEach=function(f){for(var h,g=this.iterator();h=g();)f(h)},u.prototype.forEachAt=function(f,h,g){if(!(h<=0))for(var y=this.find(f),v=y[0],p=y[1],m,S=f-p,w=this.iterator(v);(m=w())&&S<f+h;){var _=m.length();f>S?g(m,f-S,Math.min(h,S+_-f)):g(m,0,Math.min(_,f+h-S)),S+=_}},u.prototype.map=function(f){return this.reduce(function(h,g){return h.push(f(g)),h},[])},u.prototype.reduce=function(f,h){for(var g,y=this.iterator();g=y();)h=f(h,g);return h},u}();i.default=a},function(t,i,o){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var S in m)m.hasOwnProperty(S)&&(p[S]=m[S])};return function(p,m){v(p,m);function S(){this.constructor=p}p.prototype=m===null?Object.create(m):(S.prototype=m.prototype,new S)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(17),f=o(1),h={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},g=100,y=function(v){a(p,v);function p(m){var S=v.call(this,m)||this;return S.scroll=S,S.observer=new MutationObserver(function(w){S.update(w)}),S.observer.observe(S.domNode,h),S.attach(),S}return p.prototype.detach=function(){v.prototype.detach.call(this),this.observer.disconnect()},p.prototype.deleteAt=function(m,S){this.update(),m===0&&S===this.length()?this.children.forEach(function(w){w.remove()}):v.prototype.deleteAt.call(this,m,S)},p.prototype.formatAt=function(m,S,w,_){this.update(),v.prototype.formatAt.call(this,m,S,w,_)},p.prototype.insertAt=function(m,S,w){this.update(),v.prototype.insertAt.call(this,m,S,w)},p.prototype.optimize=function(m,S){var w=this;m===void 0&&(m=[]),S===void 0&&(S={}),v.prototype.optimize.call(this,S);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)m.push(_.pop());for(var E=function(M,F){F===void 0&&(F=!0),!(M==null||M===w)&&M.domNode.parentNode!=null&&(M.domNode[f.DATA_KEY].mutations==null&&(M.domNode[f.DATA_KEY].mutations=[]),F&&E(M.parent))},T=function(M){M.domNode[f.DATA_KEY]==null||M.domNode[f.DATA_KEY].mutations==null||(M instanceof u.default&&M.children.forEach(T),M.optimize(S))},O=m,A=0;O.length>0;A+=1){if(A>=g)throw new Error("[Parchment] Maximum optimize iterations reached");for(O.forEach(function(M){var F=f.find(M.target,!0);F!=null&&(F.domNode===M.target&&(M.type==="childList"?(E(f.find(M.previousSibling,!1)),[].forEach.call(M.addedNodes,function(P){var x=f.find(P,!1);E(x,!1),x instanceof u.default&&x.children.forEach(function(D){E(D,!1)})})):M.type==="attributes"&&E(F.prev)),E(F))}),this.children.forEach(T),O=[].slice.call(this.observer.takeRecords()),_=O.slice();_.length>0;)m.push(_.pop())}},p.prototype.update=function(m,S){var w=this;S===void 0&&(S={}),m=m||this.observer.takeRecords(),m.map(function(_){var E=f.find(_.target,!0);return E==null?null:E.domNode[f.DATA_KEY].mutations==null?(E.domNode[f.DATA_KEY].mutations=[_],E):(E.domNode[f.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===w||_.domNode[f.DATA_KEY]==null||_.update(_.domNode[f.DATA_KEY].mutations||[],S)}),this.domNode[f.DATA_KEY].mutations!=null&&v.prototype.update.call(this,this.domNode[f.DATA_KEY].mutations,S),this.optimize(m,S)},p.blotName="scroll",p.defaultChild="block",p.scope=f.Scope.BLOCK_BLOT,p.tagName="DIV",p}(u.default);i.default=y},function(t,i,o){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,p){v.__proto__=p}||function(v,p){for(var m in p)p.hasOwnProperty(m)&&(v[m]=p[m])};return function(v,p){y(v,p);function m(){this.constructor=v}v.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(18),f=o(1);function h(y,v){if(Object.keys(y).length!==Object.keys(v).length)return!1;for(var p in y)if(y[p]!==v[p])return!1;return!0}var g=function(y){a(v,y);function v(){return y!==null&&y.apply(this,arguments)||this}return v.formats=function(p){if(p.tagName!==v.tagName)return y.formats.call(this,p)},v.prototype.format=function(p,m){var S=this;p===this.statics.blotName&&!m?(this.children.forEach(function(w){w instanceof u.default||(w=w.wrap(v.blotName,!0)),S.attributes.copy(w)}),this.unwrap()):y.prototype.format.call(this,p,m)},v.prototype.formatAt=function(p,m,S,w){if(this.formats()[S]!=null||f.query(S,f.Scope.ATTRIBUTE)){var _=this.isolate(p,m);_.format(S,w)}else y.prototype.formatAt.call(this,p,m,S,w)},v.prototype.optimize=function(p){y.prototype.optimize.call(this,p);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var S=this.next;S instanceof v&&S.prev===this&&h(m,S.formats())&&(S.moveChildren(this),S.remove())},v.blotName="inline",v.scope=f.Scope.INLINE_BLOT,v.tagName="SPAN",v}(u.default);i.default=g},function(t,i,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var p in v)v.hasOwnProperty(p)&&(y[p]=v[p])};return function(y,v){g(y,v);function p(){this.constructor=y}y.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(18),f=o(1),h=function(g){a(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.formats=function(v){var p=f.query(y.blotName).tagName;if(v.tagName!==p)return g.formats.call(this,v)},y.prototype.format=function(v,p){f.query(v,f.Scope.BLOCK)!=null&&(v===this.statics.blotName&&!p?this.replaceWith(y.blotName):g.prototype.format.call(this,v,p))},y.prototype.formatAt=function(v,p,m,S){f.query(m,f.Scope.BLOCK)!=null?this.format(m,S):g.prototype.formatAt.call(this,v,p,m,S)},y.prototype.insertAt=function(v,p,m){if(m==null||f.query(p,f.Scope.INLINE)!=null)g.prototype.insertAt.call(this,v,p,m);else{var S=this.split(v),w=f.create(p,m);S.parent.insertBefore(w,S)}},y.prototype.update=function(v,p){navigator.userAgent.match(/Trident/)?this.build():g.prototype.update.call(this,v,p)},y.blotName="block",y.scope=f.Scope.BLOCK_BLOT,y.tagName="P",y}(u.default);i.default=h},function(t,i,o){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var v in y)y.hasOwnProperty(v)&&(g[v]=y[v])};return function(g,y){h(g,y);function v(){this.constructor=g}g.prototype=y===null?Object.create(y):(v.prototype=y.prototype,new v)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(19),f=function(h){a(g,h);function g(){return h!==null&&h.apply(this,arguments)||this}return g.formats=function(y){},g.prototype.format=function(y,v){h.prototype.formatAt.call(this,0,this.length(),y,v)},g.prototype.formatAt=function(y,v,p,m){y===0&&v===this.length()?this.format(p,m):h.prototype.formatAt.call(this,y,v,p,m)},g.prototype.formats=function(){return this.statics.formats(this.domNode)},g}(u.default);i.default=f},function(t,i,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var p in v)v.hasOwnProperty(p)&&(y[p]=v[p])};return function(y,v){g(y,v);function p(){this.constructor=y}y.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(19),f=o(1),h=function(g){a(y,g);function y(v){var p=g.call(this,v)||this;return p.text=p.statics.value(p.domNode),p}return y.create=function(v){return document.createTextNode(v)},y.value=function(v){var p=v.data;return p.normalize&&(p=p.normalize()),p},y.prototype.deleteAt=function(v,p){this.domNode.data=this.text=this.text.slice(0,v)+this.text.slice(v+p)},y.prototype.index=function(v,p){return this.domNode===v?p:-1},y.prototype.insertAt=function(v,p,m){m==null?(this.text=this.text.slice(0,v)+p+this.text.slice(v),this.domNode.data=this.text):g.prototype.insertAt.call(this,v,p,m)},y.prototype.length=function(){return this.text.length},y.prototype.optimize=function(v){g.prototype.optimize.call(this,v),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof y&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},y.prototype.position=function(v,p){return[this.domNode,v]},y.prototype.split=function(v,p){if(p===void 0&&(p=!1),!p){if(v===0)return this;if(v===this.length())return this.next}var m=f.create(this.domNode.splitText(v));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},y.prototype.update=function(v,p){var m=this;v.some(function(S){return S.type==="characterData"&&S.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},y.prototype.value=function(){return this.text},y.blotName="text",y.scope=f.Scope.INLINE_BLOT,y}(u.default);i.default=h},function(t,i,o){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,h){return arguments.length>1&&!this.contains(f)==!h?h:u.call(this,f)}}String.prototype.startsWith||(String.prototype.startsWith=function(f,h){return h=h||0,this.substr(h,f.length)===f}),String.prototype.endsWith||(String.prototype.endsWith=function(f,h){var g=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>g.length)&&(h=g.length),h-=f.length;var y=g.indexOf(f,h);return y!==-1&&y===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(h){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof h!="function")throw new TypeError("predicate must be a function");for(var g=Object(this),y=g.length>>>0,v=arguments[1],p,m=0;m<y;m++)if(p=g[m],h.call(v,p,m,g))return p}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,i){var o=-1,a=1,u=0;function f(A,M,F){if(A==M)return A?[[u,A]]:[];(F<0||A.length<F)&&(F=null);var P=v(A,M),x=A.substring(0,P);A=A.substring(P),M=M.substring(P),P=p(A,M);var D=A.substring(A.length-P);A=A.substring(0,A.length-P),M=M.substring(0,M.length-P);var C=h(A,M);return x&&C.unshift([u,x]),D&&C.push([u,D]),S(C),F!=null&&(C=E(C,F)),C=T(C),C}function h(A,M){var F;if(!A)return[[a,M]];if(!M)return[[o,A]];var P=A.length>M.length?A:M,x=A.length>M.length?M:A,D=P.indexOf(x);if(D!=-1)return F=[[a,P.substring(0,D)],[u,x],[a,P.substring(D+x.length)]],A.length>M.length&&(F[0][0]=F[2][0]=o),F;if(x.length==1)return[[o,A],[a,M]];var C=m(A,M);if(C){var I=C[0],L=C[1],N=C[2],H=C[3],G=C[4],re=f(I,N),ne=f(L,H);return re.concat([[u,G]],ne)}return g(A,M)}function g(A,M){for(var F=A.length,P=M.length,x=Math.ceil((F+P)/2),D=x,C=2*x,I=new Array(C),L=new Array(C),N=0;N<C;N++)I[N]=-1,L[N]=-1;I[D+1]=0,L[D+1]=0;for(var H=F-P,G=H%2!=0,re=0,ne=0,ie=0,Y=0,$=0;$<x;$++){for(var j=-$+re;j<=$-ne;j+=2){var U=D+j,K;j==-$||j!=$&&I[U-1]<I[U+1]?K=I[U+1]:K=I[U-1]+1;for(var ee=K-j;K<F&&ee<P&&A.charAt(K)==M.charAt(ee);)K++,ee++;if(I[U]=K,K>F)ne+=2;else if(ee>P)re+=2;else if(G){var Z=D+H-j;if(Z>=0&&Z<C&&L[Z]!=-1){var z=F-L[Z];if(K>=z)return y(A,M,K,ee)}}}for(var X=-$+ie;X<=$-Y;X+=2){var Z=D+X,z;X==-$||X!=$&&L[Z-1]<L[Z+1]?z=L[Z+1]:z=L[Z-1]+1;for(var oe=z-X;z<F&&oe<P&&A.charAt(F-z-1)==M.charAt(P-oe-1);)z++,oe++;if(L[Z]=z,z>F)Y+=2;else if(oe>P)ie+=2;else if(!G){var U=D+H-X;if(U>=0&&U<C&&I[U]!=-1){var K=I[U],ee=D+K-U;if(z=F-z,K>=z)return y(A,M,K,ee)}}}}return[[o,A],[a,M]]}function y(A,M,F,P){var x=A.substring(0,F),D=M.substring(0,P),C=A.substring(F),I=M.substring(P),L=f(x,D),N=f(C,I);return L.concat(N)}function v(A,M){if(!A||!M||A.charAt(0)!=M.charAt(0))return 0;for(var F=0,P=Math.min(A.length,M.length),x=P,D=0;F<x;)A.substring(D,x)==M.substring(D,x)?(F=x,D=F):P=x,x=Math.floor((P-F)/2+F);return x}function p(A,M){if(!A||!M||A.charAt(A.length-1)!=M.charAt(M.length-1))return 0;for(var F=0,P=Math.min(A.length,M.length),x=P,D=0;F<x;)A.substring(A.length-x,A.length-D)==M.substring(M.length-x,M.length-D)?(F=x,D=F):P=x,x=Math.floor((P-F)/2+F);return x}function m(A,M){var F=A.length>M.length?A:M,P=A.length>M.length?M:A;if(F.length<4||P.length*2<F.length)return null;function x(ne,ie,Y){for(var $=ne.substring(Y,Y+Math.floor(ne.length/4)),j=-1,U="",K,ee,Z,z;(j=ie.indexOf($,j+1))!=-1;){var X=v(ne.substring(Y),ie.substring(j)),oe=p(ne.substring(0,Y),ie.substring(0,j));U.length<oe+X&&(U=ie.substring(j-oe,j)+ie.substring(j,j+X),K=ne.substring(0,Y-oe),ee=ne.substring(Y+X),Z=ie.substring(0,j-oe),z=ie.substring(j+X))}return U.length*2>=ne.length?[K,ee,Z,z,U]:null}var D=x(F,P,Math.ceil(F.length/4)),C=x(F,P,Math.ceil(F.length/2)),I;if(!D&&!C)return null;C?D?I=D[4].length>C[4].length?D:C:I=C:I=D;var L,N,H,G;A.length>M.length?(L=I[0],N=I[1],H=I[2],G=I[3]):(H=I[0],G=I[1],L=I[2],N=I[3]);var re=I[4];return[L,N,H,G,re]}function S(A){A.push([u,""]);for(var M=0,F=0,P=0,x="",D="",C;M<A.length;)switch(A[M][0]){case a:P++,D+=A[M][1],M++;break;case o:F++,x+=A[M][1],M++;break;case u:F+P>1?(F!==0&&P!==0&&(C=v(D,x),C!==0&&(M-F-P>0&&A[M-F-P-1][0]==u?A[M-F-P-1][1]+=D.substring(0,C):(A.splice(0,0,[u,D.substring(0,C)]),M++),D=D.substring(C),x=x.substring(C)),C=p(D,x),C!==0&&(A[M][1]=D.substring(D.length-C)+A[M][1],D=D.substring(0,D.length-C),x=x.substring(0,x.length-C))),F===0?A.splice(M-P,F+P,[a,D]):P===0?A.splice(M-F,F+P,[o,x]):A.splice(M-F-P,F+P,[o,x],[a,D]),M=M-F-P+(F?1:0)+(P?1:0)+1):M!==0&&A[M-1][0]==u?(A[M-1][1]+=A[M][1],A.splice(M,1)):M++,P=0,F=0,x="",D="";break}A[A.length-1][1]===""&&A.pop();var I=!1;for(M=1;M<A.length-1;)A[M-1][0]==u&&A[M+1][0]==u&&(A[M][1].substring(A[M][1].length-A[M-1][1].length)==A[M-1][1]?(A[M][1]=A[M-1][1]+A[M][1].substring(0,A[M][1].length-A[M-1][1].length),A[M+1][1]=A[M-1][1]+A[M+1][1],A.splice(M-1,1),I=!0):A[M][1].substring(0,A[M+1][1].length)==A[M+1][1]&&(A[M-1][1]+=A[M+1][1],A[M][1]=A[M][1].substring(A[M+1][1].length)+A[M+1][1],A.splice(M+1,1),I=!0)),M++;I&&S(A)}var w=f;w.INSERT=a,w.DELETE=o,w.EQUAL=u,t.exports=w;function _(A,M){if(M===0)return[u,A];for(var F=0,P=0;P<A.length;P++){var x=A[P];if(x[0]===o||x[0]===u){var D=F+x[1].length;if(M===D)return[P+1,A];if(M<D){A=A.slice();var C=M-F,I=[x[0],x[1].slice(0,C)],L=[x[0],x[1].slice(C)];return A.splice(P,1,I,L),[P+1,A]}else F=D}}throw new Error("cursor_pos is out of bounds!")}function E(A,M){var F=_(A,M),P=F[1],x=F[0],D=P[x],C=P[x+1];if(D==null)return A;if(D[0]!==u)return A;if(C!=null&&D[1]+C[1]===C[1]+D[1])return P.splice(x,2,C,D),O(P,x,2);if(C!=null&&C[1].indexOf(D[1])===0){P.splice(x,2,[C[0],D[1]],[0,D[1]]);var I=C[1].slice(D[1].length);return I.length>0&&P.splice(x+2,0,[C[0],I]),O(P,x,3)}else return A}function T(A){for(var M=!1,F=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},P=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},x=2;x<A.length;x+=1)A[x-2][0]===u&&P(A[x-2][1])&&A[x-1][0]===o&&F(A[x-1][1])&&A[x][0]===a&&F(A[x][1])&&(M=!0,A[x-1][1]=A[x-2][1].slice(-1)+A[x-1][1],A[x][1]=A[x-2][1].slice(-1)+A[x][1],A[x-2][1]=A[x-2][1].slice(0,-1));if(!M)return A;for(var D=[],x=0;x<A.length;x+=1)A[x][1].length>0&&D.push(A[x]);return D}function O(A,M,F){for(var P=M+F-1;P>=0&&P>=M-1;P--)if(P+1<A.length){var x=A[P],D=A[P+1];x[0]===D[1]&&A.splice(P,2,[x[0],x[1]+D[1]])}return A}},function(t,i){i=t.exports=typeof Object.keys=="function"?Object.keys:o,i.shim=o;function o(a){var u=[];for(var f in a)u.push(f);return u}},function(t,i){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";i=t.exports=o?a:u,i.supported=a;function a(f){return Object.prototype.toString.call(f)=="[object Arguments]"}i.unsupported=u;function u(f){return f&&typeof f=="object"&&typeof f.length=="number"&&Object.prototype.hasOwnProperty.call(f,"callee")&&!Object.prototype.propertyIsEnumerable.call(f,"callee")||!1}},function(t,i){var o=Object.prototype.hasOwnProperty,a="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(a=!1));function f(g,y,v){this.fn=g,this.context=y,this.once=v||!1}function h(){this._events=new u,this._eventsCount=0}h.prototype.eventNames=function(){var y=[],v,p;if(this._eventsCount===0)return y;for(p in v=this._events)o.call(v,p)&&y.push(a?p.slice(1):p);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(v)):y},h.prototype.listeners=function(y,v){var p=a?a+y:y,m=this._events[p];if(v)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var S=0,w=m.length,_=new Array(w);S<w;S++)_[S]=m[S].fn;return _},h.prototype.emit=function(y,v,p,m,S,w){var _=a?a+y:y;if(!this._events[_])return!1;var E=this._events[_],T=arguments.length,O,A;if(E.fn){switch(E.once&&this.removeListener(y,E.fn,void 0,!0),T){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,v),!0;case 3:return E.fn.call(E.context,v,p),!0;case 4:return E.fn.call(E.context,v,p,m),!0;case 5:return E.fn.call(E.context,v,p,m,S),!0;case 6:return E.fn.call(E.context,v,p,m,S,w),!0}for(A=1,O=new Array(T-1);A<T;A++)O[A-1]=arguments[A];E.fn.apply(E.context,O)}else{var M=E.length,F;for(A=0;A<M;A++)switch(E[A].once&&this.removeListener(y,E[A].fn,void 0,!0),T){case 1:E[A].fn.call(E[A].context);break;case 2:E[A].fn.call(E[A].context,v);break;case 3:E[A].fn.call(E[A].context,v,p);break;case 4:E[A].fn.call(E[A].context,v,p,m);break;default:if(!O)for(F=1,O=new Array(T-1);F<T;F++)O[F-1]=arguments[F];E[A].fn.apply(E[A].context,O)}}return!0},h.prototype.on=function(y,v,p){var m=new f(v,p||this),S=a?a+y:y;return this._events[S]?this._events[S].fn?this._events[S]=[this._events[S],m]:this._events[S].push(m):(this._events[S]=m,this._eventsCount++),this},h.prototype.once=function(y,v,p){var m=new f(v,p||this,!0),S=a?a+y:y;return this._events[S]?this._events[S].fn?this._events[S]=[this._events[S],m]:this._events[S].push(m):(this._events[S]=m,this._eventsCount++),this},h.prototype.removeListener=function(y,v,p,m){var S=a?a+y:y;if(!this._events[S])return this;if(!v)return--this._eventsCount===0?this._events=new u:delete this._events[S],this;var w=this._events[S];if(w.fn)w.fn===v&&(!m||w.once)&&(!p||w.context===p)&&(--this._eventsCount===0?this._events=new u:delete this._events[S]);else{for(var _=0,E=[],T=w.length;_<T;_++)(w[_].fn!==v||m&&!w[_].once||p&&w[_].context!==p)&&E.push(w[_]);E.length?this._events[S]=E.length===1?E[0]:E:--this._eventsCount===0?this._events=new u:delete this._events[S]}return this},h.prototype.removeAllListeners=function(y){var v;return y?(v=a?a+y:y,this._events[v]&&(--this._eventsCount===0?this._events=new u:delete this._events[v])):(this._events=new u,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=a,h.EventEmitter=h,typeof t<"u"&&(t.exports=h)},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.matchText=i.matchSpacing=i.matchNewline=i.matchBlot=i.matchAttributor=i.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},u=function(){function de(me,be){var Ae=[],ve=!0,Be=!1,ze=void 0;try{for(var We=me[Symbol.iterator](),it;!(ve=(it=We.next()).done)&&(Ae.push(it.value),!(be&&Ae.length===be));ve=!0);}catch(at){Be=!0,ze=at}finally{try{!ve&&We.return&&We.return()}finally{if(Be)throw ze}}return Ae}return function(me,be){if(Array.isArray(me))return me;if(Symbol.iterator in Object(me))return de(me,be);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function de(me,be){for(var Ae=0;Ae<be.length;Ae++){var ve=be[Ae];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(me,ve.key,ve)}}return function(me,be,Ae){return be&&de(me.prototype,be),Ae&&de(me,Ae),me}}(),h=o(3),g=L(h),y=o(2),v=L(y),p=o(0),m=L(p),S=o(5),w=L(S),_=o(10),E=L(_),T=o(9),O=L(T),A=o(36),M=o(37),F=o(13),P=L(F),x=o(26),D=o(38),C=o(39),I=o(40);function L(de){return de&&de.__esModule?de:{default:de}}function N(de,me,be){return me in de?Object.defineProperty(de,me,{value:be,enumerable:!0,configurable:!0,writable:!0}):de[me]=be,de}function H(de,me){if(!(de instanceof me))throw new TypeError("Cannot call a class as a function")}function G(de,me){if(!de)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me&&(typeof me=="object"||typeof me=="function")?me:de}function re(de,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof me);de.prototype=Object.create(me&&me.prototype,{constructor:{value:de,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(de,me):de.__proto__=me)}var ne=(0,E.default)("quill:clipboard"),ie="__ql-matcher",Y=[[Node.TEXT_NODE,dt],[Node.TEXT_NODE,Ke],["br",Ie],[Node.ELEMENT_NODE,Ke],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,Qe],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,xt],["li",Ve],["b",oe.bind(oe,"bold")],["i",oe.bind(oe,"italic")],["style",Le]],$=[A.AlignAttribute,D.DirectionAttribute].reduce(function(de,me){return de[me.keyName]=me,de},{}),j=[A.AlignStyle,M.BackgroundStyle,x.ColorStyle,D.DirectionStyle,C.FontStyle,I.SizeStyle].reduce(function(de,me){return de[me.keyName]=me,de},{}),U=function(de){re(me,de);function me(be,Ae){H(this,me);var ve=G(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,be,Ae));return ve.quill.root.addEventListener("paste",ve.onPaste.bind(ve)),ve.container=ve.quill.addContainer("ql-clipboard"),ve.container.setAttribute("contenteditable",!0),ve.container.setAttribute("tabindex",-1),ve.matchers=[],Y.concat(ve.options.matchers).forEach(function(Be){var ze=u(Be,2),We=ze[0],it=ze[1];!Ae.matchVisual&&it===Qe||ve.addMatcher(We,it)}),ve}return f(me,[{key:"addMatcher",value:function(Ae,ve){this.matchers.push([Ae,ve])}},{key:"convert",value:function(Ae){if(typeof Ae=="string")return this.container.innerHTML=Ae.replace(/\>\r?\n +\</g,"><"),this.convert();var ve=this.quill.getFormat(this.quill.selection.savedRange.index);if(ve[P.default.blotName]){var Be=this.container.innerText;return this.container.innerHTML="",new v.default().insert(Be,N({},P.default.blotName,ve[P.default.blotName]))}var ze=this.prepareMatching(),We=u(ze,2),it=We[0],at=We[1],nt=X(this.container,it,at);return Z(nt,`
`)&&nt.ops[nt.ops.length-1].attributes==null&&(nt=nt.compose(new v.default().retain(nt.length()-1).delete(1))),ne.log("convert",this.container.innerHTML,nt),this.container.innerHTML="",nt}},{key:"dangerouslyPasteHTML",value:function(Ae,ve){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof Ae=="string")this.quill.setContents(this.convert(Ae),ve),this.quill.setSelection(0,w.default.sources.SILENT);else{var ze=this.convert(ve);this.quill.updateContents(new v.default().retain(Ae).concat(ze),Be),this.quill.setSelection(Ae+ze.length(),w.default.sources.SILENT)}}},{key:"onPaste",value:function(Ae){var ve=this;if(!(Ae.defaultPrevented||!this.quill.isEnabled())){var Be=this.quill.getSelection(),ze=new v.default().retain(Be.index),We=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(w.default.sources.SILENT),setTimeout(function(){ze=ze.concat(ve.convert()).delete(Be.length),ve.quill.updateContents(ze,w.default.sources.USER),ve.quill.setSelection(ze.length()-Be.length,w.default.sources.SILENT),ve.quill.scrollingContainer.scrollTop=We,ve.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ae=this,ve=[],Be=[];return this.matchers.forEach(function(ze){var We=u(ze,2),it=We[0],at=We[1];switch(it){case Node.TEXT_NODE:Be.push(at);break;case Node.ELEMENT_NODE:ve.push(at);break;default:[].forEach.call(Ae.container.querySelectorAll(it),function(nt){nt[ie]=nt[ie]||[],nt[ie].push(at)});break}}),[ve,Be]}}]),me}(O.default);U.DEFAULTS={matchers:[],matchVisual:!0};function K(de,me,be){return(typeof me>"u"?"undefined":a(me))==="object"?Object.keys(me).reduce(function(Ae,ve){return K(Ae,ve,me[ve])},de):de.reduce(function(Ae,ve){return ve.attributes&&ve.attributes[me]?Ae.push(ve):Ae.insert(ve.insert,(0,g.default)({},N({},me,be),ve.attributes))},new v.default)}function ee(de){if(de.nodeType!==Node.ELEMENT_NODE)return{};var me="__ql-computed-style";return de[me]||(de[me]=window.getComputedStyle(de))}function Z(de,me){for(var be="",Ae=de.ops.length-1;Ae>=0&&be.length<me.length;--Ae){var ve=de.ops[Ae];if(typeof ve.insert!="string")break;be=ve.insert+be}return be.slice(-1*me.length)===me}function z(de){if(de.childNodes.length===0)return!1;var me=ee(de);return["block","list-item"].indexOf(me.display)>-1}function X(de,me,be){return de.nodeType===de.TEXT_NODE?be.reduce(function(Ae,ve){return ve(de,Ae)},new v.default):de.nodeType===de.ELEMENT_NODE?[].reduce.call(de.childNodes||[],function(Ae,ve){var Be=X(ve,me,be);return ve.nodeType===de.ELEMENT_NODE&&(Be=me.reduce(function(ze,We){return We(ve,ze)},Be),Be=(ve[ie]||[]).reduce(function(ze,We){return We(ve,ze)},Be)),Ae.concat(Be)},new v.default):new v.default}function oe(de,me,be){return K(be,de,!0)}function se(de,me){var be=m.default.Attributor.Attribute.keys(de),Ae=m.default.Attributor.Class.keys(de),ve=m.default.Attributor.Style.keys(de),Be={};return be.concat(Ae).concat(ve).forEach(function(ze){var We=m.default.query(ze,m.default.Scope.ATTRIBUTE);We!=null&&(Be[We.attrName]=We.value(de),Be[We.attrName])||(We=$[ze],We!=null&&(We.attrName===ze||We.keyName===ze)&&(Be[We.attrName]=We.value(de)||void 0),We=j[ze],We!=null&&(We.attrName===ze||We.keyName===ze)&&(We=j[ze],Be[We.attrName]=We.value(de)||void 0))}),Object.keys(Be).length>0&&(me=K(me,Be)),me}function pe(de,me){var be=m.default.query(de);if(be==null)return me;if(be.prototype instanceof m.default.Embed){var Ae={},ve=be.value(de);ve!=null&&(Ae[be.blotName]=ve,me=new v.default().insert(Ae,be.formats(de)))}else typeof be.formats=="function"&&(me=K(me,be.blotName,be.formats(de)));return me}function Ie(de,me){return Z(me,`
`)||me.insert(`
`),me}function Le(){return new v.default}function Ve(de,me){var be=m.default.query(de);if(be==null||be.blotName!=="list-item"||!Z(me,`
`))return me;for(var Ae=-1,ve=de.parentNode;!ve.classList.contains("ql-clipboard");)(m.default.query(ve)||{}).blotName==="list"&&(Ae+=1),ve=ve.parentNode;return Ae<=0?me:me.compose(new v.default().retain(me.length()-1).retain(1,{indent:Ae}))}function Ke(de,me){return Z(me,`
`)||(z(de)||me.length()>0&&de.nextSibling&&z(de.nextSibling))&&me.insert(`
`),me}function Qe(de,me){if(z(de)&&de.nextElementSibling!=null&&!Z(me,`

`)){var be=de.offsetHeight+parseFloat(ee(de).marginTop)+parseFloat(ee(de).marginBottom);de.nextElementSibling.offsetTop>de.offsetTop+be*1.5&&me.insert(`
`)}return me}function xt(de,me){var be={},Ae=de.style||{};return Ae.fontStyle&&ee(de).fontStyle==="italic"&&(be.italic=!0),Ae.fontWeight&&(ee(de).fontWeight.startsWith("bold")||parseInt(ee(de).fontWeight)>=700)&&(be.bold=!0),Object.keys(be).length>0&&(me=K(me,be)),parseFloat(Ae.textIndent||0)>0&&(me=new v.default().insert("	").concat(me)),me}function dt(de,me){var be=de.data;if(de.parentNode.tagName==="O:P")return me.insert(be.trim());if(be.trim().length===0&&de.parentNode.classList.contains("ql-clipboard"))return me;if(!ee(de.parentNode).whiteSpace.startsWith("pre")){var Ae=function(Be,ze){return ze=ze.replace(/[^\u00a0]/g,""),ze.length<1&&Be?" ":ze};be=be.replace(/\r\n/g," ").replace(/\n/g," "),be=be.replace(/\s\s+/g,Ae.bind(Ae,!0)),(de.previousSibling==null&&z(de.parentNode)||de.previousSibling!=null&&z(de.previousSibling))&&(be=be.replace(/^\s+/,Ae.bind(Ae,!1))),(de.nextSibling==null&&z(de.parentNode)||de.nextSibling!=null&&z(de.nextSibling))&&(be=be.replace(/\s+$/,Ae.bind(Ae,!1)))}return me.insert(be)}i.default=U,i.matchAttributor=se,i.matchBlot=pe,i.matchNewline=Ke,i.matchSpacing=Qe,i.matchText=dt},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function S(w,_){for(var E=0;E<_.length;E++){var T=_[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,_,E){return _&&S(w.prototype,_),E&&S(w,E),w}}(),u=function S(w,_,E){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,_);if(T===void 0){var O=Object.getPrototypeOf(w);return O===null?void 0:S(O,_,E)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(E)}},f=o(6),h=g(f);function g(S){return S&&S.__esModule?S:{default:S}}function y(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function v(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function p(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var m=function(S){p(w,S);function w(){return y(this,w),v(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"optimize",value:function(E){u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,E),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),w}(h.default);m.blotName="bold",m.tagName=["STRONG","B"],i.default=m},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.addControls=i.default=void 0;var a=function(){function I(L,N){var H=[],G=!0,re=!1,ne=void 0;try{for(var ie=L[Symbol.iterator](),Y;!(G=(Y=ie.next()).done)&&(H.push(Y.value),!(N&&H.length===N));G=!0);}catch($){re=!0,ne=$}finally{try{!G&&ie.return&&ie.return()}finally{if(re)throw ne}}return H}return function(L,N){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return I(L,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function I(L,N){for(var H=0;H<N.length;H++){var G=N[H];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,G.key,G)}}return function(L,N,H){return N&&I(L.prototype,N),H&&I(L,H),L}}(),f=o(2),h=E(f),g=o(0),y=E(g),v=o(5),p=E(v),m=o(10),S=E(m),w=o(9),_=E(w);function E(I){return I&&I.__esModule?I:{default:I}}function T(I,L,N){return L in I?Object.defineProperty(I,L,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[L]=N,I}function O(I,L){if(!(I instanceof L))throw new TypeError("Cannot call a class as a function")}function A(I,L){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:I}function M(I,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);I.prototype=Object.create(L&&L.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(I,L):I.__proto__=L)}var F=(0,S.default)("quill:toolbar"),P=function(I){M(L,I);function L(N,H){O(this,L);var G=A(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,N,H));if(Array.isArray(G.options.container)){var re=document.createElement("div");D(re,G.options.container),N.container.parentNode.insertBefore(re,N.container),G.container=re}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var ne;return ne=F.error("Container required for toolbar",G.options),A(G,ne)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(ie){G.addHandler(ie,G.options.handlers[ie])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(ie){G.attach(ie)}),G.quill.on(p.default.events.EDITOR_CHANGE,function(ie,Y){ie===p.default.events.SELECTION_CHANGE&&G.update(Y)}),G.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){var ie=G.quill.selection.getRange(),Y=a(ie,1),$=Y[0];G.update($)}),G}return u(L,[{key:"addHandler",value:function(H,G){this.handlers[H]=G}},{key:"attach",value:function(H){var G=this,re=[].find.call(H.classList,function(ie){return ie.indexOf("ql-")===0});if(re){if(re=re.slice(3),H.tagName==="BUTTON"&&H.setAttribute("type","button"),this.handlers[re]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[re]==null){F.warn("ignoring attaching to disabled format",re,H);return}if(y.default.query(re)==null){F.warn("ignoring attaching to nonexistent format",re,H);return}}var ne=H.tagName==="SELECT"?"change":"click";H.addEventListener(ne,function(ie){var Y=void 0;if(H.tagName==="SELECT"){if(H.selectedIndex<0)return;var $=H.options[H.selectedIndex];$.hasAttribute("selected")?Y=!1:Y=$.value||!1}else H.classList.contains("ql-active")?Y=!1:Y=H.value||!H.hasAttribute("value"),ie.preventDefault();G.quill.focus();var j=G.quill.selection.getRange(),U=a(j,1),K=U[0];if(G.handlers[re]!=null)G.handlers[re].call(G,Y);else if(y.default.query(re).prototype instanceof y.default.Embed){if(Y=prompt("Enter "+re),!Y)return;G.quill.updateContents(new h.default().retain(K.index).delete(K.length).insert(T({},re,Y)),p.default.sources.USER)}else G.quill.format(re,Y,p.default.sources.USER);G.update(K)}),this.controls.push([re,H])}}},{key:"update",value:function(H){var G=H==null?{}:this.quill.getFormat(H);this.controls.forEach(function(re){var ne=a(re,2),ie=ne[0],Y=ne[1];if(Y.tagName==="SELECT"){var $=void 0;if(H==null)$=null;else if(G[ie]==null)$=Y.querySelector("option[selected]");else if(!Array.isArray(G[ie])){var j=G[ie];typeof j=="string"&&(j=j.replace(/\"/g,'\\"')),$=Y.querySelector('option[value="'+j+'"]')}$==null?(Y.value="",Y.selectedIndex=-1):$.selected=!0}else if(H==null)Y.classList.remove("ql-active");else if(Y.hasAttribute("value")){var U=G[ie]===Y.getAttribute("value")||G[ie]!=null&&G[ie].toString()===Y.getAttribute("value")||G[ie]==null&&!Y.getAttribute("value");Y.classList.toggle("ql-active",U)}else Y.classList.toggle("ql-active",G[ie]!=null)})}}]),L}(_.default);P.DEFAULTS={};function x(I,L,N){var H=document.createElement("button");H.setAttribute("type","button"),H.classList.add("ql-"+L),N!=null&&(H.value=N),I.appendChild(H)}function D(I,L){Array.isArray(L[0])||(L=[L]),L.forEach(function(N){var H=document.createElement("span");H.classList.add("ql-formats"),N.forEach(function(G){if(typeof G=="string")x(H,G);else{var re=Object.keys(G)[0],ne=G[re];Array.isArray(ne)?C(H,re,ne):x(H,re,ne)}}),I.appendChild(H)})}function C(I,L,N){var H=document.createElement("select");H.classList.add("ql-"+L),N.forEach(function(G){var re=document.createElement("option");G!==!1?re.setAttribute("value",G):re.setAttribute("selected","selected"),H.appendChild(re)}),I.appendChild(H)}P.DEFAULTS={container:null,handlers:{clean:function(){var L=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var H=this.quill.getFormat();Object.keys(H).forEach(function(G){y.default.query(G,y.default.Scope.INLINE)!=null&&L.quill.format(G,!1)})}else this.quill.removeFormat(N,p.default.sources.USER)},direction:function(L){var N=this.quill.getFormat().align;L==="rtl"&&N==null?this.quill.format("align","right",p.default.sources.USER):!L&&N==="right"&&this.quill.format("align",!1,p.default.sources.USER),this.quill.format("direction",L,p.default.sources.USER)},indent:function(L){var N=this.quill.getSelection(),H=this.quill.getFormat(N),G=parseInt(H.indent||0);if(L==="+1"||L==="-1"){var re=L==="+1"?1:-1;H.direction==="rtl"&&(re*=-1),this.quill.format("indent",G+re,p.default.sources.USER)}},link:function(L){L===!0&&(L=prompt("Enter link URL:")),this.quill.format("link",L,p.default.sources.USER)},list:function(L){var N=this.quill.getSelection(),H=this.quill.getFormat(N);L==="check"?H.list==="checked"||H.list==="unchecked"?this.quill.format("list",!1,p.default.sources.USER):this.quill.format("list","unchecked",p.default.sources.USER):this.quill.format("list",L,p.default.sources.USER)}}},i.default=P,i.addControls=D},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function S(w,_){for(var E=0;E<_.length;E++){var T=_[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,_,E){return _&&S(w.prototype,_),E&&S(w,E),w}}(),u=function S(w,_,E){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,_);if(T===void 0){var O=Object.getPrototypeOf(w);return O===null?void 0:S(O,_,E)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(E)}},f=o(28),h=g(f);function g(S){return S&&S.__esModule?S:{default:S}}function y(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function v(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function p(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var m=function(S){p(w,S);function w(_,E){y(this,w);var T=v(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,_));return T.label.innerHTML=E,T.container.classList.add("ql-color-picker"),[].slice.call(T.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(O){O.classList.add("ql-primary")}),T}return a(w,[{key:"buildItem",value:function(E){var T=u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"buildItem",this).call(this,E);return T.style.backgroundColor=E.getAttribute("value")||"",T}},{key:"selectItem",value:function(E,T){u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"selectItem",this).call(this,E,T);var O=this.label.querySelector(".ql-color-label"),A=E&&E.getAttribute("data-value")||"";O&&(O.tagName==="line"?O.style.stroke=A:O.style.fill=A)}}]),w}(h.default);i.default=m},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function S(w,_){for(var E=0;E<_.length;E++){var T=_[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,_,E){return _&&S(w.prototype,_),E&&S(w,E),w}}(),u=function S(w,_,E){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,_);if(T===void 0){var O=Object.getPrototypeOf(w);return O===null?void 0:S(O,_,E)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(E)}},f=o(28),h=g(f);function g(S){return S&&S.__esModule?S:{default:S}}function y(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function v(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function p(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var m=function(S){p(w,S);function w(_,E){y(this,w);var T=v(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,_));return T.container.classList.add("ql-icon-picker"),[].forEach.call(T.container.querySelectorAll(".ql-picker-item"),function(O){O.innerHTML=E[O.getAttribute("data-value")||""]}),T.defaultItem=T.container.querySelector(".ql-selected"),T.selectItem(T.defaultItem),T}return a(w,[{key:"selectItem",value:function(E,T){u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"selectItem",this).call(this,E,T),E=E||this.defaultItem,this.label.innerHTML=E.innerHTML}}]),w}(h.default);i.default=m},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function h(g,y){for(var v=0;v<y.length;v++){var p=y[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(g,p.key,p)}}return function(g,y,v){return y&&h(g.prototype,y),v&&h(g,v),g}}();function u(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}var f=function(){function h(g,y){var v=this;u(this,h),this.quill=g,this.boundsContainer=y||document.body,this.root=g.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){v.root.style.marginTop=-1*v.quill.root.scrollTop+"px"}),this.hide()}return a(h,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(y){var v=y.left+y.width/2-this.root.offsetWidth/2,p=y.bottom+this.quill.root.scrollTop;this.root.style.left=v+"px",this.root.style.top=p+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),S=this.root.getBoundingClientRect(),w=0;if(S.right>m.right&&(w=m.right-S.right,this.root.style.left=v+w+"px"),S.left<m.left&&(w=m.left-S.left,this.root.style.left=v+w+"px"),S.bottom>m.bottom){var _=S.bottom-S.top,E=y.bottom-y.top+_;this.root.style.top=p-E+"px",this.root.classList.add("ql-flip")}return w}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),h}();i.default=f},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function C(I,L){var N=[],H=!0,G=!1,re=void 0;try{for(var ne=I[Symbol.iterator](),ie;!(H=(ie=ne.next()).done)&&(N.push(ie.value),!(L&&N.length===L));H=!0);}catch(Y){G=!0,re=Y}finally{try{!H&&ne.return&&ne.return()}finally{if(G)throw re}}return N}return function(I,L){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return C(I,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function C(I,L,N){I===null&&(I=Function.prototype);var H=Object.getOwnPropertyDescriptor(I,L);if(H===void 0){var G=Object.getPrototypeOf(I);return G===null?void 0:C(G,L,N)}else{if("value"in H)return H.value;var re=H.get;return re===void 0?void 0:re.call(N)}},f=function(){function C(I,L){for(var N=0;N<L.length;N++){var H=L[N];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(I,H.key,H)}}return function(I,L,N){return L&&C(I.prototype,L),N&&C(I,N),I}}(),h=o(3),g=O(h),y=o(8),v=O(y),p=o(43),m=O(p),S=o(27),w=O(S),_=o(15),E=o(41),T=O(E);function O(C){return C&&C.__esModule?C:{default:C}}function A(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}function M(C,I){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:C}function F(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);C.prototype=Object.create(I&&I.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(C,I):C.__proto__=I)}var P=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],x=function(C){F(I,C);function I(L,N){A(this,I),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=P);var H=M(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L,N));return H.quill.container.classList.add("ql-snow"),H}return f(I,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),T.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),T.default),this.tooltip=new D(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(H,G){N.handlers.link.call(N,!G.format.link)})}}]),I}(m.default);x.DEFAULTS=(0,g.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){if(I){var L=this.quill.getSelection();if(L==null||L.length==0)return;var N=this.quill.getText(L);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var H=this.quill.theme.tooltip;H.edit("link",N)}else this.quill.format("link",!1)}}}}});var D=function(C){F(I,C);function I(L,N){A(this,I);var H=M(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L,N));return H.preview=H.root.querySelector("a.ql-preview"),H}return f(I,[{key:"listen",value:function(){var N=this;u(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(H){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),H.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(H){if(N.linkRange!=null){var G=N.linkRange;N.restoreFocus(),N.quill.formatText(G,"link",!1,v.default.sources.USER),delete N.linkRange}H.preventDefault(),N.hide()}),this.quill.on(v.default.events.SELECTION_CHANGE,function(H,G,re){if(H!=null){if(H.length===0&&re===v.default.sources.USER){var ne=N.quill.scroll.descendant(w.default,H.index),ie=a(ne,2),Y=ie[0],$=ie[1];if(Y!=null){N.linkRange=new _.Range(H.index-$,Y.length());var j=w.default.formats(Y.domNode);N.preview.textContent=j,N.preview.setAttribute("href",j),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){u(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),I}(p.BaseTooltip);D.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),i.default=x},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(29),u=ve(a),f=o(36),h=o(38),g=o(64),y=o(65),v=ve(y),p=o(66),m=ve(p),S=o(67),w=ve(S),_=o(37),E=o(26),T=o(39),O=o(40),A=o(56),M=ve(A),F=o(68),P=ve(F),x=o(27),D=ve(x),C=o(69),I=ve(C),L=o(70),N=ve(L),H=o(71),G=ve(H),re=o(72),ne=ve(re),ie=o(73),Y=ve(ie),$=o(13),j=ve($),U=o(74),K=ve(U),ee=o(75),Z=ve(ee),z=o(57),X=ve(z),oe=o(41),se=ve(oe),pe=o(28),Ie=ve(pe),Le=o(59),Ve=ve(Le),Ke=o(60),Qe=ve(Ke),xt=o(61),dt=ve(xt),de=o(108),me=ve(de),be=o(62),Ae=ve(be);function ve(Be){return Be&&Be.__esModule?Be:{default:Be}}u.default.register({"attributors/attribute/direction":h.DirectionAttribute,"attributors/class/align":f.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":E.ColorClass,"attributors/class/direction":h.DirectionClass,"attributors/class/font":T.FontClass,"attributors/class/size":O.SizeClass,"attributors/style/align":f.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":E.ColorStyle,"attributors/style/direction":h.DirectionStyle,"attributors/style/font":T.FontStyle,"attributors/style/size":O.SizeStyle},!0),u.default.register({"formats/align":f.AlignClass,"formats/direction":h.DirectionClass,"formats/indent":g.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":E.ColorStyle,"formats/font":T.FontClass,"formats/size":O.SizeClass,"formats/blockquote":v.default,"formats/code-block":j.default,"formats/header":m.default,"formats/list":w.default,"formats/bold":M.default,"formats/code":$.Code,"formats/italic":P.default,"formats/link":D.default,"formats/script":I.default,"formats/strike":N.default,"formats/underline":G.default,"formats/image":ne.default,"formats/video":Y.default,"formats/list/item":S.ListItem,"modules/formula":K.default,"modules/syntax":Z.default,"modules/toolbar":X.default,"themes/bubble":me.default,"themes/snow":Ae.default,"ui/icons":se.default,"ui/picker":Ie.default,"ui/icon-picker":Qe.default,"ui/color-picker":Ve.default,"ui/tooltip":dt.default},!0),i.default=u.default},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.IndentClass=void 0;var a=function(){function w(_,E){for(var T=0;T<E.length;T++){var O=E[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,E,T){return E&&w(_.prototype,E),T&&w(_,T),_}}(),u=function w(_,E,T){_===null&&(_=Function.prototype);var O=Object.getOwnPropertyDescriptor(_,E);if(O===void 0){var A=Object.getPrototypeOf(_);return A===null?void 0:w(A,E,T)}else{if("value"in O)return O.value;var M=O.get;return M===void 0?void 0:M.call(T)}},f=o(0),h=g(f);function g(w){return w&&w.__esModule?w:{default:w}}function y(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function v(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function p(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var m=function(w){p(_,w);function _(){return y(this,_),v(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"add",value:function(T,O){if(O==="+1"||O==="-1"){var A=this.value(T)||0;O=O==="+1"?A+1:A-1}return O===0?(this.remove(T),!0):u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,T,O)}},{key:"canAdd",value:function(T,O){return u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,T,O)||u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,T,parseInt(O))}},{key:"value",value:function(T){return parseInt(u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,T))||void 0}}]),_}(h.default.Attributor.Class),S=new m("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});i.IndentClass=S},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(4),u=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function g(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function y(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var v=function(p){y(m,p);function m(){return h(this,m),g(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(u.default);v.blotName="blockquote",v.tagName="blockquote",i.default=v},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function m(S,w){for(var _=0;_<w.length;_++){var E=w[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,E.key,E)}}return function(S,w,_){return w&&m(S.prototype,w),_&&m(S,_),S}}(),u=o(4),f=h(u);function h(m){return m&&m.__esModule?m:{default:m}}function g(m,S){if(!(m instanceof S))throw new TypeError("Cannot call a class as a function")}function y(m,S){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:m}function v(m,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);m.prototype=Object.create(S&&S.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(m,S):m.__proto__=S)}var p=function(m){v(S,m);function S(){return g(this,S),y(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),S}(f.default);p.blotName="header",p.tagName=["H1","H2","H3","H4","H5","H6"],i.default=p},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ListItem=void 0;var a=function(){function A(M,F){for(var P=0;P<F.length;P++){var x=F[P];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(M,x.key,x)}}return function(M,F,P){return F&&A(M.prototype,F),P&&A(M,P),M}}(),u=function A(M,F,P){M===null&&(M=Function.prototype);var x=Object.getOwnPropertyDescriptor(M,F);if(x===void 0){var D=Object.getPrototypeOf(M);return D===null?void 0:A(D,F,P)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(P)}},f=o(0),h=m(f),g=o(4),y=m(g),v=o(25),p=m(v);function m(A){return A&&A.__esModule?A:{default:A}}function S(A,M,F){return M in A?Object.defineProperty(A,M,{value:F,enumerable:!0,configurable:!0,writable:!0}):A[M]=F,A}function w(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")}function _(A,M){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:A}function E(A,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);A.prototype=Object.create(M&&M.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(A,M):A.__proto__=M)}var T=function(A){E(M,A);function M(){return w(this,M),_(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return a(M,[{key:"format",value:function(P,x){P===O.blotName&&!x?this.replaceWith(h.default.create(this.statics.scope)):u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,P,x)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(P,x){return this.parent.isolate(this.offset(this.parent),this.length()),P===this.parent.statics.blotName?(this.parent.replaceWith(P,x),this):(this.parent.unwrap(),u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replaceWith",this).call(this,P,x))}}],[{key:"formats",value:function(P){return P.tagName===this.tagName?void 0:u(M.__proto__||Object.getPrototypeOf(M),"formats",this).call(this,P)}}]),M}(y.default);T.blotName="list-item",T.tagName="LI";var O=function(A){E(M,A),a(M,null,[{key:"create",value:function(P){var x=P==="ordered"?"OL":"UL",D=u(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,x);return(P==="checked"||P==="unchecked")&&D.setAttribute("data-checked",P==="checked"),D}},{key:"formats",value:function(P){if(P.tagName==="OL")return"ordered";if(P.tagName==="UL")return P.hasAttribute("data-checked")?P.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function M(F){w(this,M);var P=_(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,F)),x=function(C){if(C.target.parentNode===F){var I=P.statics.formats(F),L=h.default.find(C.target);I==="checked"?L.format("list","unchecked"):I==="unchecked"&&L.format("list","checked")}};return F.addEventListener("touchstart",x),F.addEventListener("mousedown",x),P}return a(M,[{key:"format",value:function(P,x){this.children.length>0&&this.children.tail.format(P,x)}},{key:"formats",value:function(){return S({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(P,x){if(P instanceof T)u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertBefore",this).call(this,P,x);else{var D=x==null?this.length():x.offset(this),C=this.split(D);C.parent.insertBefore(P,C)}}},{key:"optimize",value:function(P){u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,P);var x=this.next;x!=null&&x.prev===this&&x.statics.blotName===this.statics.blotName&&x.domNode.tagName===this.domNode.tagName&&x.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(x.moveChildren(this),x.remove())}},{key:"replace",value:function(P){if(P.statics.blotName!==this.statics.blotName){var x=h.default.create(this.statics.defaultChild);P.moveChildren(x),this.appendChild(x)}u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,P)}}]),M}(p.default);O.blotName="list",O.scope=h.default.Scope.BLOCK_BLOT,O.tagName=["OL","UL"],O.defaultChild="list-item",O.allowedChildren=[T],i.ListItem=T,i.default=O},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(56),u=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function g(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function y(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var v=function(p){y(m,p);function m(){return h(this,m),g(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(u.default);v.blotName="italic",v.tagName=["EM","I"],i.default=v},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function S(w,_){for(var E=0;E<_.length;E++){var T=_[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,_,E){return _&&S(w.prototype,_),E&&S(w,E),w}}(),u=function S(w,_,E){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,_);if(T===void 0){var O=Object.getPrototypeOf(w);return O===null?void 0:S(O,_,E)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(E)}},f=o(6),h=g(f);function g(S){return S&&S.__esModule?S:{default:S}}function y(S,w){if(!(S instanceof w))throw new TypeError("Cannot call a class as a function")}function v(S,w){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:S}function p(S,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);S.prototype=Object.create(w&&w.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(S,w):S.__proto__=w)}var m=function(S){p(w,S);function w(){return y(this,w),v(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,null,[{key:"create",value:function(E){return E==="super"?document.createElement("sup"):E==="sub"?document.createElement("sub"):u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,E)}},{key:"formats",value:function(E){if(E.tagName==="SUB")return"sub";if(E.tagName==="SUP")return"super"}}]),w}(h.default);m.blotName="script",m.tagName=["SUB","SUP"],i.default=m},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(6),u=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function g(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function y(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var v=function(p){y(m,p);function m(){return h(this,m),g(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(u.default);v.blotName="strike",v.tagName="S",i.default=v},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(6),u=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function g(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function y(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var v=function(p){y(m,p);function m(){return h(this,m),g(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(u.default);v.blotName="underline",v.tagName="U",i.default=v},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function _(E,T){for(var O=0;O<T.length;O++){var A=T[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,T,O){return T&&_(E.prototype,T),O&&_(E,O),E}}(),u=function _(E,T,O){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,T);if(A===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:_(M,T,O)}else{if("value"in A)return A.value;var F=A.get;return F===void 0?void 0:F.call(O)}},f=o(0),h=y(f),g=o(27);function y(_){return _&&_.__esModule?_:{default:_}}function v(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function p(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function m(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var S=["alt","height","width"],w=function(_){m(E,_);function E(){return v(this,E),p(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(O,A){S.indexOf(O)>-1?A?this.domNode.setAttribute(O,A):this.domNode.removeAttribute(O):u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,O,A)}}],[{key:"create",value:function(O){var A=u(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,O);return typeof O=="string"&&A.setAttribute("src",this.sanitize(O)),A}},{key:"formats",value:function(O){return S.reduce(function(A,M){return O.hasAttribute(M)&&(A[M]=O.getAttribute(M)),A},{})}},{key:"match",value:function(O){return/\.(jpe?g|gif|png)$/.test(O)||/^data:image\/.+;base64/.test(O)}},{key:"sanitize",value:function(O){return(0,g.sanitize)(O,["http","https","data"])?O:"//:0"}},{key:"value",value:function(O){return O.getAttribute("src")}}]),E}(h.default.Embed);w.blotName="image",w.tagName="IMG",i.default=w},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function _(E,T){for(var O=0;O<T.length;O++){var A=T[O];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,T,O){return T&&_(E.prototype,T),O&&_(E,O),E}}(),u=function _(E,T,O){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,T);if(A===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:_(M,T,O)}else{if("value"in A)return A.value;var F=A.get;return F===void 0?void 0:F.call(O)}},f=o(4),h=o(27),g=y(h);function y(_){return _&&_.__esModule?_:{default:_}}function v(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function p(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function m(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var S=["height","width"],w=function(_){m(E,_);function E(){return v(this,E),p(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(O,A){S.indexOf(O)>-1?A?this.domNode.setAttribute(O,A):this.domNode.removeAttribute(O):u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,O,A)}}],[{key:"create",value:function(O){var A=u(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,O);return A.setAttribute("frameborder","0"),A.setAttribute("allowfullscreen",!0),A.setAttribute("src",this.sanitize(O)),A}},{key:"formats",value:function(O){return S.reduce(function(A,M){return O.hasAttribute(M)&&(A[M]=O.getAttribute(M)),A},{})}},{key:"sanitize",value:function(O){return g.default.sanitize(O)}},{key:"value",value:function(O){return O.getAttribute("src")}}]),E}(f.BlockEmbed);w.blotName="video",w.className="ql-video",w.tagName="IFRAME",i.default=w},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.FormulaBlot=void 0;var a=function(){function O(A,M){for(var F=0;F<M.length;F++){var P=M[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(A,P.key,P)}}return function(A,M,F){return M&&O(A.prototype,M),F&&O(A,F),A}}(),u=function O(A,M,F){A===null&&(A=Function.prototype);var P=Object.getOwnPropertyDescriptor(A,M);if(P===void 0){var x=Object.getPrototypeOf(A);return x===null?void 0:O(x,M,F)}else{if("value"in P)return P.value;var D=P.get;return D===void 0?void 0:D.call(F)}},f=o(35),h=m(f),g=o(5),y=m(g),v=o(9),p=m(v);function m(O){return O&&O.__esModule?O:{default:O}}function S(O,A){if(!(O instanceof A))throw new TypeError("Cannot call a class as a function")}function w(O,A){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:O}function _(O,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);O.prototype=Object.create(A&&A.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(O,A):O.__proto__=A)}var E=function(O){_(A,O);function A(){return S(this,A),w(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,null,[{key:"create",value:function(F){var P=u(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,F);return typeof F=="string"&&(window.katex.render(F,P,{throwOnError:!1,errorColor:"#f00"}),P.setAttribute("data-value",F)),P}},{key:"value",value:function(F){return F.getAttribute("data-value")}}]),A}(h.default);E.blotName="formula",E.className="ql-formula",E.tagName="SPAN";var T=function(O){_(A,O),a(A,null,[{key:"register",value:function(){y.default.register(E,!0)}}]);function A(){S(this,A);var M=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return M}return A}(p.default);i.FormulaBlot=E,i.default=T},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.CodeToken=i.CodeBlock=void 0;var a=function(){function F(P,x){for(var D=0;D<x.length;D++){var C=x[D];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(P,C.key,C)}}return function(P,x,D){return x&&F(P.prototype,x),D&&F(P,D),P}}(),u=function F(P,x,D){P===null&&(P=Function.prototype);var C=Object.getOwnPropertyDescriptor(P,x);if(C===void 0){var I=Object.getPrototypeOf(P);return I===null?void 0:F(I,x,D)}else{if("value"in C)return C.value;var L=C.get;return L===void 0?void 0:L.call(D)}},f=o(0),h=w(f),g=o(5),y=w(g),v=o(9),p=w(v),m=o(13),S=w(m);function w(F){return F&&F.__esModule?F:{default:F}}function _(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function E(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function T(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}var O=function(F){T(P,F);function P(){return _(this,P),E(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return a(P,[{key:"replaceWith",value:function(D){this.domNode.textContent=this.domNode.textContent,this.attach(),u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replaceWith",this).call(this,D)}},{key:"highlight",value:function(D){var C=this.domNode.textContent;this.cachedText!==C&&((C.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=D(C),this.domNode.normalize(),this.attach()),this.cachedText=C)}}]),P}(S.default);O.className="ql-syntax";var A=new h.default.Attributor.Class("token","hljs",{scope:h.default.Scope.INLINE}),M=function(F){T(P,F),a(P,null,[{key:"register",value:function(){y.default.register(A,!0),y.default.register(O,!0)}}]);function P(x,D){_(this,P);var C=E(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,x,D));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var I=null;return C.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(I),I=setTimeout(function(){C.highlight(),I=null},C.options.interval)}),C.highlight(),C}return a(P,[{key:"highlight",value:function(){var D=this;if(!this.quill.selection.composing){this.quill.update(y.default.sources.USER);var C=this.quill.getSelection();this.quill.scroll.descendants(O).forEach(function(I){I.highlight(D.options.highlight)}),this.quill.update(y.default.sources.SILENT),C!=null&&this.quill.setSelection(C,y.default.sources.SILENT)}}}]),P}(p.default);M.DEFAULTS={highlight:function(){return window.hljs==null?null:function(F){var P=window.hljs.highlightAuto(F);return P.value}}(),interval:1e3},i.CodeBlock=O,i.CodeToken=A,i.default=M},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,i){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,i){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,i){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,i){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BubbleTooltip=void 0;var a=function P(x,D,C){x===null&&(x=Function.prototype);var I=Object.getOwnPropertyDescriptor(x,D);if(I===void 0){var L=Object.getPrototypeOf(x);return L===null?void 0:P(L,D,C)}else{if("value"in I)return I.value;var N=I.get;return N===void 0?void 0:N.call(C)}},u=function(){function P(x,D){for(var C=0;C<D.length;C++){var I=D[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(x,I.key,I)}}return function(x,D,C){return D&&P(x.prototype,D),C&&P(x,C),x}}(),f=o(3),h=_(f),g=o(8),y=_(g),v=o(43),p=_(v),m=o(15),S=o(41),w=_(S);function _(P){return P&&P.__esModule?P:{default:P}}function E(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}function T(P,x){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:P}function O(P,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(P,x):P.__proto__=x)}var A=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],M=function(P){O(x,P);function x(D,C){E(this,x),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=A);var I=T(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,D,C));return I.quill.container.classList.add("ql-bubble"),I}return u(x,[{key:"extendToolbar",value:function(C){this.tooltip=new F(this.quill,this.options.bounds),this.tooltip.root.appendChild(C.container),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),w.default)}}]),x}(p.default);M.DEFAULTS=(0,h.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(x){x?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var F=function(P){O(x,P);function x(D,C){E(this,x);var I=T(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,D,C));return I.quill.on(y.default.events.EDITOR_CHANGE,function(L,N,H,G){if(L===y.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&G===y.default.sources.USER){I.show(),I.root.style.left="0px",I.root.style.width="",I.root.style.width=I.root.offsetWidth+"px";var re=I.quill.getLines(N.index,N.length);if(re.length===1)I.position(I.quill.getBounds(N));else{var ne=re[re.length-1],ie=I.quill.getIndex(ne),Y=Math.min(ne.length()-1,N.index+N.length-ie),$=I.quill.getBounds(new m.Range(ie,Y));I.position($)}}else document.activeElement!==I.textbox&&I.quill.hasFocus()&&I.hide()}),I}return u(x,[{key:"listen",value:function(){var C=this;a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){C.root.classList.remove("ql-editing")}),this.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!C.root.classList.contains("ql-hidden")){var I=C.quill.getSelection();I!=null&&C.position(C.quill.getBounds(I))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(C){var I=a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"position",this).call(this,C),L=this.root.querySelector(".ql-tooltip-arrow");if(L.style.marginLeft="",I===0)return I;L.style.marginLeft=-1*I-L.offsetWidth/2+"px"}}]),x}(v.BaseTooltip);F.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),i.BubbleTooltip=F,i.default=M},function(t,i,o){t.exports=o(63)}]).default})}(Bu)),Bu.exports}var Zn,K_;function wI(){if(K_)return Zn;K_=1;var n=Zn&&Zn.__extends||function(){var y=function(v,p){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,S){m.__proto__=S}||function(m,S){for(var w in S)S.hasOwnProperty(w)&&(m[w]=S[w])},y(v,p)};return function(v,p){y(v,p);function m(){this.constructor=v}v.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),e=Zn&&Zn.__assign||function(){return e=Object.assign||function(y){for(var v,p=1,m=arguments.length;p<m;p++){v=arguments[p];for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(y[S]=v[S])}return y},e.apply(this,arguments)},t=Zn&&Zn.__spreadArrays||function(){for(var y=0,v=0,p=arguments.length;v<p;v++)y+=arguments[v].length;for(var m=Array(y),S=0,v=0;v<p;v++)for(var w=arguments[v],_=0,E=w.length;_<E;_++,S++)m[S]=w[_];return m},i=Zn&&Zn.__importDefault||function(y){return y&&y.__esModule?y:{default:y}},o=i(Tc()),a=i(d1()),u=i(yI()),f=i(EI()),h=function(y){n(v,y);function v(p){var m=y.call(this,p)||this;m.dirtyProps=["modules","formats","bounds","theme","children"],m.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],m.state={generation:0},m.selection=null,m.onEditorChange=function(w,_,E,T){var O,A,M,F;w==="text-change"?(A=(O=m).onEditorChangeText)===null||A===void 0||A.call(O,m.editor.root.innerHTML,_,T,m.unprivilegedEditor):w==="selection-change"&&((F=(M=m).onEditorChangeSelection)===null||F===void 0||F.call(M,_,T,m.unprivilegedEditor))};var S=m.isControlled()?p.value:p.defaultValue;return m.value=S??"",m}return v.prototype.validateProps=function(p){var m;if(o.default.Children.count(p.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(p.children)){var S=o.default.Children.only(p.children);if(((m=S)===null||m===void 0?void 0:m.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&p.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},v.prototype.shouldComponentUpdate=function(p,m){var S=this,w;if(this.validateProps(p),!this.editor||this.state.generation!==m.generation)return!0;if("value"in p){var _=this.getEditorContents(),E=(w=p.value,w??"");this.isEqualValue(E,_)||this.setEditorContents(this.editor,E)}return p.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,p.readOnly),t(this.cleanProps,this.dirtyProps).some(function(T){return!u.default(p[T],S.props[T])})},v.prototype.shouldComponentRegenerate=function(p){var m=this;return this.dirtyProps.some(function(S){return!u.default(p[S],m.props[S])})},v.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},v.prototype.componentWillUnmount=function(){this.destroyEditor()},v.prototype.componentDidUpdate=function(p,m){var S=this;if(this.editor&&this.shouldComponentRegenerate(p)){var w=this.editor.getContents(),_=this.editor.getSelection();this.regenerationSnapshot={delta:w,selection:_},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==m.generation){var E=this.regenerationSnapshot,w=E.delta,T=E.selection;delete this.regenerationSnapshot,this.instantiateEditor();var O=this.editor;O.setContents(w),g(function(){return S.setEditorSelection(O,T)})}},v.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},v.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},v.prototype.isControlled=function(){return"value"in this.props},v.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},v.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},v.prototype.createEditor=function(p,m){var S=new f.default(p,m);return m.tabIndex!=null&&this.setEditorTabIndex(S,m.tabIndex),this.hookEditor(S),S},v.prototype.hookEditor=function(p){this.unprivilegedEditor=this.makeUnprivilegedEditor(p),p.on("editor-change",this.onEditorChange)},v.prototype.unhookEditor=function(p){p.off("editor-change",this.onEditorChange)},v.prototype.getEditorContents=function(){return this.value},v.prototype.getEditorSelection=function(){return this.selection},v.prototype.isDelta=function(p){return p&&p.ops},v.prototype.isEqualValue=function(p,m){return this.isDelta(p)&&this.isDelta(m)?u.default(p.ops,m.ops):u.default(p,m)},v.prototype.setEditorContents=function(p,m){var S=this;this.value=m;var w=this.getEditorSelection();typeof m=="string"?p.setContents(p.clipboard.convert(m)):p.setContents(m),g(function(){return S.setEditorSelection(p,w)})},v.prototype.setEditorSelection=function(p,m){if(this.selection=m,m){var S=p.getLength();m.index=Math.max(0,Math.min(m.index,S-1)),m.length=Math.max(0,Math.min(m.length,S-1-m.index)),p.setSelection(m)}},v.prototype.setEditorTabIndex=function(p,m){var S,w;!((w=(S=p)===null||S===void 0?void 0:S.scroll)===null||w===void 0)&&w.domNode&&(p.scroll.domNode.tabIndex=m)},v.prototype.setEditorReadOnly=function(p,m){m?p.disable():p.enable()},v.prototype.makeUnprivilegedEditor=function(p){var m=p;return{getHTML:function(){return m.root.innerHTML},getLength:m.getLength.bind(m),getText:m.getText.bind(m),getContents:m.getContents.bind(m),getSelection:m.getSelection.bind(m),getBounds:m.getBounds.bind(m)}},v.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var p=a.default.findDOMNode(this.editingArea);if(!p)throw new Error("Cannot find element for editing area");if(p.nodeType===3)throw new Error("Editing area cannot be a text node");return p},v.prototype.renderEditingArea=function(){var p=this,m=this.props,S=m.children,w=m.preserveWhitespace,_=this.state.generation,E={key:_,ref:function(T){p.editingArea=T}};return o.default.Children.count(S)?o.default.cloneElement(o.default.Children.only(S),E):w?o.default.createElement("pre",e({},E)):o.default.createElement("div",e({},E))},v.prototype.render=function(){var p;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(p=this.props.className,p??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},v.prototype.onEditorChangeText=function(p,m,S,w){var _,E;if(this.editor){var T=this.isDelta(this.value)?w.getContents():w.getHTML();T!==this.getEditorContents()&&(this.lastDeltaChangeSet=m,this.value=T,(E=(_=this.props).onChange)===null||E===void 0||E.call(_,p,m,S,w))}},v.prototype.onEditorChangeSelection=function(p,m,S){var w,_,E,T,O,A;if(this.editor){var M=this.getEditorSelection(),F=!M&&p,P=M&&!p;u.default(p,M)||(this.selection=p,(_=(w=this.props).onChangeSelection)===null||_===void 0||_.call(w,p,m,S),F?(T=(E=this.props).onFocus)===null||T===void 0||T.call(E,p,m,S):P&&((A=(O=this.props).onBlur)===null||A===void 0||A.call(O,M,m,S)))}},v.prototype.focus=function(){this.editor&&this.editor.focus()},v.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},v.displayName="React Quill",v.Quill=f.default,v.defaultProps={theme:"snow",modules:{},readOnly:!1},v}(o.default.Component);function g(y){Promise.resolve().then(y)}return Zn=h,Zn}var TI=wI();const bI=h1(TI);function SI(n){const[e,t]=he.useState(""),[i,o]=he.useState("");function a(){n.getBlog(e,i),t(""),h()}function u(g){o(g.target.value)}const f={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]]};function h(){n.bloghandler()}return W.jsx(W.Fragment,{children:n.flag===!0?W.jsxs("div",{className:"absolute top-1/2 left-1/2 sm:left-[57%] transform -translate-x-1/2 -translate-y-1/2 bg-gray-800 rounded-xl shadow-xl shadow-black",children:[W.jsx(yo,{className:"absolute top-4 right-4 text-white text-2xl cursor-pointer hover:bg-pink-600 rounded-full",onClick:h}),W.jsx(bI,{value:e,onChange:t,modules:f,theme:"snow",className:"h-[30rem] w-[18rem] sm:w-[30rem] lg:w-[50rem] p-4 rounded-xl overflow-y-scroll hide-scrollbar"}),W.jsx("button",{className:"bg-violet-900 px-2 py-1 rounded-xl cursor-pointer relative float-right mr-4 mb-2",onClick:a,children:" Post "}),W.jsxs("select",{className:"bg-violet-900 rounded-xl font-bold px-2 py-1 outline-none text-center content-center text-sm cursor-pointer relative ml-4 mb-2",onChange:u,children:[W.jsx("option",{className:"font-bold",children:" Other "}),W.jsx("option",{className:"font-bold",children:" Aesthetic "}),W.jsx("option",{className:"font-bold",children:" Anime "}),W.jsx("option",{className:"font-bold",children:" Books and Literature "}),W.jsx("option",{className:"font-bold",children:" Community Spotlight "}),W.jsx("option",{className:"font-bold",children:" Art "}),W.jsx("option",{className:"font-bold",children:" Culture "}),W.jsx("option",{className:"font-bold",children:" Movies "}),W.jsx("option",{className:"font-bold",children:" Funny "}),W.jsx("option",{className:"font-bold",children:" Gaming "}),W.jsx("option",{className:"font-bold",children:" Sports "}),W.jsx("option",{className:"font-bold",children:" Music and Brands "}),W.jsx("option",{className:"font-bold",children:" Science "}),W.jsx("option",{className:"font-bold",children:" Tv shows "}),W.jsx("option",{className:"font-bold",children:" Writing "})]})]}):null})}function AI(n){return yn({tag:"svg",attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 14.519531 4.0097656 C 14.239531 3.9997656 14 4.2295312 14 4.5195312 L 14 6.5 C 14 6.78 14.22 7 14.5 7 L 14.5 7.0195312 C 20.73 7.2595312 25.740469 12.27 25.980469 18.5 L 26 18.5 C 26 18.78 26.22 19 26.5 19 L 28.480469 19 C 28.770469 19 29.000234 18.760469 28.990234 18.480469 C 28.720234 10.620469 22.379531 4.2797656 14.519531 4.0097656 z M 14.519531 9.0097656 C 14.239531 8.9997656 14 9.2395313 14 9.5195312 L 14 11.5 C 14 11.78 14.22 12 14.5 12 L 14.5 12.029297 C 17.97 12.259297 20.740703 15.03 20.970703 18.5 L 21 18.5 C 21 18.78 21.22 19 21.5 19 L 23.480469 19 C 23.760469 19 24.000234 18.760469 23.990234 18.480469 C 23.720234 13.380469 19.619531 9.2797656 14.519531 9.0097656 z M 5.5 10 C 5.22 10 5 10.22 5 10.5 L 5 21.5 C 5 25.08 7.92 28 11.5 28 C 15.08 28 18 25.08 18 21.5 C 18 17.92 15.08 15 11.5 15 C 11.22 15 11 15.22 11 15.5 L 11 18.5 C 11 18.78 11.22 19 11.5 19 C 12.88 19 14 20.12 14 21.5 C 14 22.88 12.88 24 11.5 24 C 10.12 24 9 22.88 9 21.5 L 9 10.5 C 9 10.22 8.78 10 8.5 10 L 5.5 10 z"},child:[]}]})(n)}function II(n){return yn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function xI(n){const[e,t]=he.useState(!1);function i(){if(n.session==!1){alert("Do login to continue");return}t(!e)}function o(a,u){n.getBlog(a,"tag")}return W.jsx(W.Fragment,{children:W.jsxs("div",{children:[W.jsxs("div",{className:"flex justify-between items-center px-4 py-4 border-b-[0.01rem] sm:hidden",children:[n.menu?W.jsx(D1,{className:"text-4xl sm:hidden hover:bg-green-400 p-2",onClick:n.menuclickhandler}):W.jsx(yo,{className:"text-4xl sm:hidden hover:bg-green-400 p-2",onClick:n.menuclickhandler}),W.jsx("h1",{className:`h-fit w-fit text-xl p-1 font-extrabold lg:text-4xl ${n.div_text} sm:hidden`,children:" BLOG-APP "}),n.close==!1?W.jsx(nc,{className:"text-4xl sm:hidden hover:bg-green-400 p-2",onClick:n.searchclickhandler}):W.jsx(yo,{className:"text-4xl sm:hidden hover:bg-green-400 p-2",onClick:n.searchclickhandler})]}),W.jsxs("div",{className:"min-h-16 w-full flex justify-center items-center gap-4 border-b-[0.01rem]",children:[W.jsxs(Ai,{to:"/explore/trending",children:[" ",W.jsxs("p",{className:"hover:underline text-sm sm:text-lg font-mono flex gap-2 items-center",children:[" ",W.jsx(tA,{})," Trending "]})," "]}),W.jsxs(Ai,{to:"/explore/favourites",children:[" ",W.jsxs("p",{className:"hover:underline text-sm sm:text-lg font-mono flex gap-2 items-center",children:[" ",W.jsx(II,{})," Favourites "]})," "]}),W.jsxs(Ai,{to:"/explore/yourblogs",children:[" ",W.jsxs("p",{className:"hover:underline text-sm sm:text-lg font-mono flex gap-2 items-center",children:[" ",W.jsx(AI,{})," Your Blogs "]})," "]})]}),W.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-start sm:px-4",children:[W.jsxs("div",{className:"relative min-h-20 w-full sm:w-[30%] flex flex-col items-center gap-2 p-4 mt-2 mb-2 rounded-xl shadow-xl shadow-zinc-800 order-1 sm:order-none",children:[W.jsx("p",{className:"text-center text-sm content-center py-2 sm:text-md",children:"Blogs are here!  Blogs are a new way to create public or private spaces for hanging out with friends or discussing your interests. Start writing the blogs to share your thoughts, opinions, and much more."}),W.jsx("button",{className:`outline-none border-none font-bold ${n.div_bg} text-white rounded-xl px-2 py-1`,onClick:i,children:"Create a Blog"})]}),W.jsxs("div",{className:"flex flex-col w-full sm:w-[70%] order-2 sm:order-none",children:[W.jsx(SI,{getBlog:o,flag:e,bloghandler:i}),W.jsx("div",{className:"h-screen w-full flex justify-center mt-2",children:W.jsx(dS,{})})]})]})]})})}function Zp(n){return W.jsx(W.Fragment,{children:W.jsx("div",{children:W.jsx("div",{dangerouslySetInnerHTML:{__html:n.blog},className:`min-h-fit w-full rounded-xl shadow-xl shadow-zinc-800  text-[0.8rem] border-[0.01rem] px-2 py-4 ${n.border}`})})})}function kI(n){return W.jsx("div",{className:"h-screen w-full sm:w-4/5 overflow-y-scroll hide-scrollbar flex flex-col gap-4",children:n.session===!0?Array.isArray(n.blog)&&n.blog.length>0?n.blog.map((e,t)=>W.jsx(Zp,{blog:e.content,border:n.border},t)):W.jsx("p",{className:"text-center content-center text-2xl",children:" No Blogs found! "}):W.jsx("p",{className:"text-center content-center text-2xl",children:" Login to continue "})})}function RI(n){return W.jsx(W.Fragment,{children:W.jsx("div",{className:"h-screen w-full sm:w-4/5 overflow-y-scroll hide-scrollbar flex flex-col gap-4",children:n.session==!0?n.blog?n.blog.map((e,t)=>W.jsx(Zp,{blog:e.content,border:n.border},t)):W.jsx("p",{className:"text-center content-center text-2xl",children:" No Blogs found! "}):W.jsx("p",{className:"text-center content-center text-2xl",children:" Login to continue "})})})}function PI(n){return W.jsx(W.Fragment,{children:W.jsx("div",{className:"h-screen w-full sm:w-4/5 overflow-y-scroll hide-scrollbar flex flex-col gap-4",children:n.session==!0?n.blog?n.blog.map((e,t)=>W.jsx(Zp,{blog:e.content,border:n.border},t)):W.jsx("p",{className:"text-center content-center text-2xl",children:" No Blogs found! "}):W.jsx("p",{className:"text-center content-center text-2xl",children:" Login to continue "})})})}var W_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},CI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],f=n[t++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},G1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,f=u?n[o+1]:0,h=o+2<n.length,g=h?n[o+2]:0,y=a>>2,v=(a&3)<<4|f>>4;let p=(f&15)<<2|g>>6,m=g&63;h||(m=64,u||(p=64)),i.push(t[y],t[v],t[p],t[m])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(W1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const v=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||g==null||v==null)throw new OI;const p=a<<2|f>>4;if(i.push(p),g!==64){const m=f<<4&240|g>>2;if(i.push(m),v!==64){const S=g<<6&192|v;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class OI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NI=function(n){const e=W1(n);return G1.encodeByteArray(e,!0)},rc=function(n){return NI(n).replace(/\./g,"")},Q1=function(n){try{return G1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=()=>LI().__FIREBASE_DEFAULTS__,MI=()=>{if(typeof process>"u"||typeof W_>"u")return;const n=W_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},jI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Q1(n[1]);return e&&JSON.parse(e)},Cc=()=>{try{return DI()||MI()||jI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Y1=n=>{var e,t;return(t=(e=Cc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},VI=n=>{const e=Y1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},X1=()=>{var n;return(n=Cc())===null||n===void 0?void 0:n.config},J1=n=>{var e;return(e=Cc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rc(JSON.stringify(t)),rc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function BI(){var n;const e=(n=Cc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $I(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KI(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function WI(){return!BI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GI(){try{return typeof indexedDB=="object"}catch{return!1}}function QI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="FirebaseError";class Qr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=YI,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ol.prototype.create)}}class ol{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?XI(a,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new Qr(o,f,i)}}function XI(n,e){return n.replace(JI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const JI=/\{\$([^}]+)}/g;function ZI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ic(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(G_(a)&&G_(u)){if(!ic(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function G_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ma(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function ja(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function e2(n,e){const t=new t2(n,e);return t.subscribe.bind(t)}class t2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");n2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=lp),o.error===void 0&&(o.error=lp),o.complete===void 0&&(o.complete=lp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function lp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(n){return n&&n._delegate?n._delegate:n}class _o{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new FI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o2(e))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=po){return this.instances.has(e)}getOptions(e=po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:i2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=po){return this.component?this.component.multipleInstances?e:po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i2(n){return n===po?void 0:n}function o2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new r2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const a2={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},l2=Ye.INFO,u2={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},c2=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=u2[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class em{constructor(e){this.name=e,this._logLevel=l2,this._logHandler=c2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const f2=(n,e)=>e.some(t=>n instanceof t);let Q_,Y_;function h2(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d2(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z1=new WeakMap,Tp=new WeakMap,eE=new WeakMap,up=new WeakMap,tm=new WeakMap;function p2(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ii(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Z1.set(t,n)}).catch(()=>{}),tm.set(e,n),e}function m2(n){if(Tp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Tp.set(n,e)}let bp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Tp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||eE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ii(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function g2(n){bp=n(bp)}function v2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(cp(this),e,...t);return eE.set(i,e.sort?e.sort():[e]),Ii(i)}:d2().includes(n)?function(...e){return n.apply(cp(this),e),Ii(Z1.get(this))}:function(...e){return Ii(n.apply(cp(this),e))}}function y2(n){return typeof n=="function"?v2(n):(n instanceof IDBTransaction&&m2(n),f2(n,h2())?new Proxy(n,bp):n)}function Ii(n){if(n instanceof IDBRequest)return p2(n);if(up.has(n))return up.get(n);const e=y2(n);return e!==n&&(up.set(n,e),tm.set(e,n)),e}const cp=n=>tm.get(n);function _2(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),f=Ii(u);return i&&u.addEventListener("upgradeneeded",h=>{i(Ii(u.result),h.oldVersion,h.newVersion,Ii(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const E2=["get","getKey","getAll","getAllKeys","count"],w2=["put","add","delete","clear"],fp=new Map;function X_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fp.get(e))return fp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=w2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||E2.includes(t)))return;const a=async function(u,...f){const h=this.transaction(u,o?"readwrite":"readonly");let g=h.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),o&&h.done]))[0]};return fp.set(e,a),a}g2(n=>({...n,get:(e,t,i)=>X_(e,t)||n.get(e,t,i),has:(e,t)=>!!X_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(b2(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function b2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sp="@firebase/app",J_="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new em("@firebase/app"),S2="@firebase/app-compat",A2="@firebase/analytics-compat",I2="@firebase/analytics",x2="@firebase/app-check-compat",k2="@firebase/app-check",R2="@firebase/auth",P2="@firebase/auth-compat",C2="@firebase/database",O2="@firebase/data-connect",N2="@firebase/database-compat",L2="@firebase/functions",D2="@firebase/functions-compat",M2="@firebase/installations",j2="@firebase/installations-compat",V2="@firebase/messaging",F2="@firebase/messaging-compat",q2="@firebase/performance",U2="@firebase/performance-compat",B2="@firebase/remote-config",z2="@firebase/remote-config-compat",H2="@firebase/storage",$2="@firebase/storage-compat",K2="@firebase/firestore",W2="@firebase/vertexai",G2="@firebase/firestore-compat",Q2="firebase",Y2="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",X2={[Sp]:"fire-core",[S2]:"fire-core-compat",[I2]:"fire-analytics",[A2]:"fire-analytics-compat",[k2]:"fire-app-check",[x2]:"fire-app-check-compat",[R2]:"fire-auth",[P2]:"fire-auth-compat",[C2]:"fire-rtdb",[O2]:"fire-data-connect",[N2]:"fire-rtdb-compat",[L2]:"fire-fn",[D2]:"fire-fn-compat",[M2]:"fire-iid",[j2]:"fire-iid-compat",[V2]:"fire-fcm",[F2]:"fire-fcm-compat",[q2]:"fire-perf",[U2]:"fire-perf-compat",[B2]:"fire-rc",[z2]:"fire-rc-compat",[H2]:"fire-gcs",[$2]:"fire-gcs-compat",[K2]:"fire-fst",[G2]:"fire-fst-compat",[W2]:"fire-vertex","fire-js":"fire-js",[Q2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,J2=new Map,Ip=new Map;function Z_(n,e){try{n.container.addComponent(e)}catch(t){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function As(n){const e=n.name;if(Ip.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;Ip.set(e,n);for(const t of oc.values())Z_(t,n);for(const t of J2.values())Z_(t,n);return!0}function nm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new ol("app","Firebase",Z2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new _o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=Y2;function tE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ap,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw xi.create("bad-app-name",{appName:String(o)});if(t||(t=X1()),!t)throw xi.create("no-options");const a=oc.get(o);if(a){if(ic(t,a.options)&&ic(i,a.config))return a;throw xi.create("duplicate-app",{appName:o})}const u=new s2(o);for(const h of Ip.values())u.addComponent(h);const f=new ex(t,i,u);return oc.set(o,f),f}function nE(n=Ap){const e=oc.get(n);if(!e&&n===Ap&&X1())return tE();if(!e)throw xi.create("no-app",{appName:n});return e}function ki(n,e,t){var i;let o=(i=X2[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(f.join(" "));return}As(new _o(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="firebase-heartbeat-database",nx=1,Wa="firebase-heartbeat-store";let hp=null;function rE(){return hp||(hp=_2(tx,nx,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wa)}catch(t){console.warn(t)}}}}).catch(n=>{throw xi.create("idb-open",{originalErrorMessage:n.message})})),hp}async function rx(n){try{const t=(await rE()).transaction(Wa),i=await t.objectStore(Wa).get(iE(n));return await t.done,i}catch(e){if(e instanceof Qr)Hr.warn(e.message);else{const t=xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hr.warn(t.message)}}}async function e0(n,e){try{const i=(await rE()).transaction(Wa,"readwrite");await i.objectStore(Wa).put(e,iE(n)),await i.done}catch(t){if(t instanceof Qr)Hr.warn(t.message);else{const i=xi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Hr.warn(i.message)}}}function iE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=1024,ox=30*24*60*60*1e3;class sx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lx(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=t0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const f=new Date(u.date).valueOf();return Date.now()-f<=ox}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Hr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=t0(),{heartbeatsToSend:i,unsentEntries:o}=ax(this._heartbeatsCache.heartbeats),a=rc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Hr.warn(t),""}}}function t0(){return new Date().toISOString().substring(0,10)}function ax(n,e=ix){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),n0(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),n0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class lx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GI()?QI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return e0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return e0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function n0(n){return rc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(n){As(new _o("platform-logger",e=>new T2(e),"PRIVATE")),As(new _o("heartbeat",e=>new sx(e),"PRIVATE")),ki(Sp,J_,n),ki(Sp,J_,"esm2017"),ki("fire-js","")}ux("");function rm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function oE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cx=oE,sE=new ol("auth","Firebase",oE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new em("@firebase/auth");function fx(n,...e){sc.logLevel<=Ye.WARN&&sc.warn(`Auth (${Ms}): ${n}`,...e)}function zu(n,...e){sc.logLevel<=Ye.ERROR&&sc.error(`Auth (${Ms}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,...e){throw im(n,...e)}function mr(n,...e){return im(n,...e)}function aE(n,e,t){const i=Object.assign(Object.assign({},cx()),{[e]:t});return new ol("auth","Firebase",i).create(e,{appName:n.name})}function Br(n){return aE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function im(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return sE.create(n,...e)}function Fe(n,e,...t){if(!n)throw im(e,...t)}function Vr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zu(e),new Error(e)}function $r(n,e){n||Vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function hx(){return r0()==="http:"||r0()==="https:"}function r0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hx()||HI()||"connection"in navigator)?navigator.onLine:!0}function px(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t){this.shortDelay=e,this.longDelay=t,$r(t>e,"Short delay should be less than long delay!"),this.isMobile=UI()||$I()}get(){return dx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(n,e){$r(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new al(3e4,6e4);function ji(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Vi(n,e,t,i,o={}){return uE(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const f=sl(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:h},a);return zI()||(g.referrerPolicy="no-referrer"),lE.fetch()(cE(n,n.config.apiHost,t,f),g)})}async function uE(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},mx),e);try{const o=new yx(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Nu(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,g]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nu(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Nu(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw Nu(n,"user-disabled",u);const y=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw aE(n,y,g);nr(n,y)}}catch(o){if(o instanceof Qr)throw o;nr(n,"network-request-failed",{message:String(o)})}}async function ll(n,e,t,i,o={}){const a=await Vi(n,e,t,i,o);return"mfaPendingCredential"in a&&nr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function cE(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?om(n.config,o):`${n.config.apiScheme}://${o}`}function vx(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(mr(this.auth,"network-request-failed")),gx.get())})}}function Nu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=mr(n,e,i);return o.customData._tokenResponse=t,o}function i0(n){return n!==void 0&&n.enterprise!==void 0}class _x{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return vx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ex(n,e){return Vi(n,"GET","/v2/recaptchaConfig",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(n,e){return Vi(n,"POST","/v1/accounts:delete",e)}async function fE(n,e){return Vi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tx(n,e=!1){const t=jn(n),i=await t.getIdToken(e),o=sm(i);Fe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Ua(dp(o.auth_time)),issuedAtTime:Ua(dp(o.iat)),expirationTime:Ua(dp(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function dp(n){return Number(n)*1e3}function sm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return zu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Q1(t);return o?JSON.parse(o):(zu("Failed to decode base64 JWT payload"),null)}catch(o){return zu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function o0(n){const e=sm(n);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Qr&&bx(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function bx({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Ga(n,fE(t,{idToken:i}));Fe(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?hE(a.providerUserInfo):[],f=Ix(n.providerData,u),h=n.isAnonymous,g=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),y=h?g:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new kp(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function Ax(n){const e=jn(n);await ac(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ix(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function hE(n){return n.map(e=>{var{providerId:t}=e,i=rm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(n,e){const t=await uE(n,{},async()=>{const i=sl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=cE(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",lE.fetch()(u,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function kx(n,e){return Vi(n,"POST","/v2/accounts:revokeToken",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const t=o0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await xx(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new ws;return i&&(Fe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Fe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Fe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ws,this.toJSON())}_performRefresh(){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(n,e){Fe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Fr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=rm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new kp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ga(this,this.stsTokenManager.getToken(this.auth,e));return Fe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Tx(this,e)}reload(){return Ax(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ac(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(Br(this.auth));const e=await this.getIdToken();return await Ga(this,wx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,f,h,g,y;const v=(i=t.displayName)!==null&&i!==void 0?i:void 0,p=(o=t.email)!==null&&o!==void 0?o:void 0,m=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,S=(u=t.photoURL)!==null&&u!==void 0?u:void 0,w=(f=t.tenantId)!==null&&f!==void 0?f:void 0,_=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,E=(g=t.createdAt)!==null&&g!==void 0?g:void 0,T=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:O,emailVerified:A,isAnonymous:M,providerData:F,stsTokenManager:P}=t;Fe(O&&P,e,"internal-error");const x=ws.fromJSON(this.name,P);Fe(typeof O=="string",e,"internal-error"),_i(v,e.name),_i(p,e.name),Fe(typeof A=="boolean",e,"internal-error"),Fe(typeof M=="boolean",e,"internal-error"),_i(m,e.name),_i(S,e.name),_i(w,e.name),_i(_,e.name),_i(E,e.name),_i(T,e.name);const D=new Fr({uid:O,auth:e,email:p,emailVerified:A,displayName:v,isAnonymous:M,photoURL:S,phoneNumber:m,tenantId:w,stsTokenManager:x,createdAt:E,lastLoginAt:T});return F&&Array.isArray(F)&&(D.providerData=F.map(C=>Object.assign({},C))),_&&(D._redirectEventId=_),D}static async _fromIdTokenResponse(e,t,i=!1){const o=new ws;o.updateFromServerResponse(t);const a=new Fr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await ac(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Fe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?hE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new ws;f.updateFromIdToken(i);const h=new Fr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new kp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,g),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=new Map;function qr(n){$r(n instanceof Function,"Expected a class definition");let e=s0.get(n);return e?($r(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,s0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dE.type="NONE";const a0=dE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(n,e,t){return`firebase:${n}:${e}:${t}`}class Ts{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Hu(this.userKey,o.apiKey,a),this.fullPersistenceKey=Hu("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ts(qr(a0),e,i);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=o[0]||qr(a0);const u=Hu(i,e.config.apiKey,e.name);let f=null;for(const g of t)try{const y=await g._get(u);if(y){const v=Fr._fromJSON(e,y);g!==a&&(f=v),a=g;break}}catch{}const h=o.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ts(a,e,i):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(u)}catch{}})),new Ts(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_E(e))return"Blackberry";if(EE(e))return"Webos";if(mE(e))return"Safari";if((e.includes("chrome/")||gE(e))&&!e.includes("edge/"))return"Chrome";if(yE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function pE(n=rn()){return/firefox\//i.test(n)}function mE(n=rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gE(n=rn()){return/crios\//i.test(n)}function vE(n=rn()){return/iemobile/i.test(n)}function yE(n=rn()){return/android/i.test(n)}function _E(n=rn()){return/blackberry/i.test(n)}function EE(n=rn()){return/webos/i.test(n)}function am(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Rx(n=rn()){var e;return am(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Px(){return KI()&&document.documentMode===10}function wE(n=rn()){return am(n)||yE(n)||EE(n)||_E(n)||/windows phone/i.test(n)||vE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(n,e=[]){let t;switch(n){case"Browser":t=l0(rn());break;case"Worker":t=`${l0(rn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ms}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(n,e={}){return Vi(n,"GET","/v2/passwordPolicy",ji(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=6;class Lx{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Nx,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new Cx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Ts.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fE(this,{idToken:e}),i=await Fr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ac(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=px()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(Br(this));const t=e?jn(e):null;return t&&Fe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ox(this),t=new Lx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ol("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await kx(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qr(e)||this._popupRedirectResolver;Fe(t,this,"argument-error"),this.redirectPersistenceManager=await Ts.create(this,[qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,o);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&fx(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function So(n){return jn(n)}class u0{constructor(e){this.auth=e,this.observer=null,this.addObserver=e2(t=>this.observer=t)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mx(n){Oc=n}function bE(n){return Oc.loadJS(n)}function jx(){return Oc.recaptchaEnterpriseScript}function Vx(){return Oc.gapiScript}function Fx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class qx{constructor(){this.enterprise=new Ux}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ux{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Bx="recaptcha-enterprise",SE="NO_RECAPTCHA";class zx{constructor(e){this.type=Bx,this.auth=So(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{Ex(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new _x(h);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,u(g.siteKey)}}).catch(h=>{f(h)})})}function o(a,u,f){const h=window.grecaptcha;i0(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(g=>{u(g)}).catch(()=>{u(SE)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qx().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(f=>{if(!t&&i0(window.grecaptcha))o(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=jx();h.length!==0&&(h+=f),bE(h).then(()=>{o(f,a,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function c0(n,e,t,i=!1,o=!1){const a=new zx(n);let u;if(o)u=SE;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Rp(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await c0(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await c0(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(n,e){const t=nm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(ic(a,e??{}))return o;nr(o,"already-initialized")}return t.initialize({options:e})}function $x(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(qr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Kx(n,e,t){const i=So(n);Fe(i._canInitEmulator,i,"emulator-config-failed"),Fe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=AE(e),{host:u,port:f}=Wx(e),h=f===null?"":`:${f}`;i.config.emulator={url:`${a}//${u}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),Gx()}function AE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Wx(n){const e=AE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:f0(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:f0(u)}}}function f0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Gx(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,t){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}async function Qx(n,e){return Vi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(n,e){return ll(n,"POST","/v1/accounts:signInWithPassword",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(n,e){return ll(n,"POST","/v1/accounts:signInWithEmailLink",ji(n,e))}async function Jx(n,e){return ll(n,"POST","/v1/accounts:signInWithEmailLink",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends lm{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Qa(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Qa(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rp(e,t,"signInWithPassword",Yx);case"emailLink":return Xx(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rp(e,i,"signUpPassword",Qx);case"emailLink":return Jx(e,{idToken:t,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(n,e){return ll(n,"POST","/v1/accounts:signInWithIdp",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="http://localhost";class Eo extends lm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=rm(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new Eo(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return bs(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,bs(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bs(e,t)}buildRequest(){const e={requestUri:Zx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tk(n){const e=Ma(ja(n)).link,t=e?Ma(ja(e)).deep_link_id:null,i=Ma(ja(n)).deep_link_id;return(i?Ma(ja(i)).link:null)||i||t||e||n}class um{constructor(e){var t,i,o,a,u,f;const h=Ma(ja(e)),g=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(i=h.oobCode)!==null&&i!==void 0?i:null,v=ek((o=h.mode)!==null&&o!==void 0?o:null);Fe(g&&y&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=y,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=tk(e);try{return new um(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.providerId=js.PROVIDER_ID}static credential(e,t){return Qa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=um.parseLink(t);return Fe(i,"argument-error"),Qa._fromEmailAndCode(e,i.code,i.tenantId)}}js.PROVIDER_ID="password";js.EMAIL_PASSWORD_SIGN_IN_METHOD="password";js.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends IE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends ul{constructor(){super("facebook.com")}static credential(e){return Eo._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends ul{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Eo._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return wi.credential(t,i)}catch{return null}}}wi.GOOGLE_SIGN_IN_METHOD="google.com";wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends ul{constructor(){super("github.com")}static credential(e){return Eo._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.GITHUB_SIGN_IN_METHOD="github.com";Ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends ul{constructor(){super("twitter.com")}static credential(e,t){return Eo._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return bi.credential(t,i)}catch{return null}}}bi.TWITTER_SIGN_IN_METHOD="twitter.com";bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(n,e){return ll(n,"POST","/v1/accounts:signUp",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Fr._fromIdTokenResponse(e,i,o),u=h0(i);return new wo({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=h0(i);return new wo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function h0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends Qr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,lc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new lc(e,t,i,o)}}function xE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?lc._fromErrorAndOperation(n,a,e,i):a})}async function rk(n,e,t=!1){const i=await Ga(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return wo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(n,e,t=!1){const{auth:i}=n;if(pr(i.app))return Promise.reject(Br(i));const o="reauthenticate";try{const a=await Ga(n,xE(i,o,e,n),t);Fe(a.idToken,i,"internal-error");const u=sm(a.idToken);Fe(u,i,"internal-error");const{sub:f}=u;return Fe(n.uid===f,i,"user-mismatch"),wo._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&nr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kE(n,e,t=!1){if(pr(n.app))return Promise.reject(Br(n));const i="signIn",o=await xE(n,i,e),a=await wo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function ok(n,e){return kE(So(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RE(n){const e=So(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sk(n,e,t){if(pr(n.app))return Promise.reject(Br(n));const i=So(n),u=await Rp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nk).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&RE(n),h}),f=await wo._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(f.user),f}function ak(n,e,t){return pr(n.app)?Promise.reject(Br(n)):ok(jn(n),js.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&RE(n),i})}function lk(n,e,t,i){return jn(n).onIdTokenChanged(e,t,i)}function uk(n,e,t){return jn(n).beforeAuthStateChanged(e,t)}const uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(uc,"1"),this.storage.removeItem(uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=1e3,fk=10;class CE extends PE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);Px()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,fk):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ck)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}CE.type="LOCAL";const hk=CE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends PE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}OE.type="SESSION";const NE=OE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Nc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(u).map(async g=>g(t.origin,a)),h=await dk(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const g=cm("",20);o.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(v){const p=v;if(p.data.eventId===g)switch(p.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(p.data.response);break;default:clearTimeout(y),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function mk(n){gr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function gk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function yk(){return LE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="firebaseLocalStorageDb",_k=1,cc="firebaseLocalStorage",ME="fbase_key";class cl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lc(n,e){return n.transaction([cc],e?"readwrite":"readonly").objectStore(cc)}function Ek(){const n=indexedDB.deleteDatabase(DE);return new cl(n).toPromise()}function Pp(){const n=indexedDB.open(DE,_k);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(cc,{keyPath:ME})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(cc)?e(i):(i.close(),await Ek(),e(await Pp()))})})}async function d0(n,e,t){const i=Lc(n,!0).put({[ME]:e,value:t});return new cl(i).toPromise()}async function wk(n,e){const t=Lc(n,!1).get(e),i=await new cl(t).toPromise();return i===void 0?null:i.value}function p0(n,e){const t=Lc(n,!0).delete(e);return new cl(t).toPromise()}const Tk=800,bk=3;class jE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>bk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nc._getInstance(yk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await gk(),!this.activeServiceWorker)return;this.sender=new pk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pp();return await d0(e,uc,"1"),await p0(e,uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>d0(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>wk(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>p0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Lc(o,!1).getAll();return new cl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jE.type="LOCAL";const Sk=jE;new al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(n,e){return e?qr(e):(Fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends lm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ik(n){return kE(n.auth,new fm(n),n.bypassAuthState)}function xk(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),ik(t,new fm(n),n.bypassAuthState)}async function kk(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),rk(t,new fm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ik;case"linkViaPopup":case"linkViaRedirect":return kk;case"reauthViaPopup":case"reauthViaRedirect":return xk;default:nr(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=new al(2e3,1e4);class Es extends VE{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){$r(this.filter.length===1,"Popup operations only handle one event");const e=cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Rk.get())};e()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="pendingRedirect",$u=new Map;class Ck extends VE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=$u.get(this.auth._key());if(!e){try{const i=await Ok(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}$u.set(this.auth._key(),e)}return this.bypassAuthState||$u.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ok(n,e){const t=Dk(e),i=Lk(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function Nk(n,e){$u.set(n._key(),e)}function Lk(n){return qr(n._redirectPersistence)}function Dk(n){return Hu(Pk,n.config.apiKey,n.name)}async function Mk(n,e,t=!1){if(pr(n.app))return Promise.reject(Br(n));const i=So(n),o=Ak(i,e),u=await new Ck(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=10*60*1e3;class Vk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Fk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!FE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(mr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jk&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(e))}saveEventToCache(e){this.cachedEventUids.add(m0(e)),this.lastProcessedEventTime=Date.now()}}function m0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function FE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Fk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(n,e={}){return Vi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bk=/^https?/;async function zk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qk(n);for(const t of e)try{if(Hk(t))return}catch{}nr(n,"unauthorized-domain")}function Hk(n){const e=xp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!Bk.test(t))return!1;if(Uk.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new al(3e4,6e4);function g0(){const n=gr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Kk(n){return new Promise((e,t)=>{var i,o,a;function u(){g0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g0(),t(mr(n,"network-request-failed"))},timeout:$k.get()})}if(!((o=(i=gr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=gr().gapi)===null||a===void 0)&&a.load)u();else{const f=Fx("iframefcb");return gr()[f]=()=>{gapi.load?u():t(mr(n,"network-request-failed"))},bE(`${Vx()}?onload=${f}`).catch(h=>t(h))}}).catch(e=>{throw Ku=null,e})}let Ku=null;function Wk(n){return Ku=Ku||Kk(n),Ku}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=new al(5e3,15e3),Qk="__/auth/iframe",Yk="emulator/auth/iframe",Xk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zk(n){const e=n.config;Fe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?om(e,Yk):`https://${n.config.authDomain}/${Qk}`,i={apiKey:e.apiKey,appName:n.name,v:Ms},o=Jk.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${sl(i).slice(1)}`}async function eR(n){const e=await Wk(n),t=gr().gapi;return Fe(t,n,"internal-error"),e.open({where:document.body,url:Zk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xk,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=mr(n,"network-request-failed"),f=gr().setTimeout(()=>{a(u)},Gk.get());function h(){gr().clearTimeout(f),o(i)}i.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nR=500,rR=600,iR="_blank",oR="http://localhost";class v0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sR(n,e,t,i=nR,o=rR){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const h=Object.assign(Object.assign({},tR),{width:i.toString(),height:o.toString(),top:a,left:u}),g=rn().toLowerCase();t&&(f=gE(g)?iR:t),pE(g)&&(e=e||oR,h.scrollbars="yes");const y=Object.entries(h).reduce((p,[m,S])=>`${p}${m}=${S},`,"");if(Rx(g)&&f!=="_self")return aR(e||"",f),new v0(null);const v=window.open(e||"",f,y);Fe(v,n,"popup-blocked");try{v.focus()}catch{}return new v0(v)}function aR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="__/auth/handler",uR="emulator/auth/handler",cR=encodeURIComponent("fac");async function y0(n,e,t,i,o,a){Fe(n.config.authDomain,n,"auth-domain-config-required"),Fe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ms,eventId:o};if(e instanceof IE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",ZI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof ul){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const h=await n._getAppCheckToken(),g=h?`#${cR}=${encodeURIComponent(h)}`:"";return`${fR(n)}?${sl(f).slice(1)}${g}`}function fR({config:n}){return n.emulator?om(n,uR):`https://${n.authDomain}/${lR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="webStorageSupport";class hR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NE,this._completeRedirectFn=Mk,this._overrideRedirectResult=Nk}async _openPopup(e,t,i,o){var a;$r((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await y0(e,t,i,xp(),o);return sR(e,u,cm())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await y0(e,t,i,xp(),o);return mk(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):($r(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await eR(e),i=new Vk(e);return t.register("authEvent",o=>(Fe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pp,{type:pp},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[pp];u!==void 0&&t(!!u),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wE()||mE()||am()}}const dR=hR;var _0="@firebase/auth",E0="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gR(n){As(new _o("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Fe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TE(n)},g=new Dx(i,o,a,h);return $x(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),As(new _o("auth-internal",e=>{const t=So(e.getProvider("auth").getImmediate());return(i=>new pR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(_0,E0,mR(n)),ki(_0,E0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=5*60,yR=J1("authIdTokenMaxAge")||vR;let w0=null;const _R=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>yR)return;const o=t==null?void 0:t.token;w0!==o&&(w0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qE(n=nE()){const e=nm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Hx(n,{popupRedirectResolver:dR,persistence:[Sk,hk,NE]}),i=J1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=_R(a.toString());uk(t,u,()=>u(t.currentUser)),lk(t,f=>u(f))}}const o=Y1("auth");return o&&Kx(t,`http://${o}`),t}function ER(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Mx({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=mr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",ER().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gR("Browser");var wR="firebase",TR="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(wR,TR,"app");const bR={apiKey:"AIzaSyBw2Hm0AGnVRfcXc9C9HmBZQ4kwNhYQcoQ",authDomain:"blogg-app-1bdf0.firebaseapp.com",projectId:"blogg-app-1bdf0",storageBucket:"blogg-app-1bdf0.firebasestorage.app",messagingSenderId:"778817674530",appId:"1:778817674530:web:668074d5c2f147b66f197b"},fl=tE(bR),SR=qE(fl),AR=()=>{const n=SR.currentUser;return n?{id:n.uid,email:n.email}:null};var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vo,UE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function D(){}D.prototype=x.prototype,P.D=x.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(C,I,L){for(var N=Array(arguments.length-2),H=2;H<arguments.length;H++)N[H-2]=arguments[H];return x.prototype[I].apply(C,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,x,D){D||(D=0);var C=Array(16);if(typeof x=="string")for(var I=0;16>I;++I)C[I]=x.charCodeAt(D++)|x.charCodeAt(D++)<<8|x.charCodeAt(D++)<<16|x.charCodeAt(D++)<<24;else for(I=0;16>I;++I)C[I]=x[D++]|x[D++]<<8|x[D++]<<16|x[D++]<<24;x=P.g[0],D=P.g[1],I=P.g[2];var L=P.g[3],N=x+(L^D&(I^L))+C[0]+3614090360&4294967295;x=D+(N<<7&4294967295|N>>>25),N=L+(I^x&(D^I))+C[1]+3905402710&4294967295,L=x+(N<<12&4294967295|N>>>20),N=I+(D^L&(x^D))+C[2]+606105819&4294967295,I=L+(N<<17&4294967295|N>>>15),N=D+(x^I&(L^x))+C[3]+3250441966&4294967295,D=I+(N<<22&4294967295|N>>>10),N=x+(L^D&(I^L))+C[4]+4118548399&4294967295,x=D+(N<<7&4294967295|N>>>25),N=L+(I^x&(D^I))+C[5]+1200080426&4294967295,L=x+(N<<12&4294967295|N>>>20),N=I+(D^L&(x^D))+C[6]+2821735955&4294967295,I=L+(N<<17&4294967295|N>>>15),N=D+(x^I&(L^x))+C[7]+4249261313&4294967295,D=I+(N<<22&4294967295|N>>>10),N=x+(L^D&(I^L))+C[8]+1770035416&4294967295,x=D+(N<<7&4294967295|N>>>25),N=L+(I^x&(D^I))+C[9]+2336552879&4294967295,L=x+(N<<12&4294967295|N>>>20),N=I+(D^L&(x^D))+C[10]+4294925233&4294967295,I=L+(N<<17&4294967295|N>>>15),N=D+(x^I&(L^x))+C[11]+2304563134&4294967295,D=I+(N<<22&4294967295|N>>>10),N=x+(L^D&(I^L))+C[12]+1804603682&4294967295,x=D+(N<<7&4294967295|N>>>25),N=L+(I^x&(D^I))+C[13]+4254626195&4294967295,L=x+(N<<12&4294967295|N>>>20),N=I+(D^L&(x^D))+C[14]+2792965006&4294967295,I=L+(N<<17&4294967295|N>>>15),N=D+(x^I&(L^x))+C[15]+1236535329&4294967295,D=I+(N<<22&4294967295|N>>>10),N=x+(I^L&(D^I))+C[1]+4129170786&4294967295,x=D+(N<<5&4294967295|N>>>27),N=L+(D^I&(x^D))+C[6]+3225465664&4294967295,L=x+(N<<9&4294967295|N>>>23),N=I+(x^D&(L^x))+C[11]+643717713&4294967295,I=L+(N<<14&4294967295|N>>>18),N=D+(L^x&(I^L))+C[0]+3921069994&4294967295,D=I+(N<<20&4294967295|N>>>12),N=x+(I^L&(D^I))+C[5]+3593408605&4294967295,x=D+(N<<5&4294967295|N>>>27),N=L+(D^I&(x^D))+C[10]+38016083&4294967295,L=x+(N<<9&4294967295|N>>>23),N=I+(x^D&(L^x))+C[15]+3634488961&4294967295,I=L+(N<<14&4294967295|N>>>18),N=D+(L^x&(I^L))+C[4]+3889429448&4294967295,D=I+(N<<20&4294967295|N>>>12),N=x+(I^L&(D^I))+C[9]+568446438&4294967295,x=D+(N<<5&4294967295|N>>>27),N=L+(D^I&(x^D))+C[14]+3275163606&4294967295,L=x+(N<<9&4294967295|N>>>23),N=I+(x^D&(L^x))+C[3]+4107603335&4294967295,I=L+(N<<14&4294967295|N>>>18),N=D+(L^x&(I^L))+C[8]+1163531501&4294967295,D=I+(N<<20&4294967295|N>>>12),N=x+(I^L&(D^I))+C[13]+2850285829&4294967295,x=D+(N<<5&4294967295|N>>>27),N=L+(D^I&(x^D))+C[2]+4243563512&4294967295,L=x+(N<<9&4294967295|N>>>23),N=I+(x^D&(L^x))+C[7]+1735328473&4294967295,I=L+(N<<14&4294967295|N>>>18),N=D+(L^x&(I^L))+C[12]+2368359562&4294967295,D=I+(N<<20&4294967295|N>>>12),N=x+(D^I^L)+C[5]+4294588738&4294967295,x=D+(N<<4&4294967295|N>>>28),N=L+(x^D^I)+C[8]+2272392833&4294967295,L=x+(N<<11&4294967295|N>>>21),N=I+(L^x^D)+C[11]+1839030562&4294967295,I=L+(N<<16&4294967295|N>>>16),N=D+(I^L^x)+C[14]+4259657740&4294967295,D=I+(N<<23&4294967295|N>>>9),N=x+(D^I^L)+C[1]+2763975236&4294967295,x=D+(N<<4&4294967295|N>>>28),N=L+(x^D^I)+C[4]+1272893353&4294967295,L=x+(N<<11&4294967295|N>>>21),N=I+(L^x^D)+C[7]+4139469664&4294967295,I=L+(N<<16&4294967295|N>>>16),N=D+(I^L^x)+C[10]+3200236656&4294967295,D=I+(N<<23&4294967295|N>>>9),N=x+(D^I^L)+C[13]+681279174&4294967295,x=D+(N<<4&4294967295|N>>>28),N=L+(x^D^I)+C[0]+3936430074&4294967295,L=x+(N<<11&4294967295|N>>>21),N=I+(L^x^D)+C[3]+3572445317&4294967295,I=L+(N<<16&4294967295|N>>>16),N=D+(I^L^x)+C[6]+76029189&4294967295,D=I+(N<<23&4294967295|N>>>9),N=x+(D^I^L)+C[9]+3654602809&4294967295,x=D+(N<<4&4294967295|N>>>28),N=L+(x^D^I)+C[12]+3873151461&4294967295,L=x+(N<<11&4294967295|N>>>21),N=I+(L^x^D)+C[15]+530742520&4294967295,I=L+(N<<16&4294967295|N>>>16),N=D+(I^L^x)+C[2]+3299628645&4294967295,D=I+(N<<23&4294967295|N>>>9),N=x+(I^(D|~L))+C[0]+4096336452&4294967295,x=D+(N<<6&4294967295|N>>>26),N=L+(D^(x|~I))+C[7]+1126891415&4294967295,L=x+(N<<10&4294967295|N>>>22),N=I+(x^(L|~D))+C[14]+2878612391&4294967295,I=L+(N<<15&4294967295|N>>>17),N=D+(L^(I|~x))+C[5]+4237533241&4294967295,D=I+(N<<21&4294967295|N>>>11),N=x+(I^(D|~L))+C[12]+1700485571&4294967295,x=D+(N<<6&4294967295|N>>>26),N=L+(D^(x|~I))+C[3]+2399980690&4294967295,L=x+(N<<10&4294967295|N>>>22),N=I+(x^(L|~D))+C[10]+4293915773&4294967295,I=L+(N<<15&4294967295|N>>>17),N=D+(L^(I|~x))+C[1]+2240044497&4294967295,D=I+(N<<21&4294967295|N>>>11),N=x+(I^(D|~L))+C[8]+1873313359&4294967295,x=D+(N<<6&4294967295|N>>>26),N=L+(D^(x|~I))+C[15]+4264355552&4294967295,L=x+(N<<10&4294967295|N>>>22),N=I+(x^(L|~D))+C[6]+2734768916&4294967295,I=L+(N<<15&4294967295|N>>>17),N=D+(L^(I|~x))+C[13]+1309151649&4294967295,D=I+(N<<21&4294967295|N>>>11),N=x+(I^(D|~L))+C[4]+4149444226&4294967295,x=D+(N<<6&4294967295|N>>>26),N=L+(D^(x|~I))+C[11]+3174756917&4294967295,L=x+(N<<10&4294967295|N>>>22),N=I+(x^(L|~D))+C[2]+718787259&4294967295,I=L+(N<<15&4294967295|N>>>17),N=D+(L^(I|~x))+C[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+I&4294967295,P.g[3]=P.g[3]+L&4294967295}i.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var D=x-this.blockSize,C=this.B,I=this.h,L=0;L<x;){if(I==0)for(;L<=D;)o(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<x;)if(C[I++]=P.charCodeAt(L++),I==this.blockSize){o(this,C),I=0;break}}else for(;L<x;)if(C[I++]=P[L++],I==this.blockSize){o(this,C),I=0;break}}this.h=I,this.o+=x},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var D=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=D&255,D/=256;for(this.u(P),P=Array(16),x=D=0;4>x;++x)for(var C=0;32>C;C+=8)P[D++]=this.g[x]>>>C&255;return P};function a(P,x){var D=f;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=x(P)}function u(P,x){this.h=x;for(var D=[],C=!0,I=P.length-1;0<=I;I--){var L=P[I]|0;C&&L==x||(D[I]=L,C=!1)}this.g=D}var f={};function h(P){return-128<=P&&128>P?a(P,function(x){return new u([x|0],0>x?-1:0)}):new u([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return v;if(0>P)return _(g(-P));for(var x=[],D=1,C=0;P>=D;C++)x[C]=P/D|0,D*=4294967296;return new u(x,0)}function y(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return _(y(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(x,8)),C=v,I=0;I<P.length;I+=8){var L=Math.min(8,P.length-I),N=parseInt(P.substring(I,I+L),x);8>L?(L=g(Math.pow(x,L)),C=C.j(L).add(g(N))):(C=C.j(D),C=C.add(g(N)))}return C}var v=h(0),p=h(1),m=h(16777216);n=u.prototype,n.m=function(){if(w(this))return-_(this).m();for(var P=0,x=1,D=0;D<this.g.length;D++){var C=this.i(D);P+=(0<=C?C:4294967296+C)*x,x*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(S(this))return"0";if(w(this))return"-"+_(this).toString(P);for(var x=g(Math.pow(P,6)),D=this,C="";;){var I=A(D,x).g;D=E(D,I.j(x));var L=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=I,S(D))return L+C;for(;6>L.length;)L="0"+L;C=L+C}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function S(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function w(P){return P.h==-1}n.l=function(P){return P=E(this,P),w(P)?-1:S(P)?0:1};function _(P){for(var x=P.g.length,D=[],C=0;C<x;C++)D[C]=~P.g[C];return new u(D,~P.h).add(p)}n.abs=function(){return w(this)?_(this):this},n.add=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],C=0,I=0;I<=x;I++){var L=C+(this.i(I)&65535)+(P.i(I)&65535),N=(L>>>16)+(this.i(I)>>>16)+(P.i(I)>>>16);C=N>>>16,L&=65535,N&=65535,D[I]=N<<16|L}return new u(D,D[D.length-1]&-2147483648?-1:0)};function E(P,x){return P.add(_(x))}n.j=function(P){if(S(this)||S(P))return v;if(w(this))return w(P)?_(this).j(_(P)):_(_(this).j(P));if(w(P))return _(this.j(_(P)));if(0>this.l(m)&&0>P.l(m))return g(this.m()*P.m());for(var x=this.g.length+P.g.length,D=[],C=0;C<2*x;C++)D[C]=0;for(C=0;C<this.g.length;C++)for(var I=0;I<P.g.length;I++){var L=this.i(C)>>>16,N=this.i(C)&65535,H=P.i(I)>>>16,G=P.i(I)&65535;D[2*C+2*I]+=N*G,T(D,2*C+2*I),D[2*C+2*I+1]+=L*G,T(D,2*C+2*I+1),D[2*C+2*I+1]+=N*H,T(D,2*C+2*I+1),D[2*C+2*I+2]+=L*H,T(D,2*C+2*I+2)}for(C=0;C<x;C++)D[C]=D[2*C+1]<<16|D[2*C];for(C=x;C<2*x;C++)D[C]=0;return new u(D,0)};function T(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function O(P,x){this.g=P,this.h=x}function A(P,x){if(S(x))throw Error("division by zero");if(S(P))return new O(v,v);if(w(P))return x=A(_(P),x),new O(_(x.g),_(x.h));if(w(x))return x=A(P,_(x)),new O(_(x.g),x.h);if(30<P.g.length){if(w(P)||w(x))throw Error("slowDivide_ only works with positive integers.");for(var D=p,C=x;0>=C.l(P);)D=M(D),C=M(C);var I=F(D,1),L=F(C,1);for(C=F(C,2),D=F(D,2);!S(C);){var N=L.add(C);0>=N.l(P)&&(I=I.add(D),L=N),C=F(C,1),D=F(D,1)}return x=E(P,I.j(x)),new O(I,x)}for(I=v;0<=P.l(x);){for(D=Math.max(1,Math.floor(P.m()/x.m())),C=Math.ceil(Math.log(D)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),L=g(D),N=L.j(x);w(N)||0<N.l(P);)D-=C,L=g(D),N=L.j(x);S(L)&&(L=p),I=I.add(L),P=E(P,N)}return new O(I,P)}n.A=function(P){return A(this,P).h},n.and=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],C=0;C<x;C++)D[C]=this.i(C)&P.i(C);return new u(D,this.h&P.h)},n.or=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],C=0;C<x;C++)D[C]=this.i(C)|P.i(C);return new u(D,this.h|P.h)},n.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),D=[],C=0;C<x;C++)D[C]=this.i(C)^P.i(C);return new u(D,this.h^P.h)};function M(P){for(var x=P.g.length+1,D=[],C=0;C<x;C++)D[C]=P.i(C)<<1|P.i(C-1)>>>31;return new u(D,P.h)}function F(P,x){var D=x>>5;x%=32;for(var C=P.g.length-D,I=[],L=0;L<C;L++)I[L]=0<x?P.i(L+D)>>>x|P.i(L+D+1)<<32-x:P.i(L+D);return new u(I,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,UE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,vo=u}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BE,Va,zE,Wu,Cp,HE,$E,KE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,k,V){return c==Array.prototype||c==Object.prototype||(c[k]=V.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lu=="object"&&Lu];for(var k=0;k<c.length;++k){var V=c[k];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var i=t(this);function o(c,k){if(k)e:{var V=i;c=c.split(".");for(var B=0;B<c.length-1;B++){var ae=c[B];if(!(ae in V))break e;V=V[ae]}c=c[c.length-1],B=V[c],k=k(B),k!=B&&k!=null&&e(V,c,{configurable:!0,writable:!0,value:k})}}function a(c,k){c instanceof String&&(c+="");var V=0,B=!1,ae={next:function(){if(!B&&V<c.length){var fe=V++;return{value:k(fe,c[fe]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}o("Array.prototype.values",function(c){return c||function(){return a(this,function(k,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(c){var k=typeof c;return k=k!="object"?k:c?Array.isArray(c)?"array":k:"null",k=="array"||k=="object"&&typeof c.length=="number"}function g(c){var k=typeof c;return k=="object"&&c!=null||k=="function"}function y(c,k,V){return c.call.apply(c.bind,arguments)}function v(c,k,V){if(!c)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,B),c.apply(k,ae)}}return function(){return c.apply(k,arguments)}}function p(c,k,V){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,p.apply(null,arguments)}function m(c,k){var V=Array.prototype.slice.call(arguments,1);return function(){var B=V.slice();return B.push.apply(B,arguments),c.apply(this,B)}}function S(c,k){function V(){}V.prototype=k.prototype,c.aa=k.prototype,c.prototype=new V,c.prototype.constructor=c,c.Qb=function(B,ae,fe){for(var Se=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)Se[ut-2]=arguments[ut];return k.prototype[ae].apply(B,Se)}}function w(c){const k=c.length;if(0<k){const V=Array(k);for(let B=0;B<k;B++)V[B]=c[B];return V}return[]}function _(c,k){for(let V=1;V<arguments.length;V++){const B=arguments[V];if(h(B)){const ae=c.length||0,fe=B.length||0;c.length=ae+fe;for(let Se=0;Se<fe;Se++)c[ae+Se]=B[Se]}else c.push(B)}}class E{constructor(k,V){this.i=k,this.j=V,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function T(c){return/^[\s\xa0]*$/.test(c)}function O(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function A(c){return A[" "](c),c}A[" "]=function(){};var M=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function F(c,k,V){for(const B in c)k.call(V,c[B],B,c)}function P(c,k){for(const V in c)k.call(void 0,c[V],V,c)}function x(c){const k={};for(const V in c)k[V]=c[V];return k}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,k){let V,B;for(let ae=1;ae<arguments.length;ae++){B=arguments[ae];for(V in B)c[V]=B[V];for(let fe=0;fe<D.length;fe++)V=D[fe],Object.prototype.hasOwnProperty.call(B,V)&&(c[V]=B[V])}}function I(c){var k=1;c=c.split(":");const V=[];for(;0<k&&c.length;)V.push(c.shift()),k--;return c.length&&V.push(c.join(":")),V}function L(c){f.setTimeout(()=>{throw c},0)}function N(){var c=Y;let k=null;return c.g&&(k=c.g,c.g=c.g.next,c.g||(c.h=null),k.next=null),k}class H{constructor(){this.h=this.g=null}add(k,V){const B=G.get();B.set(k,V),this.h?this.h.next=B:this.g=B,this.h=B}}var G=new E(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(k,V){this.h=k,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ie=!1,Y=new H,$=()=>{const c=f.Promise.resolve(void 0);ne=()=>{c.then(j)}};var j=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(V){L(V)}var k=G;k.j(c),100>k.h&&(k.h++,c.next=k.g,k.g=c)}ie=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(c,k){this.type=c,this.g=this.target=k,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,k=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const V=()=>{};f.addEventListener("test",V,k),f.removeEventListener("test",V,k)}catch{}return c}();function Z(c,k){if(K.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var V=this.type=c.type,B=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=k,k=c.relatedTarget){if(M){e:{try{A(k.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(k=null)}}else V=="mouseover"?k=c.fromElement:V=="mouseout"&&(k=c.toElement);this.relatedTarget=k,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:z[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Z.aa.h.call(this)}}S(Z,K);var z={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),oe=0;function se(c,k,V,B,ae){this.listener=c,this.proxy=null,this.src=k,this.type=V,this.capture=!!B,this.ha=ae,this.key=++oe,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c){this.src=c,this.g={},this.h=0}Ie.prototype.add=function(c,k,V,B,ae){var fe=c.toString();c=this.g[fe],c||(c=this.g[fe]=[],this.h++);var Se=Ve(c,k,B,ae);return-1<Se?(k=c[Se],V||(k.fa=!1)):(k=new se(k,this.src,fe,!!B,ae),k.fa=V,c.push(k)),k};function Le(c,k){var V=k.type;if(V in c.g){var B=c.g[V],ae=Array.prototype.indexOf.call(B,k,void 0),fe;(fe=0<=ae)&&Array.prototype.splice.call(B,ae,1),fe&&(pe(k),c.g[V].length==0&&(delete c.g[V],c.h--))}}function Ve(c,k,V,B){for(var ae=0;ae<c.length;++ae){var fe=c[ae];if(!fe.da&&fe.listener==k&&fe.capture==!!V&&fe.ha==B)return ae}return-1}var Ke="closure_lm_"+(1e6*Math.random()|0),Qe={};function xt(c,k,V,B,ae){if(Array.isArray(k)){for(var fe=0;fe<k.length;fe++)xt(c,k[fe],V,B,ae);return null}return V=We(V),c&&c[X]?c.K(k,V,g(B)?!!B.capture:!!B,ae):dt(c,k,V,!1,B,ae)}function dt(c,k,V,B,ae,fe){if(!k)throw Error("Invalid event type");var Se=g(ae)?!!ae.capture:!!ae,ut=Be(c);if(ut||(c[Ke]=ut=new Ie(c)),V=ut.add(k,V,B,Se,fe),V.proxy)return V;if(B=de(),V.proxy=B,B.src=c,B.listener=V,c.addEventListener)ee||(ae=Se),ae===void 0&&(ae=!1),c.addEventListener(k.toString(),B,ae);else if(c.attachEvent)c.attachEvent(Ae(k.toString()),B);else if(c.addListener&&c.removeListener)c.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return V}function de(){function c(V){return k.call(c.src,c.listener,V)}const k=ve;return c}function me(c,k,V,B,ae){if(Array.isArray(k))for(var fe=0;fe<k.length;fe++)me(c,k[fe],V,B,ae);else B=g(B)?!!B.capture:!!B,V=We(V),c&&c[X]?(c=c.i,k=String(k).toString(),k in c.g&&(fe=c.g[k],V=Ve(fe,V,B,ae),-1<V&&(pe(fe[V]),Array.prototype.splice.call(fe,V,1),fe.length==0&&(delete c.g[k],c.h--)))):c&&(c=Be(c))&&(k=c.g[k.toString()],c=-1,k&&(c=Ve(k,V,B,ae)),(V=-1<c?k[c]:null)&&be(V))}function be(c){if(typeof c!="number"&&c&&!c.da){var k=c.src;if(k&&k[X])Le(k.i,c);else{var V=c.type,B=c.proxy;k.removeEventListener?k.removeEventListener(V,B,c.capture):k.detachEvent?k.detachEvent(Ae(V),B):k.addListener&&k.removeListener&&k.removeListener(B),(V=Be(k))?(Le(V,c),V.h==0&&(V.src=null,k[Ke]=null)):pe(c)}}}function Ae(c){return c in Qe?Qe[c]:Qe[c]="on"+c}function ve(c,k){if(c.da)c=!0;else{k=new Z(k,this);var V=c.listener,B=c.ha||c.src;c.fa&&be(c),c=V.call(B,k)}return c}function Be(c){return c=c[Ke],c instanceof Ie?c:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function We(c){return typeof c=="function"?c:(c[ze]||(c[ze]=function(k){return c.handleEvent(k)}),c[ze])}function it(){U.call(this),this.i=new Ie(this),this.M=this,this.F=null}S(it,U),it.prototype[X]=!0,it.prototype.removeEventListener=function(c,k,V,B){me(this,c,k,V,B)};function at(c,k){var V,B=c.F;if(B)for(V=[];B;B=B.F)V.push(B);if(c=c.M,B=k.type||k,typeof k=="string")k=new K(k,c);else if(k instanceof K)k.target=k.target||c;else{var ae=k;k=new K(B,c),C(k,ae)}if(ae=!0,V)for(var fe=V.length-1;0<=fe;fe--){var Se=k.g=V[fe];ae=nt(Se,B,!0,k)&&ae}if(Se=k.g=c,ae=nt(Se,B,!0,k)&&ae,ae=nt(Se,B,!1,k)&&ae,V)for(fe=0;fe<V.length;fe++)Se=k.g=V[fe],ae=nt(Se,B,!1,k)&&ae}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var c=this.i,k;for(k in c.g){for(var V=c.g[k],B=0;B<V.length;B++)pe(V[B]);delete c.g[k],c.h--}}this.F=null},it.prototype.K=function(c,k,V,B){return this.i.add(String(c),k,!1,V,B)},it.prototype.L=function(c,k,V,B){return this.i.add(String(c),k,!0,V,B)};function nt(c,k,V,B){if(k=c.i.g[String(k)],!k)return!0;k=k.concat();for(var ae=!0,fe=0;fe<k.length;++fe){var Se=k[fe];if(Se&&!Se.da&&Se.capture==V){var ut=Se.listener,Ct=Se.ha||Se.src;Se.fa&&Le(c.i,Se),ae=ut.call(Ct,B)!==!1&&ae}}return ae&&!B.defaultPrevented}function Fi(c,k,V){if(typeof c=="function")V&&(c=p(c,V));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:f.setTimeout(c,k||0)}function lt(c){c.g=Fi(()=>{c.g=null,c.i&&(c.i=!1,lt(c))},c.l);const k=c.h;c.h=null,c.m.apply(null,k)}class Qt extends U{constructor(k,V){super(),this.m=k,this.l=V,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(c){U.call(this),this.h=c,this.g={}}S(qi,U);var Bs=[];function zs(c){F(c.g,function(k,V){this.g.hasOwnProperty(V)&&be(k)},c),c.g={}}qi.prototype.N=function(){qi.aa.N.call(this),zs(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hs=f.JSON.stringify,$s=f.JSON.parse,Ks=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ui(){}Ui.prototype.h=null;function Ro(c){return c.h||(c.h=c.i())}function Po(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){K.call(this,"d")}S(rr,K);function Co(){K.call(this,"c")}S(Co,K);var ir={},Ws=null;function Bi(){return Ws=Ws||new it}ir.La="serverreachability";function Gs(c){K.call(this,ir.La,c)}S(Gs,K);function Sr(c){const k=Bi();at(k,new Gs(k))}ir.STAT_EVENT="statevent";function Qs(c,k){K.call(this,ir.STAT_EVENT,c),this.stat=k}S(Qs,K);function St(c){const k=Bi();at(k,new Qs(k,c))}ir.Ma="timingevent";function Oo(c,k){K.call(this,ir.Ma,c),this.size=k}S(Oo,K);function Vn(c,k){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},k)}function zi(){this.g=!0}zi.prototype.xa=function(){this.g=!1};function Hi(c,k,V,B,ae,fe){c.info(function(){if(c.g)if(fe)for(var Se="",ut=fe.split("&"),Ct=0;Ct<ut.length;Ct++){var et=ut[Ct].split("=");if(1<et.length){var jt=et[0];et=et[1];var kt=jt.split("_");Se=2<=kt.length&&kt[1]=="type"?Se+(jt+"="+et+"&"):Se+(jt+"=redacted&")}}else Se=null;else Se=fe;return"XMLHTTP REQ ("+B+") [attempt "+ae+"]: "+k+`
`+V+`
`+Se})}function No(c,k,V,B,ae,fe,Se){c.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ae+"]: "+k+`
`+V+`
`+fe+" "+Se})}function Fn(c,k,V,B){c.info(function(){return"XMLHTTP TEXT ("+k+"): "+Qc(c,V)+(B?" "+B:"")})}function Ys(c,k){c.info(function(){return"TIMEOUT: "+k})}zi.prototype.info=function(){};function Qc(c,k){if(!c.g)return k;if(!k)return null;try{var V=JSON.parse(k);if(V){for(c=0;c<V.length;c++)if(Array.isArray(V[c])){var B=V[c];if(!(2>B.length)){var ae=B[1];if(Array.isArray(ae)&&!(1>ae.length)){var fe=ae[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Se=1;Se<ae.length;Se++)ae[Se]=""}}}}return Hs(V)}catch{return k}}var Lo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function $i(){}S($i,Ui),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},qn=new $i;function Un(c,k,V,B){this.j=c,this.i=k,this.l=V,this.R=B||1,this.U=new qi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vl}function vl(){this.i=null,this.g="",this.h=!1}var Xs={},Do={};function Mo(c,k,V){c.L=1,c.v=ei(En(k)),c.m=V,c.P=!0,Js(c,null)}function Js(c,k){c.F=Date.now(),ft(c),c.A=En(c.v);var V=c.A,B=c.R;Array.isArray(B)||(B=[String(B)]),ni(V.i,"t",B),c.C=0,V=c.j.J,c.h=new vl,c.g=Dl(c.j,V?k:null,!c.m),0<c.O&&(c.M=new Qt(p(c.Y,c,c.g),c.O)),k=c.U,V=c.g,B=c.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(Bs[0]=ae.toString()),ae=Bs);for(var fe=0;fe<ae.length;fe++){var Se=xt(V,ae[fe],B||k.handleEvent,!1,k.h||k);if(!Se)break;k.g[Se.key]=Se}k=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,k)):(c.u="GET",c.g.ea(c.A,c.u,null,k)),Sr(),Hi(c.i,c.u,c.A,c.l,c.R,c.m)}Un.prototype.ca=function(c){c=c.target;const k=this.M;k&&cn(c)==3?k.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{const kt=cn(this.g);var k=this.g.Ba();const Rn=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||ia(this.g)))){this.J||kt!=4||k==7||(k==8||0>=Rn?Sr(3):Sr(2)),Ki(this);var V=this.g.Z();this.X=V;t:if(yl(this)){var B=ia(this.g);c="";var ae=B.length,fe=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),Yr(this);var Se="";break t}this.h.i=new f.TextDecoder}for(k=0;k<ae;k++)this.h.h=!0,c+=this.h.i.decode(B[k],{stream:!(fe&&k==ae-1)});B.length=0,this.h.g+=c,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=V==200,No(this.i,this.u,this.A,this.l,this.R,kt,V),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,Ct=this.g;if((ut=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(ut)){var et=ut;break t}}et=null}if(V=et)Fn(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zs(this,V);else{this.o=!1,this.s=3,St(12),xn(this),Yr(this);break e}}if(this.P){V=!0;let Tn;for(;!this.J&&this.C<Se.length;)if(Tn=Yc(this,Se),Tn==Do){kt==4&&(this.s=4,St(14),V=!1),Fn(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==Xs){this.s=4,St(15),Fn(this.i,this.l,Se,"[Invalid Chunk]"),V=!1;break}else Fn(this.i,this.l,Tn,null),Zs(this,Tn);if(yl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||Se.length!=0||this.h.h||(this.s=1,St(16),V=!1),this.o=this.o&&V,!V)Fn(this.i,this.l,Se,"[Invalid Chunked Response]"),xn(this),Yr(this);else if(0<Se.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),sa(jt),jt.M=!0,St(11))}}else Fn(this.i,this.l,Se,null),Zs(this,Se);kt==4&&xn(this),this.o&&!this.J&&(kt==4?Wo(this.j,this):(this.o=!1,ft(this)))}else Bo(this.g),V==400&&0<Se.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),xn(this),Yr(this)}}}catch{}finally{}};function yl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Yc(c,k){var V=c.C,B=k.indexOf(`
`,V);return B==-1?Do:(V=Number(k.substring(V,B)),isNaN(V)?Xs:(B+=1,B+V>k.length?Do:(k=k.slice(B,B+V),c.C=B+V,k)))}Un.prototype.cancel=function(){this.J=!0,xn(this)};function ft(c){c.S=Date.now()+c.I,_l(c,c.I)}function _l(c,k){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Vn(p(c.ba,c),k)}function Ki(c){c.B&&(f.clearTimeout(c.B),c.B=null)}Un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ys(this.i,this.A),this.L!=2&&(Sr(),St(17)),xn(this),this.s=2,Yr(this)):_l(this,this.S-c)};function Yr(c){c.j.G==0||c.J||Wo(c.j,c)}function xn(c){Ki(c);var k=c.M;k&&typeof k.ma=="function"&&k.ma(),c.M=null,zs(c.U),c.g&&(k=c.g,c.g=null,k.abort(),k.ma())}function Zs(c,k){try{var V=c.j;if(V.G!=0&&(V.g==c||on(V.h,c))){if(!c.K&&on(V.h,c)&&V.G==3){try{var B=V.Da.g.parse(k)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ae=B;if(ae[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<c.F)Ko(V),Kn(V);else break e;$o(V),St(18)}}else V.za=ae[1],0<V.za-V.T&&37500>ae[2]&&V.F&&V.v==0&&!V.C&&(V.C=Vn(p(V.Za,V),6e3));if(1>=wl(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else Rr(V,11)}else if((c.K||V.g==c)&&Ko(V),!T(k))for(ae=V.Da.g.parse(k),k=0;k<ae.length;k++){let et=ae[k];if(V.T=et[0],et=et[1],V.G==2)if(et[0]=="c"){V.K=et[1],V.ia=et[2];const jt=et[3];jt!=null&&(V.la=jt,V.j.info("VER="+V.la));const kt=et[4];kt!=null&&(V.Aa=kt,V.j.info("SVER="+V.Aa));const Rn=et[5];Rn!=null&&typeof Rn=="number"&&0<Rn&&(B=1.5*Rn,V.L=B,V.j.info("backChannelRequestTimeoutMs_="+B)),B=V;const Tn=c.g;if(Tn){const Zi=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var fe=B.h;fe.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(ea(fe,fe.h),fe.h=null))}if(B.D){const Qo=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(B.ya=Qo,ct(B.I,B.D,Qo))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-c.F,V.j.info("Handshake RTT: "+V.R+"ms")),B=V;var Se=c;if(B.qa=Ll(B,B.J?B.ia:null,B.W),Se.K){Tl(B.h,Se);var ut=Se,Ct=B.L;Ct&&(ut.I=Ct),ut.B&&(Ki(ut),ft(ut)),B.g=Se}else Ji(B);0<V.i.length&&lr(V)}else et[0]!="stop"&&et[0]!="close"||Rr(V,7);else V.G==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Rr(V,7):zt(V):et[0]!="noop"&&V.l&&V.l.ta(et),V.v=0)}}Sr(4)}catch{}}var El=class{constructor(c,k){this.g=c,this.map=k}};function Wi(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _n(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wl(c){return c.h?1:c.g?c.g.size:0}function on(c,k){return c.h?c.h==k:c.g?c.g.has(k):!1}function ea(c,k){c.g?c.g.add(k):c.h=k}function Tl(c,k){c.h&&c.h==k?c.h=null:c.g&&c.g.has(k)&&c.g.delete(k)}Wi.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let k=c.i;for(const V of c.g.values())k=k.concat(V.D);return k}return w(c.i)}function jo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var k=[],V=c.length,B=0;B<V;B++)k.push(c[B]);return k}k=[],V=0;for(B in c)k[V++]=c[B];return k}function Vo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var k=[];c=c.length;for(var V=0;V<c;V++)k.push(V);return k}k=[],V=0;for(const B in c)k[V++]=B;return k}}}function Xr(c,k){if(c.forEach&&typeof c.forEach=="function")c.forEach(k,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,k,void 0);else for(var V=Vo(c),B=jo(c),ae=B.length,fe=0;fe<ae;fe++)k.call(void 0,B[fe],V&&V[fe],c)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xc(c,k){if(c){c=c.split("&");for(var V=0;V<c.length;V++){var B=c[V].indexOf("="),ae=null;if(0<=B){var fe=c[V].substring(0,B);ae=c[V].substring(B+1)}else fe=c[V];k(fe,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Ar(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ar){this.h=c.h,Qi(this,c.j),this.o=c.o,this.g=c.g,Jr(this,c.s),this.l=c.l;var k=c.i,V=new or;V.i=k.i,k.g&&(V.g=new Map(k.g),V.h=k.h),Zr(this,V),this.m=c.m}else c&&(k=String(c).match(Gi))?(this.h=!1,Qi(this,k[1]||"",!0),this.o=Je(k[2]||""),this.g=Je(k[3]||"",!0),Jr(this,k[4]),this.l=Je(k[5]||"",!0),Zr(this,k[6]||"",!0),this.m=Je(k[7]||"")):(this.h=!1,this.i=new or(null,this.h))}Ar.prototype.toString=function(){var c=[],k=this.j;k&&c.push(ti(k,Fo,!0),":");var V=this.g;return(V||k=="file")&&(c.push("//"),(k=this.o)&&c.push(ti(k,Fo,!0),"@"),c.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&c.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&c.push("/"),c.push(ti(V,V.charAt(0)=="/"?Il:Al,!0))),(V=this.i.toString())&&c.push("?",V),(V=this.m)&&c.push("#",ti(V,ta)),c.join("")};function En(c){return new Ar(c)}function Qi(c,k,V){c.j=V?Je(k,!0):k,c.j&&(c.j=c.j.replace(/:$/,""))}function Jr(c,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);c.s=k}else c.s=null}function Zr(c,k,V){k instanceof or?(c.i=k,sr(c.i,c.h)):(V||(k=ti(k,xl)),c.i=new or(k,c.h))}function ct(c,k,V){c.i.set(k,V)}function ei(c){return ct(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Je(c,k){return c?k?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ti(c,k,V){return typeof c=="string"?(c=encodeURI(c).replace(k,Sl),V&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Sl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fo=/[#\/\?@]/g,Al=/[#\?:]/g,Il=/[#\?]/g,xl=/[#\?@]/g,ta=/#/g;function or(c,k){this.h=this.g=null,this.i=c||null,this.j=!!k}function Bt(c){c.g||(c.g=new Map,c.h=0,c.i&&Xc(c.i,function(k,V){c.add(decodeURIComponent(k.replace(/\+/g," ")),V)}))}n=or.prototype,n.add=function(c,k){Bt(this),this.i=null,c=kn(this,c);var V=this.g.get(c);return V||this.g.set(c,V=[]),V.push(k),this.h+=1,this};function Bn(c,k){Bt(c),k=kn(c,k),c.g.has(k)&&(c.i=null,c.h-=c.g.get(k).length,c.g.delete(k))}function zn(c,k){return Bt(c),k=kn(c,k),c.g.has(k)}n.forEach=function(c,k){Bt(this),this.g.forEach(function(V,B){V.forEach(function(ae){c.call(k,ae,B,this)},this)},this)},n.na=function(){Bt(this);const c=Array.from(this.g.values()),k=Array.from(this.g.keys()),V=[];for(let B=0;B<k.length;B++){const ae=c[B];for(let fe=0;fe<ae.length;fe++)V.push(k[B])}return V},n.V=function(c){Bt(this);let k=[];if(typeof c=="string")zn(this,c)&&(k=k.concat(this.g.get(kn(this,c))));else{c=Array.from(this.g.values());for(let V=0;V<c.length;V++)k=k.concat(c[V])}return k},n.set=function(c,k){return Bt(this),this.i=null,c=kn(this,c),zn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[k]),this.h+=1,this},n.get=function(c,k){return c?(c=this.V(c),0<c.length?String(c[0]):k):k};function ni(c,k,V){Bn(c,k),0<V.length&&(c.i=null,c.g.set(kn(c,k),w(V)),c.h+=V.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],k=Array.from(this.g.keys());for(var V=0;V<k.length;V++){var B=k[V];const fe=encodeURIComponent(String(B)),Se=this.V(B);for(B=0;B<Se.length;B++){var ae=fe;Se[B]!==""&&(ae+="="+encodeURIComponent(String(Se[B]))),c.push(ae)}}return this.i=c.join("&")};function kn(c,k){return k=String(k),c.j&&(k=k.toLowerCase()),k}function sr(c,k){k&&!c.j&&(Bt(c),c.i=null,c.g.forEach(function(V,B){var ae=B.toLowerCase();B!=ae&&(Bn(this,B),ni(this,ae,V))},c)),c.j=k}function Jc(c,k){const V=new zi;if(f.Image){const B=new Image;B.onload=m(un,V,"TestLoadImage: loaded",!0,k,B),B.onerror=m(un,V,"TestLoadImage: error",!1,k,B),B.onabort=m(un,V,"TestLoadImage: abort",!1,k,B),B.ontimeout=m(un,V,"TestLoadImage: timeout",!1,k,B),f.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=c}else k(!1)}function kl(c,k){const V=new zi,B=new AbortController,ae=setTimeout(()=>{B.abort(),un(V,"TestPingServer: timeout",!1,k)},1e4);fetch(c,{signal:B.signal}).then(fe=>{clearTimeout(ae),fe.ok?un(V,"TestPingServer: ok",!0,k):un(V,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(ae),un(V,"TestPingServer: error",!1,k)})}function un(c,k,V,B,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),B(V)}catch{}}function Zc(){this.g=new Ks}function Rl(c,k,V){const B=V||"";try{Xr(c,function(ae,fe){let Se=ae;g(ae)&&(Se=Hs(ae)),k.push(B+fe+"="+encodeURIComponent(Se))})}catch(ae){throw k.push(B+"type="+encodeURIComponent("_badmap")),ae}}function Ir(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Ir,Ui),Ir.prototype.g=function(){return new Yi(this.l,this.j)},Ir.prototype.i=function(c){return function(){return c}}({});function Yi(c,k){it.call(this),this.D=c,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Yi,it),n=Yi.prototype,n.open=function(c,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=k,this.readyState=1,$n(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(k.body=c),(this.D||f).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var k=c.value?c.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!c.done}))&&(this.response=this.responseText+=k)}c.done?Hn(this):$n(this),this.readyState==3&&Pl(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Hn(this))},n.Qa=function(c){this.g&&(this.response=c,Hn(this))},n.ga=function(){this.g&&Hn(this)};function Hn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$n(c)}n.setRequestHeader=function(c,k){this.u.append(c,k)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],k=this.h.entries();for(var V=k.next();!V.done;)V=V.value,c.push(V[0]+": "+V[1]),V=k.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xr(c){let k="";return F(c,function(V,B){k+=B,k+=":",k+=V,k+=`\r
`}),k}function ri(c,k,V){e:{for(B in V){var B=!1;break e}B=!0}B||(V=xr(V),typeof c=="string"?V!=null&&encodeURIComponent(String(V)):ct(c,k,V))}function gt(c){it.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(gt,it);var ef=/^https?$/i,na=["POST","PUT"];n=gt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,k,V,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);k=k?k.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?Ro(this.o):Ro(qn),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(k,String(c),!0),this.B=!1}catch(fe){Xi(this,fe);return}if(c=V||"",V=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ae in B)V.set(ae,B[ae]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const fe of B.keys())V.set(fe,B.get(fe));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(V.keys()).find(fe=>fe.toLowerCase()=="content-type"),ae=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(na,k,void 0))||B||ae||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Se]of V)this.g.setRequestHeader(fe,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Uo(this),this.u=!0,this.g.send(c),this.u=!1}catch(fe){Xi(this,fe)}};function Xi(c,k){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=k,c.m=5,qo(c),wn(c)}function qo(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,at(this,"complete"),at(this,"abort"),wn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wn(this,!0)),gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ra(this):this.bb())},n.bb=function(){ra(this)};function ra(c){if(c.h&&typeof u<"u"&&(!c.v[1]||cn(c)!=4||c.Z()!=2)){if(c.u&&cn(c)==4)Fi(c.Ea,0,c);else if(at(c,"readystatechange"),cn(c)==4){c.h=!1;try{const Se=c.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var V;if(!(V=k)){var B;if(B=Se===0){var ae=String(c.D).match(Gi)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),B=!ef.test(ae?ae.toLowerCase():"")}V=B}if(V)at(c,"complete"),at(c,"success");else{c.m=6;try{var fe=2<cn(c)?c.g.statusText:""}catch{fe=""}c.l=fe+" ["+c.Z()+"]",qo(c)}}finally{wn(c)}}}}function wn(c,k){if(c.g){Uo(c);const V=c.g,B=c.v[0]?()=>{}:null;c.g=null,c.v=null,k||at(c,"ready");try{V.onreadystatechange=B}catch{}}}function Uo(c){c.I&&(f.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function cn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var k=this.g.responseText;return c&&k.indexOf(c)==0&&(k=k.substring(c.length)),$s(k)}};function ia(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bo(c){const k={};c=(c.g&&2<=cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<c.length;B++){if(T(c[B]))continue;var V=I(c[B]);const ae=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const fe=k[ae]||[];k[ae]=fe,fe.push(V)}P(k,function(B){return B.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(c,k,V){return V&&V.internalChannelParams&&V.internalChannelParams[c]||k}function oa(c){this.Aa=0,this.i=[],this.j=new zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ar("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ar("baseRetryDelayMs",5e3,c),this.cb=ar("retryDelaySeedMs",1e4,c),this.Wa=ar("forwardChannelMaxRetries",2,c),this.wa=ar("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Wi(c&&c.concurrentRequestLimit),this.Da=new Zc,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=oa.prototype,n.la=8,n.G=1,n.connect=function(c,k,V,B){St(0),this.W=c,this.H=k||{},V&&B!==void 0&&(this.H.OSID=V,this.H.OAID=B),this.F=this.X,this.I=Ll(this,null,this.W),lr(this)};function zt(c){if(zo(c),c.G==3){var k=c.U++,V=En(c.I);if(ct(V,"SID",c.K),ct(V,"RID",k),ct(V,"TYPE","terminate"),kr(c,V),k=new Un(c,c.j,k),k.L=2,k.v=ei(En(V)),V=!1,f.navigator&&f.navigator.sendBeacon)try{V=f.navigator.sendBeacon(k.v.toString(),"")}catch{}!V&&f.Image&&(new Image().src=k.v,V=!0),V||(k.g=Dl(k.j,null),k.g.ea(k.v)),k.F=Date.now(),ft(k)}Nl(c)}function Kn(c){c.g&&(sa(c),c.g.cancel(),c.g=null)}function zo(c){Kn(c),c.u&&(f.clearTimeout(c.u),c.u=null),Ko(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function lr(c){if(!_n(c.h)&&!c.s){c.s=!0;var k=c.Ga;ne||$(),ie||(ne(),ie=!0),Y.add(k,c),c.B=0}}function tf(c,k){return wl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=k.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Vn(p(c.Ga,c,k),Ol(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const ae=new Un(this,this.j,c);let fe=this.o;if(this.S&&(fe?(fe=x(fe),C(fe,this.S)):fe=this.S),this.m!==null||this.O||(ae.H=fe,fe=null),this.P)e:{for(var k=0,V=0;V<this.i.length;V++){t:{var B=this.i[V];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(k+=B,4096<k){k=V;break e}if(k===4096||V===this.i.length-1){k=V+1;break e}}k=1e3}else k=1e3;k=ii(this,ae,k),V=En(this.I),ct(V,"RID",c),ct(V,"CVER",22),this.D&&ct(V,"X-HTTP-Session-Id",this.D),kr(this,V),fe&&(this.O?k="headers="+encodeURIComponent(String(xr(fe)))+"&"+k:this.m&&ri(V,this.m,fe)),ea(this.h,ae),this.Ua&&ct(V,"TYPE","init"),this.P?(ct(V,"$req",k),ct(V,"SID","null"),ae.T=!0,Mo(ae,V,null)):Mo(ae,V,k),this.G=2}}else this.G==3&&(c?Ho(this,c):this.i.length==0||_n(this.h)||Ho(this))};function Ho(c,k){var V;k?V=k.l:V=c.U++;const B=En(c.I);ct(B,"SID",c.K),ct(B,"RID",V),ct(B,"AID",c.T),kr(c,B),c.m&&c.o&&ri(B,c.m,c.o),V=new Un(c,c.j,V,c.B+1),c.m===null&&(V.H=c.o),k&&(c.i=k.D.concat(c.i)),k=ii(c,V,1e3),V.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ea(c.h,V),Mo(V,B,k)}function kr(c,k){c.H&&F(c.H,function(V,B){ct(k,B,V)}),c.l&&Xr({},function(V,B){ct(k,B,V)})}function ii(c,k,V){V=Math.min(c.i.length,V);var B=c.l?p(c.l.Na,c.l,c):null;e:{var ae=c.i;let fe=-1;for(;;){const Se=["count="+V];fe==-1?0<V?(fe=ae[0].g,Se.push("ofs="+fe)):fe=0:Se.push("ofs="+fe);let ut=!0;for(let Ct=0;Ct<V;Ct++){let et=ae[Ct].g;const jt=ae[Ct].map;if(et-=fe,0>et)fe=Math.max(0,ae[Ct].g-100),ut=!1;else try{Rl(jt,Se,"req"+et+"_")}catch{B&&B(jt)}}if(ut){B=Se.join("&");break e}}}return c=c.i.splice(0,V),k.D=c,B}function Ji(c){if(!c.g&&!c.u){c.Y=1;var k=c.Fa;ne||$(),ie||(ne(),ie=!0),Y.add(k,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Vn(p(c.Fa,c),Ol(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Cl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Vn(p(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),Kn(this),Cl(this))};function sa(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function Cl(c){c.g=new Un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var k=En(c.qa);ct(k,"RID","rpc"),ct(k,"SID",c.K),ct(k,"AID",c.T),ct(k,"CI",c.F?"0":"1"),!c.F&&c.ja&&ct(k,"TO",c.ja),ct(k,"TYPE","xmlhttp"),kr(c,k),c.m&&c.o&&ri(k,c.m,c.o),c.L&&(c.g.I=c.L);var V=c.g;c=c.ia,V.L=1,V.v=ei(En(k)),V.m=null,V.P=!0,Js(V,c)}n.Za=function(){this.C!=null&&(this.C=null,Kn(this),$o(this),St(19))};function Ko(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Wo(c,k){var V=null;if(c.g==k){Ko(c),sa(c),c.g=null;var B=2}else if(on(c.h,k))V=k.D,Tl(c.h,k),B=1;else return;if(c.G!=0){if(k.o)if(B==1){V=k.m?k.m.length:0,k=Date.now()-k.F;var ae=c.B;B=Bi(),at(B,new Oo(B,V)),lr(c)}else Ji(c);else if(ae=k.s,ae==3||ae==0&&0<k.X||!(B==1&&tf(c,k)||B==2&&$o(c)))switch(V&&0<V.length&&(k=c.h,k.i=k.i.concat(V)),ae){case 1:Rr(c,5);break;case 4:Rr(c,10);break;case 3:Rr(c,6);break;default:Rr(c,2)}}}function Ol(c,k){let V=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(V*=2),V*k}function Rr(c,k){if(c.j.info("Error code "+k),k==2){var V=p(c.fb,c),B=c.Xa;const ae=!B;B=new Ar(B||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Qi(B,"https"),ei(B),ae?Jc(B.toString(),V):kl(B.toString(),V)}else St(2);c.G=0,c.l&&c.l.sa(k),Nl(c),zo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Nl(c){if(c.G=0,c.ka=[],c.l){const k=bl(c.h);(k.length!=0||c.i.length!=0)&&(_(c.ka,k),_(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function Ll(c,k,V){var B=V instanceof Ar?En(V):new Ar(V);if(B.g!="")k&&(B.g=k+"."+B.g),Jr(B,B.s);else{var ae=f.location;B=ae.protocol,k=k?k+"."+ae.hostname:ae.hostname,ae=+ae.port;var fe=new Ar(null);B&&Qi(fe,B),k&&(fe.g=k),ae&&Jr(fe,ae),V&&(fe.l=V),B=fe}return V=c.D,k=c.ya,V&&k&&ct(B,V,k),ct(B,"VER",c.la),kr(c,B),B}function Dl(c,k,V){if(k&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=c.Ca&&!c.pa?new gt(new Ir({eb:V})):new gt(c.pa),k.Ha(c.J),k}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function aa(){}n=aa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Go(){}Go.prototype.g=function(c,k){return new sn(c,k)};function sn(c,k){it.call(this),this.g=new oa(k),this.l=c,this.h=k&&k.messageUrlParams||null,c=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(c?c["X-WebChannel-Content-Type"]=k.messageContentType:c={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(c?c["X-WebChannel-Client-Profile"]=k.va:c={"X-WebChannel-Client-Profile":k.va}),this.g.S=c,(c=k&&k.Sb)&&!T(c)&&(this.g.m=c),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!T(k)&&(this.g.D=k,c=this.h,c!==null&&k in c&&(c=this.h,k in c&&delete c[k])),this.j=new ur(this)}S(sn,it),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){zt(this.g)},sn.prototype.o=function(c){var k=this.g;if(typeof c=="string"){var V={};V.__data__=c,c=V}else this.u&&(V={},V.__data__=Hs(c),c=V);k.i.push(new El(k.Ya++,c)),k.G==3&&lr(k)},sn.prototype.N=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,sn.aa.N.call(this)};function Ml(c){rr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var k=c.__sm__;if(k){e:{for(const V in k){c=V;break e}c=void 0}(this.i=c)&&(c=this.i,k=k!==null&&c in k?k[c]:void 0),this.data=k}else this.data=c}S(Ml,rr);function jl(){Co.call(this),this.status=1}S(jl,Co);function ur(c){this.g=c}S(ur,aa),ur.prototype.ua=function(){at(this.g,"a")},ur.prototype.ta=function(c){at(this.g,new Ml(c))},ur.prototype.sa=function(c){at(this.g,new jl)},ur.prototype.ra=function(){at(this.g,"b")},Go.prototype.createWebChannel=Go.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,KE=function(){return new Go},$E=function(){return Bi()},HE=ir,Cp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lo.NO_ERROR=0,Lo.TIMEOUT=8,Lo.HTTP_ERROR=6,Wu=Lo,gl.COMPLETE="complete",zE=gl,Po.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",it.prototype.listen=it.prototype.K,Va=Po,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,BE=gt}).apply(typeof Lu<"u"?Lu:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new em("@firebase/firestore");function gs(){return To.logLevel}function ke(n,...e){if(To.logLevel<=Ye.DEBUG){const t=e.map(hm);To.debug(`Firestore (${Vs}): ${n}`,...t)}}function Kr(n,...e){if(To.logLevel<=Ye.ERROR){const t=e.map(hm);To.error(`Firestore (${Vs}): ${n}`,...t)}}function Is(n,...e){if(To.logLevel<=Ye.WARN){const t=e.map(hm);To.warn(`Firestore (${Vs}): ${n}`,...t)}}function hm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n="Unexpected state"){const e=`FIRESTORE (${Vs}) INTERNAL ASSERTION FAILED: `+n;throw Kr(e),new Error(e)}function st(n,e){n||Ue()}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class xR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kR{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0);let i=this.i;const o=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let a=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ri,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await o(this.currentUser)})},f=h=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ri)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(st(typeof i.accessToken=="string"),new WE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new tn(e)}}class RR{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class PR{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new RR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){st(this.o===void 0);const i=a=>{a.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ke("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(st(typeof t.token=="string"),this.R=t.token,new CR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=NR(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function Ze(n,e){return n<e?-1:n>e?1:0}function xs(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Dt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Dt(0,0))}static max(){return new He(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ue(),i===void 0?i=e.length-t:i>e.length-t&&Ue(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ya.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ya?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),u=t.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yt extends Ya{construct(e,t,i){return new yt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ne(Ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new yt(t)}static emptyPath(){return new yt([])}}const LR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ya{construct(e,t,i){return new Wt(e,t,i)}static isValidIdentifier(e){return LR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Ne(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ne(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ne(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(a(),o++)}if(a(),u)throw new Ne(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(yt.fromString(e))}static fromName(e){return new je(yt.fromString(e).popFirst(5))}static empty(){return new je(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new yt(e.slice()))}}function DR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=He.fromTimestamp(i===1e9?new Dt(t+1,0):new Dt(t,i));return new Oi(o,je.empty(),e)}function MR(n){return new Oi(n.readTime,n.key,-1)}class Oi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Oi(He.min(),je.empty(),-1)}static max(){return new Oi(He.max(),je.empty(),-1)}}function jR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=je.comparator(n.documentKey,e.documentKey),t!==0?t:Ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==VR)throw n;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,i)=>{t(e)})}static reject(e){return new ge((t,i)=>{i(e)})}static waitFor(e){return new ge((t,i)=>{let o=0,a=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++a,u&&a===o&&t()},h=>i(h))}),u=!0,a===o&&t()})}static or(e){let t=ge.resolve(!1);for(const i of e)t=t.next(o=>o?ge.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new ge((i,o)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const g=h;t(e[g]).next(y=>{u[g]=y,++f,f===a&&i(u)},y=>o(y))}})}static doWhile(e,t){return new ge((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function qR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qs(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Dc.oe=-1;function Mc(n){return n==null}function fc(n){return n===0&&1/n==-1/0}function UR(n){return typeof n=="number"&&Number.isInteger(n)&&!fc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=S0(e)),e=zR(n.get(t),e);return S0(e)}function zR(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function S0(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ao(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function QE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,t){this.comparator=e,this.root=t||Kt.EMPTY}insert(e,t){return new Tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Du(this.root,e,this.comparator,!1)}getReverseIterator(){return new Du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Du(this.root,e,this.comparator,!0)}}class Du{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Kt.RED,this.left=o??Kt.EMPTY,this.right=a??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Kt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new I0(this.data.getIterator())}getIteratorFrom(e){return new I0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class I0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new er([])}unionWith(e){let t=new Mt(Wt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xs(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new YE("Invalid base64 string: "+a):a}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const HR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(n){if(st(!!n),typeof n=="string"){let e=0;const t=HR.exec(n);if(st(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Li(n){return typeof n=="string"?Gt.fromBase64String(n):Gt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function jc(n){const e=n.mapValue.fields.__previous_value__;return dm(e)?jc(e):e}function Xa(n){const e=Ni(n.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,t,i,o,a,u,f,h,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=g}}class Ja{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ja("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Di(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dm(n)?4:WR(n)?9007199254740991:KR(n)?10:11:Ue()}function Er(n,e){if(n===e)return!0;const t=Di(n);if(t!==Di(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Xa(n).isEqual(Xa(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Ni(o.timestampValue),f=Ni(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Li(o.bytesValue).isEqual(Li(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return It(o.geoPointValue.latitude)===It(a.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return It(o.integerValue)===It(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=It(o.doubleValue),f=It(a.doubleValue);return u===f?fc(u)===fc(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return xs(n.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(A0(u)!==A0(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Er(u[h],f[h])))return!1;return!0}(n,e);default:return Ue()}}function Za(n,e){return(n.values||[]).find(t=>Er(t,e))!==void 0}function ks(n,e){if(n===e)return 0;const t=Di(n),i=Di(e);if(t!==i)return Ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ze(n.booleanValue,e.booleanValue);case 2:return function(a,u){const f=It(a.integerValue||a.doubleValue),h=It(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(n,e);case 3:return x0(n.timestampValue,e.timestampValue);case 4:return x0(Xa(n),Xa(e));case 5:return Ze(n.stringValue,e.stringValue);case 6:return function(a,u){const f=Li(a),h=Li(u);return f.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let g=0;g<f.length&&g<h.length;g++){const y=Ze(f[g],h[g]);if(y!==0)return y}return Ze(f.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Ze(It(a.latitude),It(u.latitude));return f!==0?f:Ze(It(a.longitude),It(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return k0(n.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,g,y;const v=a.fields||{},p=u.fields||{},m=(f=v.value)===null||f===void 0?void 0:f.arrayValue,S=(h=p.value)===null||h===void 0?void 0:h.arrayValue,w=Ze(((g=m==null?void 0:m.values)===null||g===void 0?void 0:g.length)||0,((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0);return w!==0?w:k0(m,S)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Mu.mapValue&&u===Mu.mapValue)return 0;if(a===Mu.mapValue)return 1;if(u===Mu.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),g=u.fields||{},y=Object.keys(g);h.sort(),y.sort();for(let v=0;v<h.length&&v<y.length;++v){const p=Ze(h[v],y[v]);if(p!==0)return p;const m=ks(f[h[v]],g[y[v]]);if(m!==0)return m}return Ze(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Ue()}}function x0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ze(n,e);const t=Ni(n),i=Ni(e),o=Ze(t.seconds,i.seconds);return o!==0?o:Ze(t.nanos,i.nanos)}function k0(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=ks(t[o],i[o]);if(a)return a}return Ze(t.length,i.length)}function Rs(n){return Op(n)}function Op(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ni(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Li(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return je.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Op(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${Op(t.fields[u])}`;return o+"}"}(n.mapValue):Ue()}function Gu(n){switch(Di(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jc(n);return e?16+Gu(e):16;case 5:return 2*n.stringValue.length;case 6:return Li(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Gu(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Ao(i.fields,(a,u)=>{o+=a.length+Gu(u)}),o}(n.mapValue);default:throw Ue()}}function Np(n){return!!n&&"integerValue"in n}function pm(n){return!!n&&"arrayValue"in n}function R0(n){return!!n&&"nullValue"in n}function P0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qu(n){return!!n&&"mapValue"in n}function KR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ba(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ao(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ba(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ba(n.arrayValue.values[t]);return e}return Object.assign({},n)}function WR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Qu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(t)}setAll(e){let t=Wt.emptyPath(),i={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,i,o),i={},o=[],t=f.popLast()}u?i[f.lastSegment()]=Ba(u):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Qu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ao(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Mn(Ba(this.value))}}function XE(n){const e=[];return Ao(n.fields,(t,i)=>{const o=new Wt([t]);if(Qu(i)){const a=XE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t,i,o,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new nn(e,0,He.min(),He.min(),He.min(),Mn.empty(),0)}static newFoundDocument(e,t,i,o){return new nn(e,1,t,He.min(),i,o,0)}static newNoDocument(e,t){return new nn(e,2,t,He.min(),He.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,He.min(),He.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t){this.position=e,this.inclusive=t}}function C0(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=je.comparator(je.fromName(u.referenceValue),t.key):i=ks(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function O0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Er(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t="asc"){this.field=e,this.dir=t}}function GR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{}class Lt extends JE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new YR(e,t,i):t==="array-contains"?new ZR(e,i):t==="in"?new eP(e,i):t==="not-in"?new tP(e,i):t==="array-contains-any"?new nP(e,i):new Lt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new XR(e,i):new JR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ks(t,this.value)):t!==null&&Di(this.value)===Di(t)&&this.matchesComparison(ks(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends JE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new wr(e,t)}matches(e){return ZE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ZE(n){return n.op==="and"}function ew(n){return QR(n)&&ZE(n)}function QR(n){for(const e of n.filters)if(e instanceof wr)return!1;return!0}function Lp(n){if(n instanceof Lt)return n.field.canonicalString()+n.op.toString()+Rs(n.value);if(ew(n))return n.filters.map(e=>Lp(e)).join(",");{const e=n.filters.map(t=>Lp(t)).join(",");return`${n.op}(${e})`}}function tw(n,e){return n instanceof Lt?function(i,o){return o instanceof Lt&&i.op===o.op&&i.field.isEqual(o.field)&&Er(i.value,o.value)}(n,e):n instanceof wr?function(i,o){return o instanceof wr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,f)=>a&&tw(u,o.filters[f]),!0):!1}(n,e):void Ue()}function nw(n){return n instanceof Lt?function(t){return`${t.field.canonicalString()} ${t.op} ${Rs(t.value)}`}(n):n instanceof wr?function(t){return t.op.toString()+" {"+t.getFilters().map(nw).join(" ,")+"}"}(n):"Filter"}class YR extends Lt{constructor(e,t,i){super(e,t,i),this.key=je.fromName(i.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.matchesComparison(t)}}class XR extends Lt{constructor(e,t){super(e,"in",t),this.keys=rw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class JR extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=rw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>je.fromName(i.referenceValue))}class ZR extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pm(t)&&Za(t.arrayValue,this.value)}}class eP extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Za(this.value.arrayValue,t)}}class tP extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Za(this.value.arrayValue,t)}}class nP extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Za(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t=null,i=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.ue=null}}function N0(n,e=null,t=[],i=[],o=null,a=null,u=null){return new rP(n,e,t,i,o,a,u)}function mm(n){const e=$e(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Lp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Mc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Rs(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Rs(i)).join(",")),e.ue=t}return e.ue}function gm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!GR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!O0(n.startAt,e.startAt)&&O0(n.endAt,e.endAt)}function Dp(n){return je.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t=null,i=[],o=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function iP(n,e,t,i,o,a,u,f){return new Vc(n,e,t,i,o,a,u,f)}function iw(n){return new Vc(n)}function L0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function oP(n){return n.collectionGroup!==null}function za(n){const e=$e(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Mt(Wt.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new dc(a,i))}),t.has(Wt.keyField().canonicalString())||e.ce.push(new dc(Wt.keyField(),i))}return e.ce}function vr(n){const e=$e(n);return e.le||(e.le=sP(e,za(n))),e.le}function sP(n,e){if(n.limitType==="F")return N0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new dc(o.field,a)});const t=n.endAt?new hc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new hc(n.startAt.position,n.startAt.inclusive):null;return N0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Mp(n,e,t){return new Vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fc(n,e){return gm(vr(n),vr(e))&&n.limitType===e.limitType}function ow(n){return`${mm(vr(n))}|lt:${n.limitType}`}function vs(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>nw(o)).join(", ")}]`),Mc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Rs(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Rs(o)).join(",")),`Target(${i})`}(vr(n))}; limitType=${n.limitType})`}function qc(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):je.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of za(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,f,h){const g=C0(u,f,h);return u.inclusive?g<=0:g<0}(i.startAt,za(i),o)||i.endAt&&!function(u,f,h){const g=C0(u,f,h);return u.inclusive?g>=0:g>0}(i.endAt,za(i),o))}(n,e)}function aP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sw(n){return(e,t)=>{let i=!1;for(const o of za(n)){const a=lP(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function lP(n,e,t){const i=n.field.isKeyField()?je.comparator(e.key,t.key):function(a,u,f){const h=u.data.field(a),g=f.data.field(a);return h!==null&&g!==null?ks(h,g):Ue()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return QE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=new Tt(je.comparator);function Wr(){return uP}const aw=new Tt(je.comparator);function Fa(...n){let e=aw;for(const t of n)e=e.insert(t.key,t);return e}function lw(n){let e=aw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function mo(){return Ha()}function uw(){return Ha()}function Ha(){return new Io(n=>n.toString(),(n,e)=>n.isEqual(e))}const cP=new Tt(je.comparator),fP=new Mt(je.comparator);function Xe(...n){let e=fP;for(const t of n)e=e.add(t);return e}const hP=new Mt(Ze);function dP(){return hP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function cw(n){return{integerValue:""+n}}function pP(n,e){return UR(e)?cw(e):vm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(){this._=void 0}}function mP(n,e,t){return n instanceof pc?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&dm(a)&&(a=jc(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof el?hw(n,e):n instanceof tl?dw(n,e):function(o,a){const u=fw(o,a),f=D0(u)+D0(o.Pe);return Np(u)&&Np(o.Pe)?cw(f):vm(o.serializer,f)}(n,e)}function gP(n,e,t){return n instanceof el?hw(n,e):n instanceof tl?dw(n,e):t}function fw(n,e){return n instanceof mc?function(i){return Np(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class pc extends Uc{}class el extends Uc{constructor(e){super(),this.elements=e}}function hw(n,e){const t=pw(e);for(const i of n.elements)t.some(o=>Er(o,i))||t.push(i);return{arrayValue:{values:t}}}class tl extends Uc{constructor(e){super(),this.elements=e}}function dw(n,e){let t=pw(e);for(const i of n.elements)t=t.filter(o=>!Er(o,i));return{arrayValue:{values:t}}}class mc extends Uc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function D0(n){return It(n.integerValue||n.doubleValue)}function pw(n){return pm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function vP(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof el&&o instanceof el||i instanceof tl&&o instanceof tl?xs(i.elements,o.elements,Er):i instanceof mc&&o instanceof mc?Er(i.Pe,o.Pe):i instanceof pc&&o instanceof pc}(n.transform,e.transform)}class yP{constructor(e,t){this.version=e,this.transformResults=t}}class zr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Bc{}function mw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vw(n.key,zr.none()):new hl(n.key,n.data,zr.none());{const t=n.data,i=Mn.empty();let o=new Mt(Wt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new xo(n.key,i,new er(o.toArray()),zr.none())}}function _P(n,e,t){n instanceof hl?function(o,a,u){const f=o.value.clone(),h=j0(o.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof xo?function(o,a,u){if(!Yu(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=j0(o.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(gw(o)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function $a(n,e,t,i){return n instanceof hl?function(a,u,f,h){if(!Yu(a.precondition,u))return f;const g=a.value.clone(),y=V0(a.fieldTransforms,h,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof xo?function(a,u,f,h){if(!Yu(a.precondition,u))return f;const g=V0(a.fieldTransforms,h,u),y=u.data;return y.setAll(gw(a)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(a,u,f){return Yu(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function EP(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=fw(i.transform,o||null);a!=null&&(t===null&&(t=Mn.empty()),t.set(i.field,a))}return t||null}function M0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&xs(i,o,(a,u)=>vP(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hl extends Bc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xo extends Bc{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function gw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function j0(n,e,t){const i=new Map;st(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,f=e.data.field(a.field);i.set(a.field,gP(u,f,t[o]))}return i}function V0(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,mP(a,u,e))}return i}class vw extends Bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wP extends Bc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&_P(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=$a(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=$a(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=uw();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(o.key)?null:f;const h=mw(u,f);h!==null&&i.set(o.key,h),u.isValidDocument()||u.convertToNoDocument(He.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xe())}isEqual(e){return this.batchId===e.batchId&&xs(this.mutations,e.mutations,(t,i)=>M0(t,i))&&xs(this.baseMutations,e.baseMutations,(t,i)=>M0(t,i))}}class ym{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){st(e.mutations.length===i.length);let o=function(){return cP}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new ym(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,tt;function AP(n){switch(n){default:return Ue();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function yw(n){if(n===void 0)return Kr("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case Pt.OK:return Ee.OK;case Pt.CANCELLED:return Ee.CANCELLED;case Pt.UNKNOWN:return Ee.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return Ee.INTERNAL;case Pt.UNAVAILABLE:return Ee.UNAVAILABLE;case Pt.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case Pt.NOT_FOUND:return Ee.NOT_FOUND;case Pt.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case Pt.ABORTED:return Ee.ABORTED;case Pt.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case Pt.DATA_LOSS:return Ee.DATA_LOSS;default:return Ue()}}(tt=Pt||(Pt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=new vo([4294967295,4294967295],0);function F0(n){const e=IP().encode(n),t=new UE;return t.update(e),new Uint8Array(t.digest())}function q0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new vo([t,i],0),new vo([o,a],0)]}class _m{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new qa(`Invalid padding: ${t}`);if(i<0)throw new qa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new qa(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new qa(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=vo.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(vo.fromNumber(i)));return o.compare(xP)===1&&(o=new vo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=F0(e),[i,o]=q0(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);if(!this.de(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new _m(a,o,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.Te===0)return;const t=F0(e),[i,o]=q0(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class qa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,dl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new zc(He.min(),o,new Tt(Ze),Wr(),Xe())}}class dl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new dl(i,t,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class _w{constructor(e,t){this.targetId=e,this.me=t}}class Ew{constructor(e,t,i=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class U0{constructor(){this.fe=0,this.ge=B0(),this.pe=Gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Xe(),t=Xe(),i=Xe();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ue()}}),new dl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=B0()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,st(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kP{constructor(e){this.Le=e,this.Be=new Map,this.ke=Wr(),this.qe=ju(),this.Qe=ju(),this.Ke=new Tt(Ze)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Ue()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(Dp(a))if(i===0){const u=new je(a.path);this.We(t,u,nn.newNoDocument(u,He.min()))}else st(i===1);else{const u=this.Ze(t);if(u!==i){const f=this.Xe(e),h=f?this.et(f,e,u):1;if(h!==0){this.He(t);const g=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,f;try{u=Li(i).toUint8Array()}catch(h){if(h instanceof YE)return Is("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new _m(u,o,a)}catch(h){return Is(h instanceof qa?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.Le.nt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,u)=>{const f=this.Ye(u);if(f){if(a.current&&Dp(f.target)){const h=new je(f.target.path);this.st(h).has(u)||this.ot(u,h)||this.We(u,h,nn.newNoDocument(h,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let i=Xe();this.Qe.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const g=this.Ye(h);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new zc(e,t,this.Ke,this.ke,i);return this.ke=Wr(),this.qe=ju(),this.Qe=ju(),this.Ke=new Tt(Ze),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new U0,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Mt(Ze),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Mt(Ze),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new U0),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ju(){return new Tt(je.comparator)}function B0(){return new Tt(je.comparator)}const RP={asc:"ASCENDING",desc:"DESCENDING"},PP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CP={and:"AND",or:"OR"};class OP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jp(n,e){return n.useProto3Json||Mc(e)?e:{value:e}}function gc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ww(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function NP(n,e){return gc(n,e.toTimestamp())}function yr(n){return st(!!n),He.fromTimestamp(function(t){const i=Ni(t);return new Dt(i.seconds,i.nanos)}(n))}function Em(n,e){return Vp(n,e).canonicalString()}function Vp(n,e){const t=function(o){return new yt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Tw(n){const e=yt.fromString(n);return st(xw(e)),e}function Fp(n,e){return Em(n.databaseId,e.path)}function mp(n,e){const t=Tw(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(Sw(t))}function bw(n,e){return Em(n.databaseId,e)}function LP(n){const e=Tw(n);return e.length===4?yt.emptyPath():Sw(e)}function qp(n){return new yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Sw(n){return st(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function z0(n,e,t){return{name:Fp(n,e),fields:t.value.mapValue.fields}}function DP(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(g,y){return g.useProto3Json?(st(y===void 0||typeof y=="string"),Gt.fromBase64String(y||"")):(st(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Gt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const y=g.code===void 0?Ee.UNKNOWN:yw(g.code);return new Ne(y,g.message||"")}(u);t=new Ew(i,o,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=mp(n,i.document.name),a=yr(i.document.updateTime),u=i.document.createTime?yr(i.document.createTime):He.min(),f=new Mn({mapValue:{fields:i.document.fields}}),h=nn.newFoundDocument(o,a,u,f),g=i.targetIds||[],y=i.removedTargetIds||[];t=new Xu(g,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=mp(n,i.document),a=i.readTime?yr(i.readTime):He.min(),u=nn.newNoDocument(o,a),f=i.removedTargetIds||[];t=new Xu([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=mp(n,i.document),a=i.removedTargetIds||[];t=new Xu([],a,o,null)}else{if(!("filter"in e))return Ue();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new SP(o,a),f=i.targetId;t=new _w(f,u)}}return t}function MP(n,e){let t;if(e instanceof hl)t={update:z0(n,e.key,e.value)};else if(e instanceof vw)t={delete:Fp(n,e.key)};else if(e instanceof xo)t={update:z0(n,e.key,e.data),updateMask:$P(e.fieldMask)};else{if(!(e instanceof wP))return Ue();t={verify:Fp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const f=u.transform;if(f instanceof pc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof el)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof tl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof mc)return{fieldPath:u.field.canonicalString(),increment:f.Pe};throw Ue()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:NP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue()}(n,e.precondition)),t}function jP(n,e){return n&&n.length>0?(st(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?yr(o.updateTime):yr(a);return u.isEqual(He.min())&&(u=yr(a)),new yP(u,o.transformResults||[])}(t,e))):[]}function VP(n,e){return{documents:[bw(n,e.path)]}}function FP(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=bw(n,o);const a=function(g){if(g.length!==0)return Iw(wr.create(g,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(g){if(g.length!==0)return g.map(y=>function(p){return{field:ys(p.field),direction:BP(p.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=jp(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ct:t,parent:o}}function qP(n){let e=LP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){st(i===1);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(v){const p=Aw(v);return p instanceof wr&&ew(p)?p.getFilters():[p]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(p=>function(S){return new dc(_s(S.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(t.orderBy));let f=null;t.limit&&(f=function(v){let p;return p=typeof v=="object"?v.value:v,Mc(p)?null:p}(t.limit));let h=null;t.startAt&&(h=function(v){const p=!!v.before,m=v.values||[];return new hc(m,p)}(t.startAt));let g=null;return t.endAt&&(g=function(v){const p=!v.before,m=v.values||[];return new hc(m,p)}(t.endAt)),iP(e,o,u,a,f,"F",h,g)}function UP(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Aw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=_s(t.unaryFilter.field);return Lt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=_s(t.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_s(t.unaryFilter.field);return Lt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=_s(t.unaryFilter.field);return Lt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(n):n.fieldFilter!==void 0?function(t){return Lt.create(_s(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return wr.create(t.compositeFilter.filters.map(i=>Aw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ue()}}(t.compositeFilter.op))}(n):Ue()}function BP(n){return RP[n]}function zP(n){return PP[n]}function HP(n){return CP[n]}function ys(n){return{fieldPath:n.canonicalString()}}function _s(n){return Wt.fromServerFormat(n.fieldPath)}function Iw(n){return n instanceof Lt?function(t){if(t.op==="=="){if(P0(t.value))return{unaryFilter:{field:ys(t.field),op:"IS_NAN"}};if(R0(t.value))return{unaryFilter:{field:ys(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(P0(t.value))return{unaryFilter:{field:ys(t.field),op:"IS_NOT_NAN"}};if(R0(t.value))return{unaryFilter:{field:ys(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(t.field),op:zP(t.op),value:t.value}}}(n):n instanceof wr?function(t){const i=t.getFilters().map(o=>Iw(o));return i.length===1?i[0]:{compositeFilter:{op:HP(t.op),filters:i}}}(n):Ue()}function $P(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,t,i,o,a=He.min(),u=He.min(),f=Gt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.ht=e}}function WP(n){const e=qP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.ln=new QP}addToCollectionParentIndex(e,t){return this.ln.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(Oi.min())}updateCollectionGroup(e,t,i){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class QP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Mt(yt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Mt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(41943040,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ps(0)}static Qn(){return new Ps(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0([n,e],[t,i]){const o=Ze(n,t);return o===0?Ze(e,i):o}class YP{constructor(e){this.Gn=e,this.buffer=new Mt($0),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();$0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){qs(t)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Fs(t)}await this.Yn(3e5)})}}class JP{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ge.resolve(Dc.oe);const i=new YP(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(H0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H0):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,u,f,h,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,u=Date.now(),this.nthSequenceNumber(e,o))).next(v=>(i=v,f=Date.now(),this.removeTargets(e,i,t))).next(v=>(a=v,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(g=Date.now(),gs()<=Ye.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${v} documents in `+(g-h)+`ms
Total Duration: ${g-y}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:v})))}}function ZP(n,e){return new JP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.changes=new Io(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ge.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&$a(i.mutation,o,er.empty(),Dt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Xe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Xe()){const o=mo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=Fa();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=mo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Xe()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,o){let a=Wr();const u=Ha(),f=function(){return Ha()}();return t.forEach((h,g)=>{const y=i.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof xo)?a=a.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),$a(y.mutation,g,y.mutation.getFieldMask(),Dt.now())):u.set(g.key,er.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((g,y)=>u.set(g,y)),t.forEach((g,y)=>{var v;return f.set(g,new tC(y,(v=u.get(g))!==null&&v!==void 0?v:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Ha();let o=new Tt((u,f)=>u-f),a=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(h=>{const g=t.get(h);if(g===null)return;let y=i.get(h)||er.empty();y=f.applyToLocalView(g,y),i.set(h,y);const v=(o.get(f.batchId)||Xe()).add(h);o=o.insert(f.batchId,v)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),g=h.key,y=h.value,v=uw();y.forEach(p=>{if(!a.has(p)){const m=mw(t.get(p),i.get(p));m!==null&&v.set(p,m),a=a.add(p)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,v))}return ge.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return je.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ge.resolve(mo());let f=-1,h=a;return u.next(g=>ge.forEach(g,(y,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),a.get(y)?ge.resolve():this.remoteDocumentCache.getEntry(e,y).next(p=>{h=h.insert(y,p)}))).next(()=>this.populateOverlays(e,g,a)).next(()=>this.computeViews(e,h,g,Xe())).next(y=>({batchId:f,changes:lw(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next(i=>{let o=Fa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=Fa();return this.indexManager.getCollectionParents(e,a).next(f=>ge.forEach(f,h=>{const g=function(v,p){return new Vc(p,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next(y=>{y.forEach((v,p)=>{u=u.insert(v,p)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((h,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,nn.newInvalidDocument(y)))});let f=Fa();return u.forEach((h,g)=>{const y=a.get(h);y!==void 0&&$a(y.mutation,g,er.empty(),Dt.now()),qc(t,g)&&(f=f.insert(h,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ge.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:yr(o.createTime)}}(t)),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:WP(o.bundledQuery),readTime:yr(o.readTime)}}(t)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.overlays=new Tt(je.comparator),this.Er=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const i=mo();return ge.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),ge.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),ge.resolve()}getOverlaysForCollection(e,t,i){const o=mo(),a=t.length+1,u=new je(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,g=h.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&h.largestBatchId>i&&o.set(h.getKey(),h)}return ge.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new Tt((g,y)=>g-y);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let y=a.get(g.largestBatchId);y===null&&(y=mo(),a=a.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=mo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((g,y)=>f.set(g,y)),!(f.size()>=o)););return ge.resolve(f)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new bP(t,i));let a=this.Er.get(t);a===void 0&&(a=Xe(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.dr=new Mt(Ut.Ar),this.Rr=new Mt(Ut.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Ut(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Ut(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new je(new yt([])),i=new Ut(t,e),o=new Ut(t,e+1),a=[];return this.Rr.forEachInRange([i,o],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new je(new yt([])),i=new Ut(t,e),o=new Ut(t,e+1);let a=Xe();return this.Rr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ut(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ut{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return je.comparator(e.key,t.key)||Ze(e.br,t.br)}static Vr(e,t){return Ze(e.br,t.br)||je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Mt(Ut.Ar)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new TP(a,t,i,o);this.mutationQueue.push(u);for(const f of o)this.vr=this.vr.add(new Ut(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ge.resolve(u)}lookupMutationBatch(e,t){return ge.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ut(t,0),o=new Ut(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],u=>{const f=this.Cr(u.br);a.push(f)}),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Mt(Ze);return t.forEach(o=>{const a=new Ut(o,0),u=new Ut(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],f=>{i=i.add(f.br)})}),ge.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;je.isDocumentKey(a)||(a=a.child(""));const u=new Ut(new je(a),0);let f=new Mt(Ze);return this.vr.forEachWhile(h=>{const g=h.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(f=f.add(h.br)),!0)},u),ge.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){st(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return ge.forEach(t.mutations,o=>{const a=new Ut(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Ut(t,0),o=this.vr.firstAfterOrEqual(i);return ge.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.Nr=e,this.docs=function(){return new Tt(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ge.resolve(i?i.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let i=Wr();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():nn.newInvalidDocument(o))}),ge.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Wr();const u=t.path,f=new je(u.child("")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:g,value:{document:y}}=h.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||jR(MR(y),i)<=0||(o.has(y.key)||qc(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ge.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Ue()}Lr(e,t){return ge.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new lC(this)}getSize(e){return ge.resolve(this.size)}}class lC extends eC{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),ge.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.persistence=e,this.Br=new Io(t=>mm(t),gm),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.kr=0,this.qr=new wm,this.targetCount=0,this.Qr=Ps.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),ge.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Ps(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.Un(t),ge.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Br.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),ge.waitFor(a).next(()=>o)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return ge.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),ge.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ge.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return ge.resolve(i)}containsKey(e,t){return ge.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Dc(0),this.Ur=!1,this.Ur=!0,this.Wr=new oC,this.referenceDelegate=e(this),this.Gr=new uC(this),this.indexManager=new GP,this.remoteDocumentCache=function(o){return new aC(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new KP(t),this.jr=new rC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new sC(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ke("MemoryPersistence","Starting transaction:",e);const o=new cC(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return ge.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class cC extends FR{constructor(e){super(),this.currentSequenceNumber=e}}class Tm{constructor(e){this.persistence=e,this.Zr=new wm,this.Xr=null}static ei(e){return new Tm(e)}get ti(){if(this.Xr)return this.Xr;throw Ue()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),ge.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ge.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.ti,i=>{const o=je.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,He.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ge.or([()=>ge.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class vc{constructor(e,t){this.persistence=e,this.ri=new Io(i=>BR(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=ZP(this,t)}static ei(e,t){return new vc(e,t)}Hr(){}Jr(e){return ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return ge.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?ge.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,u=>this.ir(e,u,t).next(f=>{f||(i++,a.removeEntry(u,He.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ge.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),ge.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ge.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gu(e.data.value)),t}ir(e,t,i){return ge.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return ge.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Xe(),o=Xe();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new bm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return WI()?8:qR(rn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new fC;return this.ts(e,t,u).next(f=>{if(a.result=f,this.Hi)return this.ns(e,t,u,f.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(gs()<=Ye.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",vs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ge.resolve()):(gs()<=Ye.DEBUG&&ke("QueryEngine","Query:",vs(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(gs()<=Ye.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",vs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(t))):ge.resolve())}Xi(e,t){if(L0(t))return ge.resolve(null);let i=vr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Mp(t,null,"F"),i=vr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Xe(...a);return this.Zi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(h=>{const g=this.rs(t,f);return this.ss(t,g,u,h.readTime)?this.Xi(e,Mp(t,null,"F")):this.os(e,g,t,h)}))})))}es(e,t,i,o){return L0(t)||o.isEqual(He.min())?ge.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const u=this.rs(t,a);return this.ss(t,u,i,o)?ge.resolve(null):(gs()<=Ye.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vs(t)),this.os(e,u,t,DR(o,-1)).next(f=>f))})}rs(e,t){let i=new Mt(sw(e));return t.forEach((o,a)=>{qc(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return gs()<=Ye.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",vs(t)),this.Zi.getDocumentsMatchingQuery(e,t,Oi.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new Tt(Ze),this.cs=new Io(a=>mm(a),gm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nC(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function pC(n,e,t,i){return new dC(n,e,t,i)}async function Rw(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let h=Xe();for(const g of o){u.push(g.batchId);for(const y of g.mutations)h=h.add(y.key)}for(const g of a){f.push(g.batchId);for(const y of g.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(i,h).next(g=>({Ts:g,removedBatchIds:u,addedBatchIds:f}))})})}function mC(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,h,g,y){const v=g.batch,p=v.keys();let m=ge.resolve();return p.forEach(S=>{m=m.next(()=>y.getEntry(h,S)).next(w=>{const _=g.docVersions.get(S);st(_!==null),w.version.compareTo(_)<0&&(v.applyToRemoteDocument(w,g),w.isValidDocument()&&(w.setReadTime(g.commitVersion),y.addEntry(w)))})}),m.next(()=>f.mutationQueue.removeMutationBatch(h,v))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let h=Xe();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(h=h.add(f.batch.mutations[g].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function Pw(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function gC(n,e){const t=$e(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((y,v)=>{const p=o.get(v);if(!p)return;f.push(t.Gr.removeMatchingKeys(a,y.removedDocuments,v).next(()=>t.Gr.addMatchingKeys(a,y.addedDocuments,v)));let m=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?m=m.withResumeToken(Gt.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):y.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(y.resumeToken,i)),o=o.insert(v,m),function(w,_,E){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,m,y)&&f.push(t.Gr.updateTargetData(a,m))});let h=Wr(),g=Xe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),f.push(vC(a,u,e.documentUpdates).next(y=>{h=y.Is,g=y.Es})),!i.isEqual(He.min())){const y=t.Gr.getLastRemoteSnapshotVersion(a).next(v=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(y)}return ge.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,g)).next(()=>h)}).then(a=>(t.us=o,a))}function vC(n,e,t){let i=Xe(),o=Xe();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=Wr();return t.forEach((f,h)=>{const g=a.get(f);h.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),h.isNoDocument()&&h.version.isEqual(He.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!g.isValidDocument()||h.version.compareTo(g.version)>0||h.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):ke("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",h.version)}),{Is:u,Es:o}})}function yC(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function _C(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,ge.resolve(o)):t.Gr.allocateTargetId(i).next(u=>(o=new Si(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Up(n,e,t){const i=$e(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!qs(u))throw u;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function K0(n,e,t){const i=$e(n);let o=He.min(),a=Xe();return i.persistence.runTransaction("Execute query","readwrite",u=>function(h,g,y){const v=$e(h),p=v.cs.get(y);return p!==void 0?ge.resolve(v.us.get(p)):v.Gr.getTargetData(g,y)}(i,u,vr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>i._s.getDocumentsMatchingQuery(u,e,t?o:He.min(),t?a:Xe())).next(f=>(EC(i,aP(e),f),{documents:f,ds:a})))}function EC(n,e,t){let i=n.ls.get(e)||He.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class W0{constructor(){this.activeTargetIds=dP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wC{constructor(){this._o=new W0,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new W0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu=null;function gp(){return Vu===null?Vu=function(){return 268435456+Math.round(2147483648*Math.random())}():Vu++,"0x"+Vu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class AC extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,u){const f=gp(),h=this.No(t,i.toUriEncodedString());ke("RestConnection",`Sending RPC '${t}' ${f}:`,h,o);const g={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(g,a,u),this.Bo(t,h,g,o).then(y=>(ke("RestConnection",`Received RPC '${t}' ${f}: `,y),y),y=>{throw Is("RestConnection",`RPC '${t}' ${f} failed with error: `,y,"url: ",h,"request:",o),y})}ko(t,i,o,a,u,f){return this.Oo(t,i,o,a,u)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}No(t,i){const o=bC[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const a=gp();return new Promise((u,f)=>{const h=new BE;h.setWithCredentials(!0),h.listenOnce(zE.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Wu.NO_ERROR:const y=h.getResponseJson();ke(en,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),u(y);break;case Wu.TIMEOUT:ke(en,`RPC '${e}' ${a} timed out`),f(new Ne(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const v=h.getStatus();if(ke(en,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let p=h.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const S=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(E)>=0?E:Ee.UNKNOWN}(m.status);f(new Ne(S,m.message))}else f(new Ne(Ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ne(Ee.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{ke(en,`RPC '${e}' ${a} completed.`)}});const g=JSON.stringify(o);ke(en,`RPC '${e}' ${a} sending request:`,o),h.send(t,"POST",g,i,15)})}qo(e,t,i){const o=gp(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=KE(),f=$E(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(h.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Lo(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const y=a.join("");ke(en,`Creating RPC '${e}' stream ${o}: ${y}`,h);const v=u.createWebChannel(y,h);let p=!1,m=!1;const S=new SC({Eo:_=>{m?ke(en,`Not sending because RPC '${e}' stream ${o} is closed:`,_):(p||(ke(en,`Opening RPC '${e}' stream ${o} transport.`),v.open(),p=!0),ke(en,`RPC '${e}' stream ${o} sending:`,_),v.send(_))},Ao:()=>v.close()}),w=(_,E,T)=>{_.listen(E,O=>{try{T(O)}catch(A){setTimeout(()=>{throw A},0)}})};return w(v,Va.EventType.OPEN,()=>{m||(ke(en,`RPC '${e}' stream ${o} transport opened.`),S.So())}),w(v,Va.EventType.CLOSE,()=>{m||(m=!0,ke(en,`RPC '${e}' stream ${o} transport closed`),S.Do())}),w(v,Va.EventType.ERROR,_=>{m||(m=!0,Is(en,`RPC '${e}' stream ${o} transport errored:`,_),S.Do(new Ne(Ee.UNAVAILABLE,"The operation could not be completed")))}),w(v,Va.EventType.MESSAGE,_=>{var E;if(!m){const T=_.data[0];st(!!T);const O=T,A=(O==null?void 0:O.error)||((E=O[0])===null||E===void 0?void 0:E.error);if(A){ke(en,`RPC '${e}' stream ${o} received error:`,A);const M=A.status;let F=function(D){const C=Pt[D];if(C!==void 0)return yw(C)}(M),P=A.message;F===void 0&&(F=Ee.INTERNAL,P="Unknown error status: "+M+" with message "+A.message),m=!0,S.Do(new Ne(F,P)),v.close()}else ke(en,`RPC '${e}' stream ${o} received:`,T),S.vo(T)}}),w(f,HE.STAT_EVENT,_=>{_.stat===Cp.PROXY?ke(en,`RPC '${e}' stream ${o} detected buffering proxy`):_.stat===Cp.NOPROXY&&ke(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{S.bo()},0),S}}function vp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(n){return new OP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ke("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,i,o,a,u,f,h){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Cw(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(Kr(t.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new Ne(Ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IC extends Ow{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=DP(this.serializer,e),i=function(a){if(!("targetChange"in a))return He.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?He.min():u.readTime?yr(u.readTime):He.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=qp(this.serializer),t.addTarget=function(a,u){let f;const h=u.target;if(f=Dp(h)?{documents:VP(a,h)}:{query:FP(a,h).ct},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=ww(a,u.resumeToken);const g=jp(a,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(He.min())>0){f.readTime=gc(a,u.snapshotVersion.toTimestamp());const g=jp(a,u.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const i=UP(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=qp(this.serializer),t.removeTarget=e,this.c_(t)}}class xC extends Ow{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=jP(e.writeResults,e.commitTime),i=yr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=qp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>MP(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Ne(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,Vp(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(Ee.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.ko(e,Vp(t,i),o,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(Ee.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class RC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Kr(t),this.C_=!1):ke("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{i.enqueueAndForget(async()=>{ko(this)&&(ke("RemoteStore","Restarting streams for network reachability change."),await async function(h){const g=$e(h);g.k_.add(4),await pl(g),g.K_.set("Unknown"),g.k_.delete(4),await $c(g)}(this))})}),this.K_=new RC(i,o)}}async function $c(n){if(ko(n))for(const e of n.q_)await e(!0)}async function pl(n){for(const e of n.q_)await e(!1)}function Nw(n,e){const t=$e(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),xm(t)?Im(t):Us(t).s_()&&Am(t,e))}function Sm(n,e){const t=$e(n),i=Us(t);t.B_.delete(e),i.s_()&&Lw(t,e),t.B_.size===0&&(i.s_()?i.a_():ko(t)&&t.K_.set("Unknown"))}function Am(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Us(n).V_(e)}function Lw(n,e){n.U_.xe(e),Us(n).m_(e)}function Im(n){n.U_=new kP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Us(n).start(),n.K_.F_()}function xm(n){return ko(n)&&!Us(n).i_()&&n.B_.size>0}function ko(n){return $e(n).k_.size===0}function Dw(n){n.U_=void 0}async function CC(n){n.K_.set("Online")}async function OC(n){n.B_.forEach((e,t)=>{Am(n,e)})}async function NC(n,e){Dw(n),xm(n)?(n.K_.O_(e),Im(n)):n.K_.set("Unknown")}async function LC(n,e,t){if(n.K_.set("Online"),e instanceof Ew&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const f of a.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.B_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(i){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await yc(n,i)}else if(e instanceof Xu?n.U_.$e(e):e instanceof _w?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(He.min()))try{const i=await Pw(n.localStore);t.compareTo(i)>=0&&await function(a,u){const f=a.U_.it(u);return f.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const y=a.B_.get(g);y&&a.B_.set(g,y.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,g)=>{const y=a.B_.get(h);if(!y)return;a.B_.set(h,y.withResumeToken(Gt.EMPTY_BYTE_STRING,y.snapshotVersion)),Lw(a,h);const v=new Si(y.target,h,g,y.sequenceNumber);Am(a,v)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){ke("RemoteStore","Failed to raise snapshot:",i),await yc(n,i)}}async function yc(n,e,t){if(!qs(e))throw e;n.k_.add(1),await pl(n),n.K_.set("Offline"),t||(t=()=>Pw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ke("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await $c(n)})}function Mw(n,e){return e().catch(t=>yc(n,t,e))}async function Kc(n){const e=$e(n),t=Mi(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;DC(e);)try{const o=await yC(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,MC(e,o)}catch(o){await yc(e,o)}jw(e)&&Vw(e)}function DC(n){return ko(n)&&n.L_.length<10}function MC(n,e){n.L_.push(e);const t=Mi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function jw(n){return ko(n)&&!Mi(n).i_()&&n.L_.length>0}function Vw(n){Mi(n).start()}async function jC(n){Mi(n).w_()}async function VC(n){const e=Mi(n);for(const t of n.L_)e.g_(t.mutations)}async function FC(n,e,t){const i=n.L_.shift(),o=ym.from(i,e,t);await Mw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Kc(n)}async function qC(n,e){e&&Mi(n).f_&&await async function(i,o){if(function(u){return AP(u)&&u!==Ee.ABORTED}(o.code)){const a=i.L_.shift();Mi(i).__(),await Mw(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Kc(i)}}(n,e),jw(n)&&Vw(n)}async function Q0(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const i=ko(t);t.k_.add(3),await pl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await $c(t)}async function UC(n,e){const t=$e(n);e?(t.k_.delete(2),await $c(t)):e||(t.k_.add(2),await pl(t),t.K_.set("Unknown"))}function Us(n){return n.W_||(n.W_=function(t,i,o){const a=$e(t);return a.b_(),new IC(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:CC.bind(null,n),mo:OC.bind(null,n),po:NC.bind(null,n),R_:LC.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),xm(n)?Im(n):n.K_.set("Unknown")):(await n.W_.stop(),Dw(n))})),n.W_}function Mi(n){return n.G_||(n.G_=function(t,i,o){const a=$e(t);return a.b_(),new xC(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:jC.bind(null,n),po:qC.bind(null,n),p_:VC.bind(null,n),y_:FC.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Kc(n)):(await n.G_.stop(),n.L_.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,f=new km(e,t,u,o,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rm(n,e){if(Kr("AsyncQueue",`${e}: ${n}`),qs(n))return new Ne(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{static emptySet(e){return new Ss(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||je.comparator(t.key,i.key):(t,i)=>je.comparator(t.key,i.key),this.keyedMap=Fa(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ss)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ss;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.z_=new Tt(je.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ue():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Cs{constructor(e,t,i,o,a,u,f,h,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Cs(e,t,Ss.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class zC{constructor(){this.queries=X0(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=$e(t),a=o.queries;o.queries=X0(),a.forEach((u,f)=>{for(const h of f.J_)h.onError(i)})})(this,new Ne(Ee.ABORTED,"Firestore shutting down"))}}function X0(){return new Io(n=>ow(n),Fc)}async function HC(n,e){const t=$e(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new BC,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=Rm(u,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Pm(t)}async function $C(n,e){const t=$e(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function KC(n,e){const t=$e(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const f of u.J_)f.ta(o)&&(i=!0);u.H_=o}}i&&Pm(t)}function WC(n,e,t){const i=$e(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function Pm(n){n.X_.forEach(e=>{e.next()})}var Bp,J0;(J0=Bp||(Bp={})).na="default",J0.Cache="cache";class GC{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Cs(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Cs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.key=e}}class qw{constructor(e){this.key=e}}class QC{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Xe(),this.mutatedKeys=Xe(),this.Va=sw(e),this.ma=new Ss(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Y0,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,v)=>{const p=o.get(y),m=qc(this.query,v)?v:null,S=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;p&&m?p.data.isEqual(m.data)?S!==w&&(i.track({type:3,doc:m}),_=!0):this.ya(p,m)||(i.track({type:2,doc:m}),_=!0,(h&&this.Va(m,h)>0||g&&this.Va(m,g)<0)&&(f=!0)):!p&&m?(i.track({type:0,doc:m}),_=!0):p&&!m&&(i.track({type:1,doc:p}),_=!0,(h||g)&&(f=!0)),_&&(m?(u=u.add(m),a=w?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),i.track({type:1,doc:y})}return{ma:u,pa:i,ss:f,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((y,v)=>function(m,S){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return w(m)-w(S)}(y.type,v.type)||this.Va(y.doc,v.doc)),this.wa(i),o=o!=null&&o;const f=t&&!o?this.Sa():[],h=this.Ra.size===0&&this.current&&!o?1:0,g=h!==this.Aa;return this.Aa=h,u.length!==0||g?{snapshot:new Cs(this.query,e.ma,a,u,e.mutatedKeys,h===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Y0,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Xe(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new qw(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new Fw(i))}),t}va(e){this.da=e.ds,this.Ra=Xe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Cs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class YC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class XC{constructor(e){this.key=e,this.Fa=!1}}class JC{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Io(f=>ow(f),Fc),this.Oa=new Map,this.Na=new Set,this.La=new Tt(je.comparator),this.Ba=new Map,this.ka=new wm,this.qa={},this.Qa=new Map,this.Ka=Ps.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function ZC(n,e,t=!0){const i=Kw(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await Uw(i,e,t,!0),o}async function eO(n,e){const t=Kw(n);await Uw(t,e,!0,!1)}async function Uw(n,e,t,i){const o=await _C(n.localStore,vr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let f;return i&&(f=await tO(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&Nw(n.remoteStore,o),f}async function tO(n,e,t,i,o){n.Ua=(v,p,m)=>async function(w,_,E,T){let O=_.view.ga(E);O.ss&&(O=await K0(w.localStore,_.query,!1).then(({documents:P})=>_.view.ga(P,O)));const A=T&&T.targetChanges.get(_.targetId),M=T&&T.targetMismatches.get(_.targetId)!=null,F=_.view.applyChanges(O,w.isPrimaryClient,A,M);return e1(w,_.targetId,F.ba),F.snapshot}(n,v,p,m);const a=await K0(n.localStore,e,!0),u=new QC(e,a.ds),f=u.ga(a.documents),h=dl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),g=u.applyChanges(f,n.isPrimaryClient,h);e1(n,t,g.ba);const y=new YC(e,t,u);return n.xa.set(e,y),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),g.snapshot}async function nO(n,e,t){const i=$e(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(u=>!Fc(u,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Up(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Sm(i.remoteStore,o.targetId),zp(i,o.targetId)}).catch(Fs)):(zp(i,o.targetId),await Up(i.localStore,o.targetId,!0))}async function rO(n,e){const t=$e(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Sm(t.remoteStore,i.targetId))}async function iO(n,e,t){const i=fO(n);try{const o=await function(u,f){const h=$e(u),g=Dt.now(),y=f.reduce((m,S)=>m.add(S.key),Xe());let v,p;return h.persistence.runTransaction("Locally write mutations","readwrite",m=>{let S=Wr(),w=Xe();return h.hs.getEntries(m,y).next(_=>{S=_,S.forEach((E,T)=>{T.isValidDocument()||(w=w.add(E))})}).next(()=>h.localDocuments.getOverlayedDocuments(m,S)).next(_=>{v=_;const E=[];for(const T of f){const O=EP(T,v.get(T.key).overlayedDocument);O!=null&&E.push(new xo(T.key,O,XE(O.value.mapValue),zr.exists(!0)))}return h.mutationQueue.addMutationBatch(m,g,E,f)}).next(_=>{p=_;const E=_.applyToLocalDocumentSet(v,w);return h.documentOverlayCache.saveOverlays(m,_.batchId,E)})}).then(()=>({batchId:p.batchId,changes:lw(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,f,h){let g=u.qa[u.currentUser.toKey()];g||(g=new Tt(Ze)),g=g.insert(f,h),u.qa[u.currentUser.toKey()]=g}(i,o.batchId,t),await ml(i,o.changes),await Kc(i.remoteStore)}catch(o){const a=Rm(o,"Failed to persist write");t.reject(a)}}async function Bw(n,e){const t=$e(n);try{const i=await gC(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ba.get(a);u&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Fa=!0:o.modifiedDocuments.size>0?st(u.Fa):o.removedDocuments.size>0&&(st(u.Fa),u.Fa=!1))}),await ml(t,i,e)}catch(i){await Fs(i)}}function Z0(n,e,t){const i=$e(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,u)=>{const f=u.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const h=$e(u);h.onlineState=f;let g=!1;h.queries.forEach((y,v)=>{for(const p of v.J_)p.ea(f)&&(g=!0)}),g&&Pm(h)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function oO(n,e,t){const i=$e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),a=o&&o.key;if(a){let u=new Tt(je.comparator);u=u.insert(a,nn.newNoDocument(a,He.min()));const f=Xe().add(a),h=new zc(He.min(),new Map,new Tt(Ze),u,f);await Bw(i,h),i.La=i.La.remove(a),i.Ba.delete(e),Cm(i)}else await Up(i.localStore,e,!1).then(()=>zp(i,e,t)).catch(Fs)}async function sO(n,e){const t=$e(n),i=e.batch.batchId;try{const o=await mC(t.localStore,e);Hw(t,i,null),zw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ml(t,o)}catch(o){await Fs(o)}}async function aO(n,e,t){const i=$e(n);try{const o=await function(u,f){const h=$e(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return h.mutationQueue.lookupMutationBatch(g,f).next(v=>(st(v!==null),y=v.keys(),h.mutationQueue.removeMutationBatch(g,v))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,y,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>h.localDocuments.getDocuments(g,y))})}(i.localStore,e);Hw(i,e,t),zw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ml(i,o)}catch(o){await Fs(o)}}function zw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function Hw(n,e,t){const i=$e(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function zp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||$w(n,i)})}function $w(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Sm(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Cm(n))}function e1(n,e,t){for(const i of t)i instanceof Fw?(n.ka.addReference(i.key,e),lO(n,i)):i instanceof qw?(ke("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||$w(n,i.key)):Ue()}function lO(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ke("SyncEngine","New document in limbo: "+t),n.Na.add(i),Cm(n))}function Cm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new je(yt.fromString(e)),i=n.Ka.next();n.Ba.set(i,new XC(t)),n.La=n.La.insert(t,i),Nw(n.remoteStore,new Si(vr(iw(t.path)),i,"TargetPurposeLimboResolution",Dc.oe))}}async function ml(n,e,t){const i=$e(n),o=[],a=[],u=[];i.xa.isEmpty()||(i.xa.forEach((f,h)=>{u.push(i.Ua(h,e,t).then(g=>{var y;if((g||t)&&i.isPrimaryClient){const v=g?!g.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(g){o.push(g);const v=bm.zi(h.targetId,g);a.push(v)}}))}),await Promise.all(u),i.Ma.R_(o),await async function(h,g){const y=$e(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ge.forEach(g,p=>ge.forEach(p.Wi,m=>y.persistence.referenceDelegate.addReference(v,p.targetId,m)).next(()=>ge.forEach(p.Gi,m=>y.persistence.referenceDelegate.removeReference(v,p.targetId,m)))))}catch(v){if(!qs(v))throw v;ke("LocalStore","Failed to update sequence numbers: "+v)}for(const v of g){const p=v.targetId;if(!v.fromCache){const m=y.us.get(p),S=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(S);y.us=y.us.insert(p,w)}}}(i.localStore,a))}async function uO(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const i=await Rw(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(f=>{f.forEach(h=>{h.reject(new Ne(Ee.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ml(t,i.Ts)}}function cO(n,e){const t=$e(n),i=t.Ba.get(e);if(i&&i.Fa)return Xe().add(i.key);{let o=Xe();const a=t.Oa.get(e);if(!a)return o;for(const u of a){const f=t.xa.get(u);o=o.unionWith(f.view.fa)}return o}}function Kw(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oO.bind(null,e),e.Ma.R_=KC.bind(null,e.eventManager),e.Ma.Wa=WC.bind(null,e.eventManager),e}function fO(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aO.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return pC(this.persistence,new hC,e.initialUser,this.serializer)}ja(e){return new kw(Tm.ei,this.serializer)}za(e){return new wC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class hO extends _c{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){st(this.persistence.referenceDelegate instanceof vc);const i=this.persistence.referenceDelegate.garbageCollector;return new XP(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new kw(i=>vc.ei(i,t),this.serializer)}}class Hp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Z0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uO.bind(null,this.syncEngine),await UC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zC}()}createDatastore(e){const t=Hc(e.databaseInfo.databaseId),i=function(a){return new AC(a)}(e.databaseInfo);return function(a,u,f,h){return new kC(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,f){return new PC(i,o,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Z0(this.syncEngine,t,0),function(){return G0.p()?new G0:new TC}())}createSyncEngine(e,t){return function(o,a,u,f,h,g,y){const v=new JC(o,a,u,f,h,g);return y&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=$e(o);ke("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await pl(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Hp.provider={build:()=>new Hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=GE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{ke("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ke("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Rm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function yp(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Rw(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function t1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await mO(n);ke("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Q0(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Q0(e.remoteStore,o)),n._onlineComponents=e}async function mO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{await yp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Ee.FAILED_PRECONDITION||o.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Is("Error using user provided cache. Falling back to memory cache: "+t),await yp(n,new _c)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),await yp(n,new hO(void 0));return n._offlineComponents}async function Ww(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),await t1(n,n._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),await t1(n,new Hp))),n._onlineComponents}function gO(n){return Ww(n).then(e=>e.syncEngine)}async function vO(n){const e=await Ww(n),t=e.eventManager;return t.onListen=ZC.bind(null,e.syncEngine),t.onUnlisten=nO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=eO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rO.bind(null,e.syncEngine),t}function yO(n,e,t={}){const i=new Ri;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,g){const y=new dO({next:p=>{y.eu(),u.enqueueAndForget(()=>$C(a,v)),p.fromCache&&h.source==="server"?g.reject(new Ne(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(p)},error:p=>g.reject(p)}),v=new GC(f,y,{includeMetadataChanges:!0,ua:!0});return HC(a,v)}(await vO(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n,e,t){if(!t)throw new Ne(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _O(n,e,t,i){if(e===!0&&i===!0)throw new Ne(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function r1(n){if(!je.isDocumentKey(n))throw new Ne(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function i1(n){if(je.isDocumentKey(n))throw new Ne(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Om(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue()}function Ec(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Om(n);throw new Ne(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ne(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_O("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ne(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o1(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new IR;switch(i.type){case"firstParty":return new PR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ne(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=n1.get(t);i&&(ke("ComponentProvider","Removing Datastore"),n1.delete(t),i.terminate())}(this),Promise.resolve()}}function EO(n,e,t,i={}){var o;const a=(n=Ec(n,Wc))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let f,h;if(typeof i.mockUserToken=="string")f=i.mockUserToken,h=tn.MOCK_USER;else{f=qI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Ne(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new tn(g)}n._authCredentials=new xR(new WE(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Gc(this.firestore,e,this._query)}}class tr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class Pi extends Gc{constructor(e,t,i){super(e,t,iw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new je(e))}withConverter(e){return new Pi(this.firestore,e,this._path)}}function Nm(n,e,...t){if(n=jn(n),Qw("collection","path",e),n instanceof Wc){const i=yt.fromString(e,...t);return i1(i),new Pi(n,null,i)}{if(!(n instanceof tr||n instanceof Pi))throw new Ne(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yt.fromString(e,...t));return i1(i),new Pi(n.firestore,null,i)}}function wO(n,e,...t){if(n=jn(n),arguments.length===1&&(e=GE.newId()),Qw("doc","path",e),n instanceof Wc){const i=yt.fromString(e,...t);return r1(i),new tr(n,null,new je(i))}{if(!(n instanceof tr||n instanceof Pi))throw new Ne(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(yt.fromString(e,...t));return r1(i),new tr(n.firestore,n instanceof Pi?n.converter:null,new je(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Cw(this,"async_queue_retry"),this.fu=()=>{const i=vp();i&&ke("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=vp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=vp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Ri;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!qs(e))throw e;ke("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(i);throw Kr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=km.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Ue()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Lm extends Wc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new s1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s1(e),this._firestoreClient=void 0,await e}}}function Dm(n,e){const t=typeof n=="object"?n:nE(),i=typeof n=="string"?n:"(default)",o=nm(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=VI("firestore");a&&EO(o,...a)}return o}function Yw(n){if(n._terminated)throw new Ne(Ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||TO(n),n._firestoreClient}function TO(n){var e,t,i;const o=n._freezeSettings(),a=function(f,h,g,y){return new $R(f,h,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Gw(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new pO(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const h=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Os(Gt.fromBase64String(e))}catch(t){throw new Ne(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Os(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=/^__.*__$/;class SO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new xo(e,this.data,this.fieldMask,t,this.fieldTransforms):new hl(e,this.data,t,this.fieldTransforms)}}function Jw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class Fm{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Fm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return wc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Jw(this.Mu)&&bO.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class AO{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Hc(e)}$u(e,t,i,o=!1){return new Fm({Mu:e,methodName:t,Ku:i,path:Wt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IO(n){const e=n._freezeSettings(),t=Hc(n._databaseId);return new AO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xO(n,e,t,i,o,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,o);nT("Data must be an object, but it was:",u,i);const f=eT(i,u);let h,g;if(a.merge)h=new er(u.fieldMask),g=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const v of a.mergeFields){const p=kO(e,v,t);if(!u.contains(p))throw new Ne(Ee.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);PO(y,p)||y.push(p)}h=new er(y),g=u.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,g=u.fieldTransforms;return new SO(new Mn(f),h,g)}function Zw(n,e){if(tT(n=jn(n)))return nT("Unsupported field value:",e,n),eT(n,e);if(n instanceof Xw)return function(i,o){if(!Jw(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const f of i){let h=Zw(f,o.ku(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=jn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pP(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Dt.fromDate(i);return{timestampValue:gc(o.serializer,a)}}if(i instanceof Dt){const a=new Dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:gc(o.serializer,a)}}if(i instanceof jm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Os)return{bytesValue:ww(o.serializer,i._byteString)};if(i instanceof tr){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Em(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Vm)return function(u,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(h=>{if(typeof h!="number")throw f.qu("VectorValues must only contain numeric values.");return vm(f.serializer,h)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Om(i)}`)}(n,e)}function eT(n,e){const t={};return QE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(n,(i,o)=>{const a=Zw(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function tT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Dt||n instanceof jm||n instanceof Os||n instanceof tr||n instanceof Xw||n instanceof Vm)}function nT(n,e,t){if(!tT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Om(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function kO(n,e,t){if((e=jn(e))instanceof Mm)return e._internalPath;if(typeof e=="string")return rT(n,e);throw wc("Field path arguments must be of type string or ",n,!1,void 0,t)}const RO=new RegExp("[~\\*/\\[\\]]");function rT(n,e,t){if(e.search(RO)>=0)throw wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mm(...e.split("."))._internalPath}catch{throw wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wc(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${i}`),u&&(h+=` in document ${o}`),h+=")"),new Ne(Ee.INVALID_ARGUMENT,f+n+h)}function PO(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class CO extends iT{data(){return super.data()}}function oT(n,e){return typeof e=="string"?rT(n,e):e instanceof Mm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ne(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NO{convertValue(e,t="none"){switch(Di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ao(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>It(u.doubleValue));return new Vm(a)}convertGeoPoint(e){return new jm(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){const t=Ni(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=yt.fromString(e);st(xw(i));const o=new Ja(i.get(1),i.get(3)),a=new je(i.popFirst(5));return o.isEqual(t)||Kr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DO extends iT{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(oT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Ju extends DO{data(e={}){return super.data(e)}}class MO{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Fu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ju(this._firestore,this._userDataWriter,i.key,i,new Fu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const h=new Ju(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Fu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new Ju(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Fu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:jO(f.type),doc:h,oldIndex:g,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}class VO extends NO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Os(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function FO(n){n=Ec(n,Gc);const e=Ec(n.firestore,Lm),t=Yw(e),i=new VO(e);return OO(n._query),yO(t,n._query).then(o=>new MO(e,i,n,o))}function sT(n,e){const t=Ec(n.firestore,Lm),i=wO(n),o=LO(n.converter,e);return qO(t,[xO(IO(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,zr.exists(!1))]).then(()=>i)}function qO(n,e){return function(i,o){const a=new Ri;return i.asyncQueue.enqueueAndForget(async()=>iO(await gO(i),o,a)),a.promise}(Yw(n),e)}(function(e,t=!0){(function(o){Vs=o})(Ms),As(new _o("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),f=new Lm(new kR(i.getProvider("auth-internal")),new OR(i.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ne(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(g.options.projectId,y)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),ki(b0,"4.7.5",e),ki(b0,"4.7.5","esm2017")})();const UO=Dm(fl),BO=async(n,e,t)=>{try{const i=await sT(Nm(UO,"blogs"),{userId:n,tag:e,content:t,timestamp:new Date});console.log("Document written with ID: ",i.id)}catch(i){console.error("Error adding document: ",i)}},zO=Dm(fl),HO=async()=>{try{const n=await FO(Nm(zO,"blogs")),e=[];return n.forEach(t=>{e.push(t.data())}),e}catch(n){return console.log(n.message),null}};function $O(n){const[e,t]=he.useState(!1),[i,o]=he.useState(!1),[a,u]=he.useState(!0),[f,h]=he.useState(!1),[g,y]=he.useState(null),[v,p]=he.useState(!1),[m,S]=he.useState(null);he.useEffect(()=>{const T=AR();S(T)},[n.session]),he.useEffect(()=>{(async()=>{const O=await HO();y(O)})()},[v]);function w(){u(!a),t(!e)}function _(){h(!f),o(!i)}function E(T,O){y(T),BO(m.id,O,T),p(!v)}return W.jsx(W.Fragment,{children:W.jsxs("div",{className:`w-full flex flex-col h-screen lg:w-10/12  ${n.active?"blur-sm":"blur-none"} overflow-y-scroll hide-scrollbar`,children:[e?W.jsx(rA,{menu:a,close:f,menuclickhandler:w,searchclickhandler:_,div_text:n.div_text,div_bg:n.div_bg,count:n.count,text:n.text,updateColorSchema:n.updateColorSchema,color:n.bg_color,panel:e}):null,i?W.jsx(iA,{menu:a,close:f,menuclickhandler:w,searchclickhandler:_,div_text:n.div_text,div_bg:n.div_bg,count:n.count,text:n.text,updateColorSchema:n.updateColorSchema,color:n.bg_color,panel:e}):null,W.jsxs(mS,{children:[W.jsx(ho,{path:"/",element:W.jsx(uy,{menu:a,close:f,menuclickhandler:w,searchclickhandler:_,div_text:n.div_text,div_bg:n.div_bg})}),W.jsx(ho,{path:"/community",element:W.jsx(uy,{menu:a,close:f,menuclickhandler:w,searchclickhandler:_,div_text:n.div_text,div_bg:n.div_bg,session:n.session})}),W.jsxs(ho,{path:"/explore",element:W.jsx(xI,{menu:a,close:f,menuclickhandler:w,searchclickhandler:_,div_text:n.div_text,div_bg:n.div_bg,getBlog:E,editor:v,session:n.session}),children:[W.jsx(ho,{path:"/explore/trending",element:W.jsx(kI,{blog:g,border:n.border,session:n.session,currUser:m})}),W.jsx(ho,{path:"/explore/favourites",element:W.jsx(RI,{border:n.border,session:n.session,currUser:m})}),W.jsx(ho,{path:"/explore/yourblogs",element:W.jsx(PI,{border:n.border,session:n.session,currUser:m})})]})]})]})})}function KO(n){function e(){n.updateActive(),n.updateLogin()}function t(){n.updateActive()}return W.jsx(W.Fragment,{children:W.jsxs("div",{className:`min-h-28 w-full animate-fade-down bg-violet-500 fixed bottom-0 flex flex-col justify-center gap-2 items-center ${n.active?"blur-sm":"blur-none"}`,children:[W.jsx("p",{className:"font-mono text-sm sm:text-lg text-center content-center",children:"Join the BLOG-APP to post your thoughts,opinions and join communities to make friends "}),W.jsxs("div",{className:"flex gap-4",children:[W.jsx("button",{className:"sm:min-w-48 text-sm sm:text-lg p-1 sm:p-2 bg-violet-800 hover:bg-violet-700",onClick:e,children:" Sign me up "}),W.jsx("button",{className:"sm:min-w-48 text-sm sm:text-lg  p-1 sm:p-2 bg-violet-400 hover:bg-violet-300",onClick:t,children:" Log in "})]})]})})}function aT(n){return yn({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}function lT(n){return yn({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M0 2v13h17v-13h-17zM8.494 9.817l-6.896-6.817h13.82l-6.924 6.817zM5.755 8.516l-4.755 4.682v-9.383l4.755 4.701zM6.466 9.219l2.026 2.003 1.996-1.966 4.8 4.744h-13.677l4.855-4.781zM11.201 8.555l4.799-4.725v9.467l-4.799-4.742z"},child:[]}]})(n)}function uT(n){return yn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M2,12 L22,12 M13,3 L22,12 L13,21"},child:[]}]})(n)}const cT=qE(fl),WO=Dm(fl),GO=(n,e,t)=>{sk(cT,n,e).then(async i=>{console.log("user created"),await sT(Nm(WO,"users"),{username:t,userId:i.user.uid,blog:[],comment:[],community:[],wayOfLogin:2})}).catch(i=>{console.log(i.message)})},QO=(n,e)=>{ak(cT,n,e).then(t=>{console.log("User logged in")}).catch(t=>{console.log(t.message)})};function YO(n){const[e,t]=he.useState(!1),[i,o]=he.useState(""),[a,u]=he.useState("");function f(){n.updateLogin()}function h(){t(!e)}function g(m){o(m.target.value)}function y(m){u(m.target.value)}function v(){n.updateActive()}function p(){QO(i,a),n.updateSession(),n.updateActive(),n.updateIsLoggedIn()}return W.jsx(W.Fragment,{children:e==!1?W.jsxs("div",{className:"min-h-96 min-w-72 sm:min-w-96 bg-violet-600 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rounded-lg flex flex-col justify-center gap-4 items-center p-4",children:[W.jsx(yo,{className:"absolute top-4 right-4 text-white text-2xl cursor-pointer",onClick:v}),W.jsx("h1",{className:"font-extrabold text-xl",children:" BLOG-APP "}),W.jsx("p",{className:"font-mono text-center content-center",children:" Welcome to the corner of the internet.You'll never be bored again "}),W.jsxs("div",{className:"flex flex-col gap-2",children:[W.jsx("p",{className:"text-center content-center",children:" Login with "}),W.jsxs("button",{className:"min-w-60 bg-white text-black font-bold p-2 rounded-xl flex items-center gap-4 hover:bg-red-400",children:[" ",W.jsx(aT,{className:"text-xl"})," Continue with google "]}),W.jsxs("button",{className:"min-w-60 bg-white text-black font-bold p-2 rounded-xl flex items-center gap-4 hover:bg-red-400",children:[" ",W.jsx(N1,{className:"text-xl"})," Continue with apple "]}),W.jsxs("button",{className:"min-w-60 bg-white text-black font-bold p-2 rounded-xl flex items-center gap-4 hover:bg-red-400",onClick:h,children:[" ",W.jsx(lT,{className:"text-xl"})," Continue with Email "]})]}),W.jsx("div",{className:"text-yellow-400 hover:text-yellow-500 cursor-pointer",onClick:f,children:" Don't have account? Sign up here "})]}):W.jsxs("div",{className:"min-h-60 min-w-72 sm:min-w-96 bg-violet-600 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rounded-lg flex flex-col justify-center gap-4 items-center p-8 shadow-lg",children:[W.jsx(M1,{className:"absolute top-4 left-4 text-white text-2xl cursor-pointer",onClick:h}),W.jsx("h1",{className:"font-extrabold text-2xl text-white",children:"BLOG-APP"}),W.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full p-2 rounded-md border-2 text-black font-bold border-white focus:outline-none focus:ring-2 focus:ring-white",onChange:g}),W.jsx("input",{type:"password",placeholder:"Enter your password",className:"w-full p-2 rounded-md border-2 text-black font-bold border-white focus:outline-none focus:ring-2 focus:ring-white",onChange:y}),W.jsxs("button",{className:"w-full py-2 mt-4 bg-white text-violet-600 font-bold rounded-md hover:bg-gray-200 flex gap-1 justify-center items-center",onClick:p,children:[" Login ",W.jsx(uT,{className:"text-lg font-bold"}),"   "]})]})})}function XO(n){const[e,t]=he.useState(!1),[i,o]=he.useState(""),[a,u]=he.useState(""),[f,h]=he.useState("");function g(){n.updateLogin()}function y(){t(!e)}function v(){n.updateActive()}function p(_){o(_.target.value)}function m(_){u(_.target.value)}function S(_){h(_.target.value)}function w(){GO(i,a,f),n.updateSession(),n.updateActive(),n.updateIsLoggedIn()}return W.jsx(W.Fragment,{children:e==!1?W.jsxs("div",{className:"min-h-96 min-w-72 sm:min-w-96 bg-violet-600 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rounded-lg flex flex-col justify-center gap-4 items-center p-4",children:[W.jsx(yo,{className:"absolute top-4 right-4 text-white text-2xl cursor-pointer",onClick:v}),W.jsx("h1",{className:"font-extrabold text-xl",children:" BLOG-APP "}),W.jsx("p",{className:"font-mono text-center content-center",children:" Welcome to the corner of the internet.You'll never be bored again "}),W.jsxs("div",{className:"flex flex-col gap-2",children:[W.jsx("p",{className:"text-center content-center",children:" Sign up with "}),W.jsxs("button",{className:"min-w-60 bg-white text-black font-bold p-2 rounded-xl flex items-center gap-4 hover:bg-red-400",children:[" ",W.jsx(aT,{className:"text-xl"})," Continue with google "]}),W.jsxs("button",{className:"min-w-60 bg-white text-black font-bold p-2 rounded-xl flex items-center gap-4 hover:bg-red-400",children:[" ",W.jsx(N1,{className:"text-xl"})," Continue with apple "]}),W.jsxs("button",{className:"min-w-60 bg-white text-black font-bold p-2 rounded-xl flex items-center gap-4 hover:bg-red-400",onClick:y,children:[" ",W.jsx(lT,{className:"text-xl"})," Continue with Email "]})]}),W.jsx("div",{className:"text-yellow-400 hover:text-yellow-500 cursor-pointer",onClick:g,children:" Already have account? Login here "})]}):W.jsxs("div",{className:"min-h-60 min-w-72 sm:min-w-96 bg-violet-600 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rounded-lg flex flex-col justify-center gap-4 items-center p-8 shadow-lg",children:[W.jsx(M1,{className:"absolute top-4 left-4 text-white text-2xl cursor-pointer",onClick:y}),W.jsx("h1",{className:"font-extrabold text-2xl text-white",children:"BLOG-APP"}),W.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full p-2 rounded-md border-2 text-black font-bold border-white focus:outline-none focus:ring-2 focus:ring-white",onChange:p}),W.jsx("input",{type:"password",placeholder:"Enter your password",className:"w-full p-2 rounded-md border-2 text-black font-bold border-white focus:outline-none focus:ring-2 focus:ring-white",onChange:m}),W.jsx("input",{type:"text",placeholder:"Enter your username",className:"w-full p-2 rounded-md border-2 text-black font-bold border-white focus:outline-none focus:ring-2 focus:ring-white",onChange:S}),W.jsxs("button",{className:"w-full py-2 mt-4 bg-white text-violet-600 font-bold rounded-md hover:bg-gray-200 flex gap-1 justify-center items-center",onClick:w,children:[" Create Account ",W.jsx(uT,{className:"text-lg font-bold"}),"   "]})]})})}const a1={0:"Dark Mode",1:"Light Mode",2:"Ocean Blue",3:"Forest Green",4:"Sunset Orange",5:"Midnight Purple",6:"Rose Pink",7:"Golden Yellow",8:"Sky Blue",9:"Lime Green",10:"Crimson Red",11:"Slate Gray",12:"Coffee Brown",13:"Change Pallete"},l1={0:"bg-black text-white",1:"bg-white text-black",2:"bg-blue-500 text-white",3:"bg-green-500 text-white",4:"bg-orange-500 text-white",5:"bg-purple-500 text-white",6:"bg-pink-500 text-black",7:"bg-yellow-500 text-black",8:"bg-blue-300 text-black",9:"bg-green-300 text-black",10:"bg-red-500 text-white",11:"bg-gray-500 text-white",12:"bg-brown-500 text-white",13:"bg-slate-900 text-white"},u1={0:"border-white",1:"border-black",2:"border-blue-700",3:"border-green-700",4:"border-orange-700",5:"border-purple-700",6:"border-pink-700",7:"border-yellow-700",8:"border-blue-400",9:"border-green-400",10:"border-red-700",11:"border-gray-700",12:"border-brown-700",13:"border-white"},c1={0:"bg-blue-800",1:"bg-black",2:"bg-blue-600",3:"bg-green-600",4:"bg-orange-600",5:"bg-purple-600",6:"bg-pink-600",7:"bg-yellow-600",8:"bg-blue-400",9:"bg-green-400",10:"bg-red-600",11:"bg-gray-600",12:"bg-brown-600",13:"bg-blue-800"},f1={0:"text-blue-800",1:"text-black",2:"text-blue-700",3:"text-green-700",4:"text-orange-700",5:"text-purple-700",6:"text-pink-700",7:"text-yellow-700",8:"text-blue-400",9:"text-green-400",10:"text-red-700",11:"text-gray-700",12:"text-brown-700",13:"text-gray-100"};function JO(){const[n,e]=he.useState(13),[t,i]=he.useState(!1),[o,a]=he.useState(!0),[u,f]=he.useState(!1),[h,g]=he.useState(!1);function y(){let w=n+1;w>=12&&(w=0),e(w)}function v(){a(!o)}function p(){f(!u)}function m(){i(!t)}function S(){g(!h)}return W.jsx(W.Fragment,{children:W.jsxs("div",{className:`min-h-screen w-full sm:p-2 flex ${l1[n]}`,children:[W.jsx(nA,{text:a1[n],updateColorSchema:y,count:n,border:u1[n],div_bg:c1[n],div_text:f1[n],active:u,isLoggedIn:h,session:t,updateSession:m,updateIsLoggedIn:S}),W.jsx($O,{border:u1[n],div_bg:c1[n],div_text:f1[n],bg_color:l1[n],active:u,text:a1[n],updateColorSchema:y,count:n,session:t}),u==!0?o==!0?W.jsx(YO,{updateLogin:v,updateActive:p,updateIsLoggedIn:S,updateSession:m}):W.jsx(XO,{updateLogin:v,updateIsLoggedIn:S,updateActive:p,updateSession:m}):null,t==!1?W.jsx(KO,{updateActive:p,updateLogin:v,updateIsLoggedIn:S,active:u,updateSession:m}):null]})})}wb.createRoot(document.getElementById("root")).render(W.jsx(FS,{children:W.jsx(JO,{})}));
